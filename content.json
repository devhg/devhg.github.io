{"meta":{"title":"QXQZX's Blog","subtitle":null,"description":"çˆ±ç”Ÿæ´», çˆ±ä»£ç , è®°å½•ç”Ÿæ´», è®°å½•ä»£ç ","author":"QXQZX","url":"https://blog.ihui.ink","root":"/"},"pages":[{"title":"404 Not Found","date":"2019-12-26T11:00:26.072Z","updated":"2019-09-15T13:05:57.957Z","comments":true,"path":"404.html","permalink":"https://blog.ihui.ink/404.html","excerpt":"","text":"404 Not Foundå¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2020-06-17T14:54:20.011Z","updated":"2019-09-15T13:38:44.767Z","comments":true,"path":"categories/index.html","permalink":"https://blog.ihui.ink/categories/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2020-09-27T11:12:06.606Z","updated":"2020-09-27T11:12:06.602Z","comments":true,"path":"about/index.html","permalink":"https://blog.ihui.ink/about/index.html","excerpt":"","text":"12345678910111213141516171819202122232425262728293031323334353637&#123; name: 'QXQZX' age: 20, gender: 'ç”·', status: 'å•èº«!!!', profession: 'Student &amp; Coder', experience: '0å¹´', address: 'å±±ä¸œçœxxå¸‚', education: 'æœ¬ç§‘åœ¨æ ¡', github: 'https://github.com/QXQZX', blog: 'https://blog.hui.ink', email: 'devhui@ihui.ink', description: ' Here are some quick things about me: ğŸ”­ I'm a University Student, and I am learning programming. ğŸ§‘â€ğŸ’» Coding is my passion. ğŸ“« The best way to reach me is to send me an email. ğŸŒ± Iâ€™m currently learning Golang &amp; Java language. I hope I can be qualified them in the future. âš¡ Fun fact: My english is very !good. ', skills: [ ['Html', 'JavaScript', 'jQuery', 'CSS', 'ES6', 'Node', 'Vue'], ['Git', 'Linux'], ['Java', 'Spring', 'Golang', \"python\"], ['Mysql', 'Redis'], ['æ•°æ®ç»“æ„', 'algorithm'] ], devTools: [ ['Sublime Text', 'Visual Studio Code', 'Hbuilder'], ['Chrome DevTools'], ['Idea', 'Goland', 'pycharm'], ['Navicat', 'Terminal'], ] &#125;"},{"title":"æˆ‘çš„æœ‹å‹ä»¬","date":"2020-09-27T11:09:57.882Z","updated":"2020-09-27T11:09:57.867Z","comments":true,"path":"friends/index.html","permalink":"https://blog.ihui.ink/friends/index.html","excerpt":"","text":"è¿™é‡Œå¯ä»¥å†™å‹é“¾é¡µé¢ä¸‹æ–¹çš„æ–‡å­—å¤‡æ³¨ï¼Œä¾‹å¦‚è‡ªå·±çš„å‹é“¾è§„èŒƒã€ç¤ºä¾‹ç­‰ã€‚å„ä½å¤§ä½¬æƒ³äº¤æ¢å‹é“¾çš„è¯å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ï¼Œå¿…é¡»è¦æœ‰åç§°ã€å¤´åƒé“¾æ¥ã€å’Œè‡³å°‘ä¸€ä¸ªæ ‡ç­¾å“¦ï½åç§°ï¼š QXQZXâ€™s Blogå¤´åƒï¼š https://tva2.sinaimg.cn/large/006nIlf0ly1gam30t0eddj31o01o0h7q.jpgç½‘å€ï¼š https://ihui.inkæ ‡ç­¾ï¼š Java Go åç«¯"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2019-12-26T11:00:26.072Z","updated":"2019-09-15T13:36:23.167Z","comments":true,"path":"tags/index.html","permalink":"https://blog.ihui.ink/tags/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2019-12-26T11:00:26.070Z","updated":"2019-09-15T13:40:07.491Z","comments":true,"path":"projects/index.html","permalink":"https://blog.ihui.ink/projects/index.html","excerpt":"","text":""}],"posts":[{"title":"Goè¯­è¨€åå°„è¿›é˜¶","slug":"go-reflect-method","date":"2020-09-27T07:37:36.000Z","updated":"2020-09-27T11:09:20.781Z","comments":true,"path":"2020/09/27/go-reflect-method/","link":"","permalink":"https://blog.ihui.ink/2020/09/27/go-reflect-method/","excerpt":"Go è¯­è¨€ä¸­åå°„çš„æ“ä½œä¸»è¦å®šä¹‰åœ¨æ ‡å‡†åº“ reflect ä¸­ï¼Œåœ¨æ ‡å‡†åº“ä¸­å®šä¹‰äº†ä¸¤ç§ç±»å‹æ¥è¡¨ç°è¿è¡Œæ—¶çš„å¯¹è±¡ä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯ï¼šreflect.Valueï¼ˆåå°„å¯¹è±¡çš„å€¼ï¼‰å’Œ reflect.Typeï¼ˆåå°„å¯¹è±¡çš„ç±»å‹ï¼‰ï¼ŒGo è¯­è¨€ä¸­æ‰€æœ‰åå°„æ“ä½œéƒ½æ˜¯åŸºäºè¿™ä¸¤ä¸ªç±»å‹è¿›è¡Œçš„ã€‚","text":"Go è¯­è¨€ä¸­åå°„çš„æ“ä½œä¸»è¦å®šä¹‰åœ¨æ ‡å‡†åº“ reflect ä¸­ï¼Œåœ¨æ ‡å‡†åº“ä¸­å®šä¹‰äº†ä¸¤ç§ç±»å‹æ¥è¡¨ç°è¿è¡Œæ—¶çš„å¯¹è±¡ä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯ï¼šreflect.Valueï¼ˆåå°„å¯¹è±¡çš„å€¼ï¼‰å’Œ reflect.Typeï¼ˆåå°„å¯¹è±¡çš„ç±»å‹ï¼‰ï¼ŒGo è¯­è¨€ä¸­æ‰€æœ‰åå°„æ“ä½œéƒ½æ˜¯åŸºäºè¿™ä¸¤ä¸ªç±»å‹è¿›è¡Œçš„ã€‚ä¸€ã€åå°„å¯¹è±¡ Value å’Œ Typeæ—¢ç„¶ Go è¯­è¨€ä¸­æ‰€æœ‰åå°„æ“ä½œéƒ½æ˜¯åŸºäº Value å’Œ Type è¿›è¡Œçš„ï¼Œé‚£ä¹ˆæƒ³è¦è¿›è¡Œåå°„æ“ä½œï¼Œé¦–å…ˆå°±è¦è·å–åˆ°åå°„å¯¹è±¡çš„è¿™ä¸¤ä¸ªç±»å‹å¯¹è±¡æ‰å¯ä»¥ã€‚reflect åŒ…æä¾›äº†ä¸¤ä¸ªå‡½æ•°ï¼šreflect.ValueOf(x) å’Œ reflect.TypeOf(x)ï¼Œé€šè¿‡è¿™ä¸¤ä¸ªå‡½æ•°å°±å¯ä»¥æ–¹ä¾¿çš„è·å–åˆ°ä»»æ„ç±»å‹ï¼ˆç”¨ interface{} è¡¨ç¤ºä»»æ„ç±»å‹ï¼‰çš„ Value å¯¹è±¡å’Œ Type å¯¹è±¡ã€‚åªæœ‰å½“Xæ˜¯æŒ‡é’ˆçš„æ—¶å€™ï¼Œæ‰å¯ä»¥é€šè¿‡reflect.Valueä¿®æ”¹å®é™…å˜é‡Xçš„å€¼ï¼Œå³ï¼šè¦ä¿®æ”¹åå°„ç±»å‹çš„å¯¹è±¡å°±ä¸€å®šè¦ä¿è¯å…¶å€¼æ˜¯â€œaddressableâ€çš„ã€‚ä¾‹å¦‚ï¼š1234567u := User&#123;\"tom\", 27, \"beijing\"&#125;v := reflect.ValueOf(u)fmt.Println(v)t := reflect.TypeOf(u)fmt.Println(t)çŸ¥é“ Value å¯¹è±¡åï¼Œä¹Ÿå¯ä»¥é€šè¿‡ Value.Type() æ–¹æ³•è·å–åˆ° Type å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š12t1 := v.Type()fmt.Println(t == t1)å¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœä¸º trueã€‚é€šè¿‡ Type ç±»å‹å¯¹è±¡ä¹Ÿå¯ä»¥è·å–åˆ° Value ç±»å‹å¯¹è±¡ï¼Œä¸è¿‡æ˜¯é›¶å€¼çš„æŒ‡é’ˆã€‚ä¾‹å¦‚ï¼š12v1 := reflect.New(t)fmt.Println(v1)ç»“æœä¸ºï¼š&amp;{ 0}äºŒã€åå°„å¯¹è±¡çš„ KindKind è¡¨ç¤ºåå°„å¯¹è±¡çš„ç±»å‹ Type æ‰€ä»£è¡¨çš„å…·ä½“ç±»å‹ï¼Œé›¶å€¼è¡¨ç¤ºæ— æ•ˆçš„ç±»å‹ï¼Œå…·ä½“æœ‰ä»¥ä¸‹ç±»å‹å€¼ï¼š12345678910111213141516171819202122232425262728293031type Kind uintconst ( Invalid Kind = iota Bool Int Int8 Int16 Int32 Int64 Uint Uint8 Uint16 Uint32 Uint64 Uintptr Float32 Float64 Complex64 Complex128 Array Chan Func Interface Map Ptr Slice String Struct UnsafePointer)å¯ä»¥é€šè¿‡ Value.Kind() æˆ–è€… Type.Kind() å‡½æ•°è·å¾—ã€‚ä¾‹å¦‚ï¼š1234567// è·å– Kind ç±»å‹k := t.Kind()fmt.Println(k)k1 := v.Kind()fmt.Println(k1)fmt.Println(k == k1) // truefmt.Println()å¯ä»¥çœ‹åˆ°ä¸¤ç§æ–¹å¼è·å–çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ structã€‚ä¸‰ã€åå°„å¯¹è±¡çš„å­—æ®µåå°„èƒ½å¤Ÿæ“ä½œçš„å­—æ®µå’Œæ–¹æ³•å¿…é¡»æ˜¯å¯å¯¼å‡ºï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰çš„ã€‚åå°„å¯¹è±¡çš„å­—æ®µå€¼ä¿®æ”¹è¦é€šè¿‡è°ƒç”¨ Value ç±»å‹çš„æ–¹æ³• Elem() åè¿”å›çš„ Value å¯¹è±¡å€¼æ¥æ“ä½œã€‚Elem() æ–¹æ³•å®šä¹‰ï¼šfunc (v Value) Elem() Valueï¼Œè¿”å› v åŒ…å«çš„å€¼æˆ–æŒ‡é’ˆ v æŒ‡å‘çš„å€¼ï¼Œå¦‚æœv çš„ Kind ä¸æ˜¯ Interface æˆ– Ptrï¼Œåˆ™ä¼š panicã€‚reflect.Indirect() å‡½æ•°çš„å¦‚æœå‚æ•°æ˜¯æŒ‡é’ˆçš„ Valueï¼Œåˆ™ç›¸å½“äºè°ƒç”¨äº† Elem() æ–¹æ³•è¿”å›çš„å€¼ï¼Œå¦åˆ™è¿”å› Value è‡ªèº«å€¼ã€‚ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºåå°„å­—æ®µçš„æ“ä½œï¼Œä½¿ç”¨ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•åæ— æ³•åå°„åˆ°æ–¹æ³•ã€‚åå°„æœ€å¥½ä¼ å…¥å¯¹è±¡æŒ‡é’ˆç±»å‹12345678910111213141516171819202122232425262728293031323334353637// ä¿®æ”¹åå°„å¯¹è±¡çš„å€¼i := 20fmt.Println(\"before i =\", i)e := reflect.Indirect(reflect.ValueOf(&amp;i))// æˆ–è€…e := reflect.ValueOf(&amp;i).Elem()if e.CanSet() &#123; e.SetInt(22)&#125;fmt.Println(\"after i =\", i)// åå°„å­—æ®µæ“ä½œ// elem := reflect.Indirect(reflect.ValueOf(&amp;u))elem := reflect.ValueOf(&amp;u).Elem()for i := 0; i &lt; t.NumField(); i++ &#123; // åå°„è·å–å­—æ®µçš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šåç§°ã€Tag ç­‰ ft := t.Field(i) fmt.Println(\"field name:\", ft.Name) tag := ft.Tag fmt.Println(\"Tag:\", tag) // è·å–tag fmt.Println(\"Tag json:\", tag.Get(\"json\")) // æ ¹æ®tagåå­—è·å– // åå°„ä¿®æ”¹å­—æ®µçš„å€¼ï¼ˆï¼‰ fv := elem.Field(i) if fv.CanSet() &#123; if fv.Kind() == reflect.Int &#123; fmt.Println(\"change age to 30\") fv.SetInt(30) &#125; if fv.Kind() == reflect.String &#123; fmt.Println(\"change name to jerry\") fv.SetString(\"jerry\") &#125; &#125; fmt.Println()&#125;fmt.Println(\"after user:\", u)å››ã€åå°„å¯¹è±¡çš„æ–¹æ³•å¯ä»¥é€šè¿‡ Value çš„ Method() æ–¹æ³•æˆ– Type çš„ Method() æ–¹æ³•ï¼Œä¸¤ç§å½¢å¼è·å–å¯¹è±¡æ–¹æ³•ä¿¡æ¯è¿›è¡Œåå°„è°ƒç”¨ï¼Œç•¥æœ‰ä¸åŒï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š123456789101112131415161718192021222324252627282930313233343536// åå°„æ–¹æ³•æ“ä½œfor i := 0; i &lt; v.NumMethod(); i++ &#123; // method := t.Method(i) // è·å–æ–¹æ³•ä¿¡æ¯å¯¹è±¡ï¼Œæ–¹æ³• 1(typeåå°„) // mt := method.Type // è·å–æ–¹æ³•ä¿¡æ¯ Type å¯¹è±¡ï¼Œæ–¹æ³• 1 // fmt.Println(\"method name:\", method.Name) m := v.Method(i) // è·å–æ–¹æ³•ä¿¡æ¯å¯¹è±¡ï¼Œæ–¹æ³• 2 (valueåå°„) mt := m.Type() // è·å–æ–¹æ³•ä¿¡æ¯ Type å¯¹è±¡ï¼Œæ–¹æ³• 2 in := []reflect.Value&#123;&#125; // è·å–æ–¹æ³•å…¥å‚ç±»å‹ for j := 0; j &lt; mt.NumIn(); j++ &#123; fmt.Println(\"method in type:\", mt.In(j)) if mt.In(j).Kind() == reflect.String &#123; in = append(in, reflect.ValueOf(\"welcome\")) &#125; // æ–¹æ³• 1 è·å–çš„æ–¹æ³•ä¿¡æ¯å¯¹è±¡ä¼šæŠŠæ–¹æ³•çš„æ¥å—è€…ä¹Ÿå½“ç€å…¥å‚ä¹‹ä¸€ if mt.In(j).Name() == t.Name() &#123; in = append(in, v) &#125; &#125; // è·å–æ–¹æ³•è¿”å›ç±»å‹ for j := 0; j &lt; mt.NumOut(); j++ &#123; fmt.Println(\"method out type:\", mt.Out(j)) &#125; // åå°„æ–¹æ³•è°ƒç”¨ // out := method.Func.Call(in) // æ–¹æ³• 1 è·å–çš„ Method å¯¹è±¡åå°„è°ƒç”¨æ–¹å¼ out := m.Call(in) // æ–¹æ³• 2 è·å–çš„ Method å¯¹è±¡åå°„è°ƒç”¨æ–¹å¼ for _, o := range out &#123; fmt.Println(\"out:\", o) &#125;&#125;äº”ã€åå°„å¯¹è±¡ Value è¿˜åŸé€šè¿‡ reflect.ValueOf() å¯ä»¥æŠŠä»»æ„ç±»å‹å¯¹è±¡è½¬æ¢ä¸º Value ç±»å‹å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ Value ç±»å‹çš„æ–¹æ³• Interface() æŠŠ Value ç±»å‹å¯¹è±¡è¿˜åŸä¸ºåŸå§‹æ•°æ®ç±»å‹å¯¹è±¡ã€‚å½“æ‰§è¡Œreflect.ValueOf(interface)ä¹‹åï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªç±»å‹ä¸ºrelfect.Valueå˜é‡ï¼Œå¯ä»¥é€šè¿‡å®ƒæœ¬èº«çš„Interface()æ–¹æ³•è·å¾—æ¥å£å˜é‡çš„çœŸå®å†…å®¹ï¼Œç„¶åå¯ä»¥é€šè¿‡ç±»å‹åˆ¤æ–­è¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢ä¸ºåŸæœ‰çœŸå®ç±»å‹ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯èƒ½æ˜¯å·²çŸ¥åŸæœ‰ç±»å‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æœªçŸ¥åŸæœ‰ç±»å‹ï¼Œå› æ­¤ï¼Œä¸‹é¢åˆ†ä¸¤ç§æƒ…å†µè¿›è¡Œè¯´æ˜ã€‚å·²çŸ¥åŸæœ‰ç±»å‹12345678910111213141516171819202122232425// Value è½¬åŸå§‹ç±»å‹if u1, ok := v.Interface().(User); ok &#123; fmt.Println(\"after:\", u1.Name, u1.Age)&#125;func main() &#123; var num float64 = 1.2345 pointer := reflect.ValueOf(&amp;num) value := reflect.ValueOf(num) // å¯ä»¥ç†è§£ä¸ºâ€œå¼ºåˆ¶è½¬æ¢â€ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ—¶å€™ï¼Œè½¬æ¢çš„æ—¶å€™ï¼Œå¦‚æœè½¬æ¢çš„ç±»å‹ä¸å®Œå…¨ç¬¦åˆï¼Œåˆ™ç›´æ¥panic // Golang å¯¹ç±»å‹è¦æ±‚éå¸¸ä¸¥æ ¼ï¼Œç±»å‹ä¸€å®šè¦å®Œå…¨ç¬¦åˆ // å¦‚ä¸‹ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯*float64ï¼Œä¸€ä¸ªæ˜¯float64ï¼Œå¦‚æœå¼„æ··ï¼Œåˆ™ä¼španic convertPointer := pointer.Interface().(*float64) convertValue := value.Interface().(float64) fmt.Println(convertPointer) fmt.Println(convertValue)&#125;è¿è¡Œç»“æœï¼š0xc42000e2381.2345æœªçŸ¥åŸæœ‰ç±»å‹12345678910111213141516171819202122232425// é€šè¿‡æ¥å£æ¥è·å–ä»»æ„å‚æ•°ï¼Œç„¶åä¸€ä¸€æ­æ™“func DoFiledAndMethod(input interface&#123;&#125;) &#123; getType := reflect.TypeOf(input) fmt.Println(\"get Type is :\", getType.Name()) getValue := reflect.ValueOf(input) fmt.Println(\"get all Fields is:\", getValue) // è·å–æ–¹æ³•å­—æ®µ // 1. å…ˆè·å–interfaceçš„reflect.Typeï¼Œç„¶åé€šè¿‡NumFieldè¿›è¡Œéå† // 2. å†é€šè¿‡reflect.Typeçš„Fieldè·å–å…¶Field // 3. æœ€åé€šè¿‡Fieldçš„Interface()å¾—åˆ°å¯¹åº”çš„value for i := 0; i &lt; getType.NumField(); i++ &#123; field := getType.Field(i) value := getValue.Field(i).Interface() fmt.Printf(\"%s: %v = %v\\n\", field.Name, field.Type, value) &#125; // è·å–æ–¹æ³• // 1. å…ˆè·å–interfaceçš„reflect.Typeï¼Œç„¶åé€šè¿‡.NumMethodè¿›è¡Œéå† for i := 0; i &lt; getType.NumMethod(); i++ &#123; m := getType.Method(i) fmt.Printf(\"%s: %v\\n\", m.Name, m.Type) &#125;&#125;å‚è€ƒæ–‡ç« Golangçš„åå°„reflectæ·±å…¥ç†è§£å’Œç¤ºä¾‹Golang åå°„ä½¿ç”¨æ€»ç»“","categories":[{"name":"GoåŸºç¡€","slug":"GoåŸºç¡€","permalink":"https://blog.ihui.ink/categories/GoåŸºç¡€/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://blog.ihui.ink/tags/Golang/"}]},{"title":"ã€è½¬ã€‘golangä»£ç é£æ ¼","slug":"golang-code-style","date":"2020-08-09T15:14:49.000Z","updated":"2020-08-09T15:19:39.990Z","comments":true,"path":"2020/08/09/golang-code-style/","link":"","permalink":"https://blog.ihui.ink/2020/08/09/golang-code-style/","excerpt":"å¦‚ä½•å†™å‡ºæ‰©å±•æ€§å¥½çš„ä»£ç ï¼Ÿè¿™æ˜¯æˆ‘å·¥ä½œæœ€è¿‘åŠå¹´æ¥ä¸€ç›´åœ¨è€ƒè™‘çš„é—®é¢˜ã€‚ä¸ç®¡è‡ªå·±åšä¸€å¥—ç³»ç»Ÿè¿˜æ˜¯æ¥æ‰‹åˆ«äººçš„é¡¹ç›®ï¼Œåªè¦ä½ çš„é¡¹ç›®éœ€è¦å’Œåˆ«äººäº¤äº’ï¼Œè¿™ä¸ªé—®é¢˜éƒ½æ˜¯éœ€è¦è€ƒè™‘çš„ã€‚æˆ‘ä»¬ä»Šå¤©åªè¯´è¯´å¦‚ä½•å†™å‡ºæ‰©å±•æ€§å¥½çš„å‡½æ•°ä»£ç ã€‚ä»£ç éƒ½ä»¥golangç¤ºä¾‹ã€‚","text":"å¦‚ä½•å†™å‡ºæ‰©å±•æ€§å¥½çš„ä»£ç ï¼Ÿè¿™æ˜¯æˆ‘å·¥ä½œæœ€è¿‘åŠå¹´æ¥ä¸€ç›´åœ¨è€ƒè™‘çš„é—®é¢˜ã€‚ä¸ç®¡è‡ªå·±åšä¸€å¥—ç³»ç»Ÿè¿˜æ˜¯æ¥æ‰‹åˆ«äººçš„é¡¹ç›®ï¼Œåªè¦ä½ çš„é¡¹ç›®éœ€è¦å’Œåˆ«äººäº¤äº’ï¼Œè¿™ä¸ªé—®é¢˜éƒ½æ˜¯éœ€è¦è€ƒè™‘çš„ã€‚æˆ‘ä»¬ä»Šå¤©åªè¯´è¯´å¦‚ä½•å†™å‡ºæ‰©å±•æ€§å¥½çš„å‡½æ•°ä»£ç ã€‚ä»£ç éƒ½ä»¥golangç¤ºä¾‹ã€‚åŸæ–‡ï¼šhttps://zhuanlan.zhihu.com/p/166698242å‡½æ•°å£°æ˜å‡½æ•°å£°æ˜é¦–å…ˆæ˜¯å‡½æ•°åå­—è¦å…·æœ‰è‡ªè§£é‡Šæ€§ï¼Œè¿™ä¸ªè¦è¯´åˆ°ä»£ç æ³¨é‡Šäº†ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚é™¤äº†å‡½æ•°å£°æ˜å¤–ï¼Œè¿˜æœ‰å‡½æ•°çš„å½¢å‚å®šä¹‰ã€‚è¿™é‡Œä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´ä¸€ä¸‹æ‰©å±•æ€§å¥½çš„å‡½æ•°çš„å‚æ•°åº”è¯¥å¦‚ä½•å®šä¹‰ã€‚1. æ™®é€šå‡½æ•°å‡è®¾æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç®€å•çš„serverï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·å®šä¹‰ï¼Œaddrè¡¨ç¤ºserverå¯åŠ¨åœ¨å“ªä¸ªç«¯å£ä¸Šã€‚1func NewServer(addr string)ç¬¬ä¸€æœŸçš„éœ€æ±‚å¾ˆç®€å•ï¼Œå°±ä¸Šé¢è¿™äº›è¶³å¤Ÿæ»¡è¶³äº†ã€‚é¡¹ç›®ä¸Šçº¿è·‘äº†ä¸€æ®µæ—¶é—´å‘ç°ï¼Œç”±äºè¿æ¥æ²¡æœ‰è®¾ç½®è¶…æ—¶ï¼Œå¾ˆå¤šè¿æ¥ä¸€ç›´å¾—ä¸åˆ°é‡Šæ”¾ï¼ˆå¼‚å¸¸æƒ…å†µï¼‰ï¼Œä¸¥é‡å½±å“æœåŠ¡å™¨æ€§èƒ½ã€‚å¥½ï¼Œé‚£ç¬¬äºŒæœŸæˆ‘ä»¬åŠ ä¸ªtimeoutã€‚1func NewServer(addr string, timeout time.Duration)è¿™ä¸ªæ—¶å€™å°´å°¬çš„æƒ…å†µå‡ºç°äº†ï¼Œè°ƒç”¨ä½ ä»£ç çš„æ‰€æœ‰äººéƒ½éœ€è¦æ”¹åŠ¨ä»£ç ã€‚è€Œä¸”è¿™åªæ˜¯ä¸€ä¸ªæ”¹åŠ¨ï¼Œä¹‹åå¦‚æœè¦æ”¯æŒtlsï¼Œé‚£ä¹ˆåˆå¾—æ”¹åŠ¨ä¸€æ¬¡ã€‚2. ä¸å®šå‚æ•°è§£å†³ä¸Šé¢çš„çª˜å¢ƒçš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä¸å®šå‚æ•°ã€‚ä¸‹é¢å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ä¸å®šå‚æ•° , golangä¹Ÿæ˜¯æ”¯æŒä¸å®šå‚æ•°çš„ï¼Œæ¯”å¦‚æˆ‘è¦å®ç°ä¸€ä¸ªæ•´æ•°åŠ æ³•ã€‚1234567891011func Add(list ...int) int &#123; sum := 0 for _, x := range list &#123; sum += x &#125; return sum&#125;func main() &#123; fmt.Println(Add(1,2,3)) //æœ€ç»ˆå€¼ï¼š6&#125;ä¸Šé¢æ˜¯æ‰€æœ‰çš„å˜å‚éƒ½æ˜¯åŒä¸€ç§ç±»å‹ï¼Œå¦‚æœæ˜¯ä¸åŒçš„ç±»å‹å¯ä»¥ä½¿ç”¨interfaceï¼Œä½¿ç”¨åå°„æ¥åˆ¤æ–­å…¶ç±»å‹ã€‚1234567func Varargs(list ...interface&#123;&#125;) &#123; for _, x := range list &#123; if reflect.ValueOf(x).Kind() == int &#123; //todo &#125; &#125;&#125;ä½†æ˜¯å¦‚æœæ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å‡½æ•°çš„è¯ï¼Œç±»å‹é€šå¸¸æ˜¯çŸ¥é“çš„ï¼Œä¹Ÿå°±ä¸éœ€è¦ä¸Šé¢é‚£ä¹ˆéº»çƒ¦åœ°å†å»åˆ¤æ–­ä¸€æ¬¡ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œç±»å‹è½¬æ¢ã€‚12345func Varargs(list ...interface&#123;&#125;) &#123; //é€šè¿‡interface.(type)å°†interfaceç±»å‹è½¬æ¢æˆtypeç±»å‹ fmt.Println(list[0].(int)) fmt.Println(list[1].(string))&#125;ä½†æ˜¯è¿™ä¹ˆåšæ¯”è¾ƒå±é™©ï¼Œä½¿ç”¨çš„æ—¶å€™å¿…é¡»ä¸¥æ ¼æŒ‰ç…§è¯´æ˜è¿›è¡Œä¼ å‚ï¼Œä»»ä½•ä¸€ç§ç±»å‹ä¸æ­£ç¡®ï¼Œç¨‹åºå°†panicã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä¸å®šå‚æ•°ä¸èƒ½ä¸ºç©ºï¼Œæˆ–è€…è¯´ä¼ å…¥çš„å®å‚å¿…é¡»æ˜¯å½¢å‚çš„ä¸€ä¸ªä¸¥æ ¼å‰ç¼€ã€‚3. å°è£…æˆ structç›¸æ¯”äºä¸Šé¢ä¸¤ç§æ–¹æ³•æ›´å¥½ä¸€ç‚¹çš„æ˜¯æŠŠæ‰€æœ‰å‚æ•°å°è£…æˆstructï¼Œè¿™æ ·å‡½æ•°å£°æ˜çœ‹èµ·æ¥å¾ˆç®€å•ã€‚1234567type Param struct &#123; x int y string ...&#125;func Varargs(p *Param) &#123;&#125;å°è£…æˆstructçš„æ–¹å¼åº”è¯¥æ˜¯ä¸€ç§å¯¹å‚æ•°æ¯”è¾ƒå¥½çš„ç»„ç»‡å½¢å¼ï¼Œä¹‹åå‡½æ•°ä¸ç®¡æ€ä¹ˆæ‰©å¼ ï¼Œåªéœ€è¦å¢åŠ structæˆå‘˜å°±å¥½ï¼Œè€Œä¸éœ€è¦æ”¹å˜å‡½æ•°å£°æ˜äº†ã€‚è€Œstructçš„åå¤„åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿæ¯”å¦‚ä¸Šé¢çš„Param.xæ˜¯intå‹ï¼Œå¦‚æœæˆ‘ä»¬ä¸è®¾ç½®xï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ ·ä¼ å‚.12345p := &amp;Param&#123; y: \"hello\",&#125;Varargs(p)è¿™ä¸ªæ—¶å€™Varargsçœ‹åˆ°çš„Param.xçš„0ã€‚ä½ è®©Varargsæ€ä¹ˆæƒ³ï¼Ÿç”¨æˆ·æ²¡æœ‰è®¾ç½®xï¼ˆå¿˜è®°è®¾ç½®ï¼Ÿæƒ³ä½¿ç”¨é»˜è®¤å€¼ï¼Ÿï¼‰ï¼Ÿç”¨æˆ·æŠŠxè®¾ç½®æˆ0ï¼Ÿè¿™çœŸçš„æœ‰ç‚¹å°´å°¬ã€‚ä½†æ˜¯è¿™ä¸ªé—®é¢˜è¿˜æ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ï¼Ÿ1.é¿å¼€é»˜è®¤å€¼ï¼Œintå‹ä¸ä½¿ç”¨0ï¼Œstringç±»å‹ä¸ä½¿ç”¨â€â€ã€‚2.ä½¿ç”¨æŒ‡é’ˆï¼Œç”¨æˆ·æ²¡æœ‰è®¾ç½®çš„æ—¶å€™x==nilï¼Œè®¾ç½®çš„æ—¶å€™å¯¹xè§£å¼•ç”¨(*x)å–å¾—å€¼ã€‚è¿™ä¸¤ç§æ–¹å¼ä¸ç®¡æ€ä¹ˆæ¥çœ‹ï¼Œéƒ½æ˜¯ååˆ†çš„åäººç±»ï¼Œä¸€ç‚¹ä¹Ÿä¸å¥½ã€‚4. optionoptionçš„æ–¹å¼çš„æœ€æ—©æ˜¯ç”±Rob Pikeen.wikipedia.orgæå‡ºï¼ŒRob Pikeå°±ä¸åšä»‹ç»äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹ä»–çš„wikiè¿æ¥ã€‚æˆ‘ä»¬æŠŠoptionå‚æ•°å°è£…æˆä¸€ä¸ªå‡½æ•°ä¼ ç»™æˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°ï¼Œæ‰€æœ‰ç›¸å…³çš„å·¥ä½œç”±å‡½æ•°æ¥åšã€‚ä¸¾ä¸ªæ —å­ï¼Œæˆ‘ä»¬ç°åœ¨è¦å†™ä¸ªServerï¼Œtimeoutå’Œtlséƒ½æ˜¯å¯é€‰é¡¹ï¼Œé‚£ä¹ˆå¯ä»¥åƒä¸‹é¢è¿™ä¹ˆæ¥å†™(æ‰€æœ‰error handleéƒ½çœå»)ã€‚123456789101112131415161718192021222324252627func NewServer(addr string, options ...func(*Server)) (*Server, error) &#123; srv := &amp;Server&#123; Addr: addr, &#125; for _, option := range options &#123; option(srv) &#125; return srv&#125;func timeout(d time.Duration) func(*Server) &#123; return func(srv *Server) &#123; srv.timeout = d &#125;&#125;func tls(c *config) func(*Server) &#123; return func(srv *Server) &#123; Tls := loadConfig(c) srv.tls = Tls &#125;&#125;//ä½¿ç”¨src, err = NewServer(\"localhost:8080\", timeout(1), tls(path/to/cert))è¿™ä¹ˆå†™çš„å¥½å¤„ä¸€ç›®äº†ç„¶ï¼Œæ¨ªå‘æ‰©å±•èµ·æ¥ç‰¹åˆ«æ–¹ä¾¿ï¼Œè€Œä¸”è§£å†³ä¸Šé¢çš„æåˆ°çš„åŸºæœ¬æ‰€æœ‰çš„é—®é¢˜ã€‚å‡½æ•°å®ç°æ­£å¸¸å•ä¸€åŠŸèƒ½çš„å‡½æ•°å®ç°æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ã€‚å¦‚æœéœ€è¦æ ¹æ®ä¸åŒçš„æ¡ä»¶æ¥æ‰§è¡Œä¸åŒçš„è¡Œä¸ºçš„è¯ï¼Œè¿™ä¸ªåº”è¯¥æ€ä¹ˆåšçš„ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ç°åœ¨åœ¨å…¬å¸åšä¸€ä¸ªä¼˜æƒ åˆ¸çš„é¡¹ç›®ï¼Œç”¨æˆ·é¢†åˆ¸å’Œä½¿ç”¨åˆ¸çš„æ—¶å€™æœ‰ä¸€äº›è§„åˆ™ï¼Œæ¯”å¦‚æ¯äººæ¯æ—¥é™é¢†3å¼ ç­‰ã€‚è¿™äº›è§„åˆ™è‚¯å®šä¸ä¼šä¸€æˆä¸å˜ï¼Œä¹Ÿè®¸ç¬¬ä¸€æœŸæ˜¯2ä¸ªè§„åˆ™ï¼Œç¬¬äºŒæœŸå°±å˜æˆ4ä¸ªè§„åˆ™äº†ã€‚æ­£å¸¸å¯èƒ½ä¼šåƒä¸‹é¢è¿™ä¹ˆå†™ã€‚123456789func ruleVerify() &#123; //process if cond1 &#123; // &#125; else if cond2 &#123; // &#125; ...&#125;æˆ–è€…ç”¨switch-caseã€‚è™½ç„¶å¾ˆå¤šäººè¯´switch-caseå†™èµ·æ¥è¦æ¯”if-elseæ›´å¥½çœ‹æˆ–è€…é«˜ç«¯ä¸€ç‚¹ï¼Œå…¶å®æˆ‘å¹¶ä¸è¿™ä¹ˆè§‰å¾—ã€‚if-elseå’Œswitch-caseæœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰©å±•çš„æ—¶å€™å¦‚æœéœ€è¦å¤šåŠ ä¸€ä¸ªæ¡ä»¶åˆ†æ”¯ï¼Œè¿™ä¸¤ç§æ–¹æ³•æ”¹åŠ¨èµ·æ¥éƒ½æ¯”è¾ƒä¸‘ã€‚ä¸‹é¢è¯´è¯´æˆ‘çš„è§£å†³æ–¹æ¡ˆã€‚1. ç±»å·¥å‚æ¨¡å¼ç†Ÿæ‚‰è®¾è®¡æ¨¡å¼çš„è‚¯å®šå¯¹å·¥å‚æ¨¡å¼è‚¯å®šä¸ä¼šé™Œç”Ÿã€‚å·¥å‚æ¨¡å¼çš„æ„æ€æ˜¯é€šè¿‡å‚æ•°æ¥å†³å®šç”Ÿæˆä»€ä¹ˆæ ·çš„å¯¹è±¡å®ä¾‹ã€‚æˆ‘è¿™é‡Œå¹¶ä¸æ˜¯è¯´ç›´æ¥ä½¿ç”¨å·¥å‚æ¨¡å¼è€Œæ˜¯ä½¿ç”¨å·¥å‚æ¨¡å¼è¿™ç§æ€æƒ³æ¥ç¼–ç¨‹ã€‚ä¸¾ä¸ªå…¸å‹çš„ä¾‹å­ï¼Œwebserverçš„routerå®ç°æ–¹å¼ï¼šæ ¹æ®ä¸åŒçš„è·¯ç”±ï¼ˆ/fooï¼Œ/barï¼‰å¯¹åº”åˆ°ä¸åŒçš„handlerã€‚å…‰è¿™ä¹ˆè¯´ï¼Œå¯èƒ½å¾ˆå¤šäººè¿˜æ˜¯ä¸æ˜ç™½è¿™ç§æ–¹å¼çš„æ‰©å±•æ€§å¥½åœ¨ä»€ä¹ˆåœ°æ–¹ã€‚ä¸‹é¢ä»0åˆ°1æ¥æ„Ÿå—ä¸€ä¸‹ã€‚é¦–å…ˆæ ¹æ®ä¸åŒçš„æ¡ä»¶å¯¹åº”ä¸åŒçš„handlerï¼Œè¿™ä¸ªæœ€ç®€å•çš„æ˜¯ä½¿ç”¨Mapæ¥å®ç°ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯mapé‡Œé¢å­˜ä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœæˆ‘è¦å¢åŠ ä¸€ä¸ªæ¡ä»¶ä»¥åŠå¯¹åº”çš„å¤„ç†å‡½æ•°çš„æ—¶å€™æ€ä¹ˆåšå‘¢ï¼Ÿ123456789101112131415161718//å­˜æ”¾ &lt;cond, handler&gt; å¯¹åº”å…³ç³»var mux map[string]func(option *Option) error//æ³¨å†Œhandlerfunc register(key string, f func(option *Option) error) &#123; if mux == nil &#123; mux = make(map[string]func(option *Option) error) &#125; if _, exist := mux[key]; exist &#123; return errors.New(\"handler exist\") &#125; mux[key] = f&#125;//factoryfunc factory(option *Option) error &#123; return mux[option.Key](option)&#125;ä»£ç ä¸»è¦åˆ†ä¸‰ä¸ªéƒ¨åˆ†ï¼š1.muxç”¨æ¥å­˜æ”¾condå’Œhandlerçš„å¯¹åº”å…³ç³»ï¼›2.registerç”¨æ¥æ³¨å†Œæ–°çš„handler; 3.æä¾›ç»™å¤–éƒ¨çš„ä»£ç å…¥å£ã€‚ä¸‹é¢åˆ°äº†æœ€æ ¸å¿ƒçš„é—®é¢˜äº†ï¼Œå¦‚æœæŸä¸€å¤©PMå’Œä½ è¯´ï¼šå¤§ç¥ï¼Œæˆ‘ä»¬ç°åœ¨è¦æ–°åŠ ä¸€ä¸ªç”¨æˆ·ç”¨åˆ¸è§„åˆ™ã€‚è¿™ä¸ªæ—¶å€™ä½ å°±å¯ä»¥å’Œå¥¹è¯´ï¼šæ²¡é—®é¢˜ã€‚ä»£ç ä¸Šçš„æ”¹åŠ¨åªéœ€è¦å®ç°ä¸€ä¸ªæ–°å¢è§„åˆ™çš„å®ç°å‡½æ•°ï¼ŒåŒæ—¶è°ƒç”¨ä¸€ä¸‹registerå³å¯ã€‚æ€»ç»“æˆ‘ç»å¸¸åœ¨æƒ³ä»€ä¹ˆæ ·çš„ä»£ç æ‰æ˜¯å¥½çš„ä»£ç ï¼Ÿæˆ‘ç›¸ä¿¡æ¯ä¸ªäººéƒ½ä¼šæœ‰ä¸åŒçš„ç­”æ¡ˆã€‚ä»æˆ‘ä¸ªäººè§’åº¦æ¥çœ‹ï¼Œæ‰©å±•æ€§ç¡®å®æ˜¯è¡¡é‡å¥½ä»£ç çš„ä¸€ä¸ªå¾ˆé‡è¦çš„æŒ‡æ ‡ã€‚åœ¨åšä¸šåŠ¡ç³»ç»Ÿçš„æ—¶å€™ç»å¸¸ä¸ºäº†èµ¶è¿›åº¦å†™çš„ä»£ç è€Œå¿½ç•¥æ‰©å±•æ€§ï¼Œæœ€åéšç€ç‰ˆæœ¬è¿­ä»£å‘ç°ä¹‹å‰çš„ä»£ç æ¡†æ¶è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œä¸å¾—ä¸è¿›è¡Œé‡æ„ã€‚é‡æ„ï¼Œä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´å‰é¢èµ¶è¿›åº¦å°‘èŠ±çš„æ—¶é—´æœ€åéƒ½ä¼šèŠ±å‡ å€çš„æ—¶é—´.","categories":[{"name":"GoåŸºç¡€","slug":"GoåŸºç¡€","permalink":"https://blog.ihui.ink/categories/GoåŸºç¡€/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://blog.ihui.ink/tags/Golang/"}]},{"title":"Go æ–­è¨€çš„å®ç”¨","slug":"go-assertion","date":"2020-08-01T00:05:56.000Z","updated":"2020-08-01T01:03:18.544Z","comments":true,"path":"2020/08/01/go-assertion/","link":"","permalink":"https://blog.ihui.ink/2020/08/01/go-assertion/","excerpt":"","text":"golangçš„è¯­è¨€ä¸­æä¾›äº†æ–­è¨€çš„åŠŸèƒ½ã€‚golangä¸­çš„æ‰€æœ‰ç¨‹åºéƒ½å®ç°äº†interface{}çš„æ¥å£ï¼Œè¿™æ„å‘³ç€ï¼Œæ‰€æœ‰çš„ç±»å‹å¦‚string,int,int64ç”šè‡³æ˜¯è‡ªå®šä¹‰çš„structç±»å‹éƒ½å°±æ­¤æ‹¥æœ‰äº†interface{}çš„æ¥å£ï¼Œè¿™ç§åšæ³•å’Œjavaä¸­çš„Objectç±»å‹æ¯”è¾ƒç±»ä¼¼ã€‚é‚£ä¹ˆåœ¨ä¸€ä¸ªæ•°æ®é€šè¿‡func funcName(interface{})çš„æ–¹å¼ä¼ è¿›æ¥çš„æ—¶å€™ï¼Œä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªå‚æ•°è¢«è‡ªåŠ¨çš„è½¬ä¸ºinterface{}çš„ç±»å‹ï¼Œé‚£ä¹ˆè½¬å›åŸæœ‰çš„ç±»å‹å°±è¦ç”¨åˆ°æ–­è¨€äº†ã€‚å¦‚ä»¥ä¸‹çš„ä»£ç ï¼š123func funcName(a interface&#123;&#125;) string &#123; return string(a)&#125;ç¼–è¯‘å™¨å°†ä¼šè¿”å›ï¼šcannot convert a (type interface{}) to type string: need type assertionæ­¤æ—¶ï¼Œæ„å‘³ç€æ•´ä¸ªè½¬åŒ–çš„è¿‡ç¨‹éœ€è¦ç±»å‹æ–­è¨€ã€‚ç±»å‹æ–­è¨€æœ‰ä»¥ä¸‹å‡ ç§å½¢å¼ï¼š1ï¼‰ç›´æ¥æ–­è¨€ä½¿ç”¨å’Œç±»å‹è½¬æ¢ä¸åŒï¼Œç±»å‹æ–­è¨€æ˜¯å°†æ¥å£ç±»å‹çš„å€¼xï¼Œè½¬æ¢æˆç±»å‹Tã€‚ç±»å‹æ–­è¨€çš„å¿…è¦æ¡ä»¶æ˜¯xæ˜¯æ¥å£ç±»å‹,éæ¥å£ç±»å‹çš„xä¸èƒ½åšç±»å‹æ–­è¨€:12345678value, ok := x.(T)//xè¡¨ç¤ºè¦æ–­è¨€çš„æ¥å£å˜é‡ï¼›//Tè¡¨ç¤ºè¦æ–­è¨€çš„ç›®æ ‡ç±»å‹ï¼›//valueè¡¨ç¤ºæ–­è¨€æˆåŠŸä¹‹åç›®æ ‡ç±»å‹å˜é‡ï¼›//okè¡¨ç¤ºæ–­è¨€çš„ç»“æœï¼Œæ˜¯ä¸€ä¸ªboolå‹å˜é‡ï¼Œtrueè¡¨ç¤ºæ–­è¨€æˆåŠŸï¼Œfalseè¡¨ç¤ºå¤±è´¥ï¼Œå¦‚æœå¤±è´¥valueçš„å€¼ä¸ºnilã€‚var a interface&#123;&#125;fmt.Println(\"Where are you,Jonny?\", a.(string))ä½†æ˜¯å¦‚æœæ–­è¨€å¤±è´¥ä¸€èˆ¬ä¼šå¯¼è‡´panicçš„å‘ç”Ÿã€‚æ‰€ä»¥ä¸ºäº†é˜²æ­¢panicçš„å‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ–­è¨€å‰è¿›è¡Œä¸€å®šçš„åˆ¤æ–­value, ok := a.(string)å¦‚æœæ–­è¨€å¤±è´¥ï¼Œé‚£ä¹ˆokçš„å€¼å°†ä¼šæ˜¯false,ä½†æ˜¯å¦‚æœæ–­è¨€æˆåŠŸokçš„å€¼å°†ä¼šæ˜¯true,åŒæ—¶valueå°†ä¼šå¾—åˆ°æ‰€æœŸå¾…çš„æ­£ç¡®çš„å€¼ã€‚ç¤ºä¾‹ï¼š123456value, ok := a.(string)if !ok &#123; fmt.Println(\"It's not ok for type string\") return&#125;fmt.Println(\"The value is \", value)2ï¼‰å¦å¤–ä¹Ÿå¯ä»¥é…åˆswitchè¯­å¥è¿›è¡Œåˆ¤æ–­ï¼štype switchè¯­å¥ä¸­å¯ä»¥æœ‰ä¸€ä¸ªç®€å†™çš„å˜é‡å£°æ˜ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œç­‰ä»·äºè¿™ä¸ªå˜é‡å£°æ˜åœ¨æ¯ä¸ªcase clauseéšå¼ä»£ç å—çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœcase clauseåªåˆ—å‡ºäº†ä¸€ä¸ªç±»å‹ï¼Œåˆ™å˜é‡çš„ç±»å‹å°±æ˜¯è¿™ä¸ªç±»å‹ï¼Œå¦åˆ™å°±æ˜¯åŸå§‹å€¼çš„ç±»å‹ã€‚12345678910111213141516171819var t interface&#123;&#125;t = functionOfSomeType()switch t := t.(type) &#123;default: fmt.Printf(\"unexpected type %T\", t) // %T prints whatever type t has breakcase bool: fmt.Printf(\"boolean %t\\n\", t) // t has type bool breakcase int, int32: fmt.Printf(\"integer %d\\n\", t) // t has type int breakcase *bool: fmt.Printf(\"pointer to boolean %t\\n\", *t) // t has type *bool breakcase *int: fmt.Printf(\"pointer to integer %d\\n\", *t) // t has type *int break&#125;","categories":[{"name":"GoåŸºç¡€","slug":"GoåŸºç¡€","permalink":"https://blog.ihui.ink/categories/GoåŸºç¡€/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://blog.ihui.ink/tags/Golang/"}]},{"title":"Go åŸºç¡€ä¹‹importåŒ…ä¸åŒ…å†…initæ–¹æ³•çš„æ‰§è¡Œæ—¶æœº","slug":"go-import","date":"2020-06-17T14:32:57.000Z","updated":"2020-06-17T14:49:54.072Z","comments":true,"path":"2020/06/17/go-import/","link":"","permalink":"https://blog.ihui.ink/2020/06/17/go-import/","excerpt":"Goè¯­è¨€å¯¼åŒ…çš„å‡ ç§æ–¹å¼","text":"Goè¯­è¨€å¯¼åŒ…çš„å‡ ç§æ–¹å¼ç¬¬ä¸€ç§æ–¹å¼ç›¸å¯¹è·¯å¾„1import \"./module\" //å½“å‰æ–‡ä»¶åŒä¸€ç›®å½•çš„moduleç›®å½•ï¼Œæ­¤æ–¹å¼æ²¡ä»€ä¹ˆç”¨å¹¶ä¸”å®¹æ˜“å‡ºé”™ç¬¬äºŒç§æ–¹å¼ç»å¯¹è·¯å¾„12import \"LearnGo/init\" //åŠ è½½gopath/src/LearnGo/initæ¨¡å—//å¦‚æœä½¿ç”¨go modçš„è¯ï¼ŒåŠ è½½gopath/pkg/mod/LearnGo/initæ¨¡å—ä¸‹é¢å‡ ç§ç‰¹æ®Šçš„æ“ä½œç‚¹æ“ä½œ1import . \"fmt\"è¿™ä¸ªç‚¹æ“ä½œçš„å«ä¹‰å°±æ˜¯è¿™ä¸ªåŒ…å¯¼å…¥ä¹‹ååœ¨ä½ è°ƒç”¨è¿™ä¸ªåŒ…çš„å‡½æ•°æ—¶ï¼Œä½ å¯ä»¥çœç•¥å‰ç¼€çš„åŒ…åï¼Œä¹Ÿå°±æ˜¯å‰é¢ä½ è°ƒç”¨çš„fmt.Println(&quot;hello world&quot;)å¯ä»¥çœç•¥çš„å†™æˆPrintln(&quot;hello world&quot;)åˆ«åæ“ä½œ1import f \"fmt\"åˆ«åæ“ä½œçš„è¯è°ƒç”¨åŒ…å‡½æ•°æ—¶å‰ç¼€å˜æˆäº†æˆ‘ä»¬çš„å‰ç¼€ï¼Œå³f.Println(&quot;hello world&quot;)ã€‚_(å ä½ç¬¦) æ“ä½œ1import _ \"fmt\"_ æ“ä½œå…¶å®æ˜¯å¼•å…¥è¯¥åŒ…ï¼Œè€Œä¸ç›´æ¥ä½¿ç”¨åŒ…é‡Œé¢çš„å‡½æ•°ï¼Œè€Œæ˜¯è°ƒç”¨äº†è¯¥åŒ…é‡Œé¢çš„initå‡½æ•°ï¼Œè¦ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦çœ‹ä¸‹é¢è¿™ä¸ªå›¾ï¼Œç†è§£åŒ…æ˜¯æ€ä¹ˆæŒ‰ç…§é¡ºåºåŠ è½½çš„ã€‚importåçš„æ“ä½œç¨‹åºçš„åˆå§‹åŒ–å’Œæ‰§è¡Œéƒ½èµ·å§‹äºmainåŒ…ã€‚å¦‚æœmainåŒ…è¿˜å¯¼å…¥äº†å…¶å®ƒçš„åŒ…ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨ç¼–è¯‘æ—¶å°†å®ƒä»¬ä¾æ¬¡å¯¼å…¥ã€‚æœ‰æ—¶ä¸€ä¸ªåŒ…ä¼šè¢«å¤šä¸ªåŒ…åŒæ—¶å¯¼å…¥ï¼Œé‚£ä¹ˆå®ƒ åªä¼šè¢«å¯¼å…¥ä¸€æ¬¡ï¼ˆä¾‹å¦‚å¾ˆå¤šåŒ…å¯èƒ½éƒ½ä¼šç”¨åˆ°fmtåŒ…ï¼Œä½†å®ƒåªä¼šè¢«å¯¼å…¥ä¸€æ¬¡ï¼Œå› ä¸ºæ²¡æœ‰å¿…è¦å¯¼å…¥å¤šæ¬¡ï¼‰ã€‚å½“ä¸€ä¸ªåŒ…è¢«å¯¼å…¥æ—¶ï¼Œå¦‚æœè¯¥åŒ…è¿˜å¯¼å…¥äº†å…¶å®ƒçš„åŒ…ï¼Œé‚£ä¹ˆä¼šå…ˆ å°†å…¶å®ƒåŒ…å¯¼å…¥è¿›æ¥ï¼Œç„¶åå†å¯¹è¿™äº›åŒ…ä¸­çš„åŒ…çº§å¸¸é‡å’Œå˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œæ¥ç€æ‰§è¡Œinitå‡½æ•°ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œä¾æ¬¡ç±»æ¨ã€‚ç­‰æ‰€æœ‰è¢«å¯¼å…¥çš„åŒ…éƒ½åŠ è½½å®Œæ¯•äº†ï¼Œå°±ä¼šå¼€ å§‹å¯¹mainåŒ…ä¸­çš„åŒ…çº§å¸¸é‡å’Œå˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åæ‰§è¡ŒmainåŒ…ä¸­çš„initå‡½æ•°ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ï¼Œæœ€åæ‰§è¡Œmainå‡½æ•°ã€‚æ­¤å¤–éœ€äº†è§£åˆ«åæ“ä½œæ–¹å¼å¯¼å…¥åŒ…ä¹Ÿä¼šæ‰§è¡Œinitå‡½æ•°ã€‚å‚è€ƒæ–‡ç« ","categories":[{"name":"GoåŸºç¡€","slug":"GoåŸºç¡€","permalink":"https://blog.ihui.ink/categories/GoåŸºç¡€/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://blog.ihui.ink/tags/Golang/"}]},{"title":"Go åŸºç¡€ä¹‹åå°„","slug":"go-reflect","date":"2020-06-14T05:02:09.000Z","updated":"2020-06-14T06:40:03.956Z","comments":true,"path":"2020/06/14/go-reflect/","link":"","permalink":"https://blog.ihui.ink/2020/06/14/go-reflect/","excerpt":"ä¼—æ‰€å‘¨çŸ¥ï¼Œåå°„æ˜¯æ¡†æ¶è®¾è®¡çš„çµé­‚ã€‚åå°„åœ¨å¾ˆå¤šè¯­è¨€ä¸­éƒ½æœ‰å…¶å¦™ç”¨ã€‚åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸï¼Œåå°„æ˜¯æŒ‡ä¸€ç±»åº”ç”¨ï¼Œå®ƒä»¬èƒ½å¤Ÿè‡ªæè¿°å’Œè‡ªæ§åˆ¶ã€‚æœ¬æ–‡å°†å¯¹äºGolangçš„åå°„çš„ç¬”è®°ã€‚","text":"ä¼—æ‰€å‘¨çŸ¥ï¼Œåå°„æ˜¯æ¡†æ¶è®¾è®¡çš„çµé­‚ã€‚åå°„åœ¨å¾ˆå¤šè¯­è¨€ä¸­éƒ½æœ‰å…¶å¦™ç”¨ã€‚åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸï¼Œåå°„æ˜¯æŒ‡ä¸€ç±»åº”ç”¨ï¼Œå®ƒä»¬èƒ½å¤Ÿè‡ªæè¿°å’Œè‡ªæ§åˆ¶ã€‚æœ¬æ–‡å°†å¯¹äºGolangçš„åå°„çš„ç¬”è®°ã€‚åå°„çš„ç”¨é€”Golangæä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œåœ¨ç¼–è¯‘æ—¶ä¸çŸ¥é“ç±»å‹çš„æƒ…å†µä¸‹ï¼Œå¯æ›´æ–°å˜é‡ã€è¿è¡Œæ—¶æŸ¥çœ‹å€¼ã€è°ƒç”¨æ–¹æ³•ä»¥åŠç›´æ¥å¯¹ä»–ä»¬çš„å¸ƒå±€è¿›è¡Œæ“ä½œçš„æœºåˆ¶ï¼Œç§°ä¸ºåå°„ã€‚ä¸ºä»€ä¹ˆç”¨åå°„ç›®çš„å°±æ˜¯å¢åŠ ç¨‹åºçš„çµæ´»æ€§ï¼Œé¿å…å°†ç¨‹åºå†™æ­»åœ¨ä»£ç é‡Œã€‚å€ŸåŠ©åå°„é€è§†ä¸€ä¸ªæœªçŸ¥çš„ç±»å‹ã€‚ä¸ºä½•éœ€è¦åå°„?ä½¿ç”¨åå°„reflectæä¾›äº†ä¸¤ç§ç±»å‹æ¥è¿›è¡Œè®¿é—®æ¥å£å˜é‡çš„å†…å®¹First HeaderSecond Headerreflect.ValueOf()è·å–è¾“å…¥å‚æ•°æ¥å£ä¸­çš„æ•°æ®çš„å€¼ï¼Œå¦‚æœä¸ºç©ºåˆ™è¿”å›0 &lt;- æ³¨æ„æ˜¯0reflect.TypeOf()åŠ¨æ€è·å–è¾“å…¥å‚æ•°æ¥å£ä¸­çš„å€¼çš„ç±»å‹ï¼Œå¦‚æœä¸ºç©ºåˆ™è¿”å›nil &lt;- æ³¨æ„æ˜¯nilç®€å•çš„åå°„1234567891011121314func main() &#123; var name string = \"æˆ‘æ˜¯åå°„\" //TypeOfä¼šè¿”å›ç›®æ ‡æ•°æ®çš„ç±»å‹ï¼Œæ¯”å¦‚int/float/struct/æŒ‡é’ˆç­‰ reflectType := reflect.TypeOf(name) //valueOfè¿”å›ç›®æ ‡æ•°æ®çš„çš„å€¼ï¼Œæ¯”å¦‚ä¸Šæ–‡çš„\"æˆ‘æ˜¯åå°„\" reflectValue := reflect.ValueOf(name) fmt.Println(\"type: \", reflectType) fmt.Println(\"value: \", reflectValue)&#125;//è¾“å‡ºï¼š//type: string//value: æˆ‘æ˜¯åå°„ç»“æ„ä½“çš„åå°„123456789101112131415161718192021222324252627282930313233343536373839type User struct &#123; Id int Name string&#125;func (u User) Hello() &#123; fmt.Println(\"hello\")&#125;func TestReflect(t interface&#123;&#125;) &#123; objT := reflect.TypeOf(t) objV := reflect.ValueOf(t) //è·å–å»è¿™ä¸ªç±»å‹çš„åç§° fmt.Println(\"è¿™ä¸ªç±»å‹çš„åç§°æ˜¯:\", objT.Name()) //é€šè¿‡.NumField()æ¥è·å–ç»“æ„ä½“é‡Œçš„å­—æ®µæ•°é‡ for i := 0; i &lt; objT.NumField(); i++ &#123; //ä»0å¼€å§‹è·å–ç»“æ„ä½“æ‰€åŒ…å«çš„key key := objT.Field(i) //ä»0å¼€å§‹é€šè¿‡interfaceæ–¹æ³•æ¥è·å–keyæ‰€å¯¹åº”çš„å€¼ value := objV.Field(i).Interface() fmt.Printf(\"ç¬¬%dä¸ªå­—æ®µæ˜¯ï¼š%s:%v = %v \\n\", i+1, key.Name, key.Type, value) &#125; //é€šè¿‡.NumMethod()æ¥è·å–ç»“æ„ä½“é‡Œçš„æ–¹æ³•æ•°é‡ è¿™é‡Œåªèƒ½è·å– å€¼æ¥æ”¶å™¨çš„æ–¹æ³•ã€‚ for i := 0; i &lt; objT.NumMethod(); i++ &#123; m := objT.Method(i) fmt.Printf(\"ç¬¬%dä¸ªæ–¹æ³•æ˜¯ï¼š%s:%v\\n\", i+1, m.Name, m.Type) &#125;&#125;func main() &#123; u := User&#123; Id: 1, Name: \"åå°„\", &#125; TestReflect(u)&#125;è¾“å‡ºï¼š1234è¿™ä¸ªç±»å‹çš„åç§°æ˜¯: Userç¬¬1ä¸ªå­—æ®µæ˜¯ï¼šId:int = 1 ç¬¬2ä¸ªå­—æ®µæ˜¯ï¼šName:string = åå°„ ç¬¬1ä¸ªæ–¹æ³•æ˜¯ï¼šHello:func(main.User)åŒ¿åæˆ–åµŒå…¥å­—æ®µçš„åå°„1234567891011121314151617181920212223242526type User struct &#123; Student //åŒ¿åå­—æ®µ&#125;type Student struct &#123; Id int Name string&#125;func main() &#123; u := User&#123;Student&#123; Id: 1, Name: \"åå°„\", &#125;&#125; t := reflect.TypeOf(u) //è¿™é‡Œéœ€è¦åŠ ä¸€ä¸ª#å·ï¼Œå¯ä»¥æŠŠstructçš„è¯¦æƒ…éƒ½ç»™æ‰“å°å‡ºæ¥ //ä¼šå‘ç°æœ‰Anonymous:trueï¼Œè¯´æ˜æ˜¯åŒ¿åå­—æ®µ fmt.Printf(\"%#v\\n\", t.Field(0)) fmt.Printf(\"%#v\\n\", t.FieldByIndex([]int&#123;0, 1&#125;)) //è·å–åŒ¿åå­—æ®µçš„å€¼çš„è¯¦æƒ… v := reflect.ValueOf(u) fmt.Printf(\"%#v\\n\", v.Field(0))&#125;è¾“å‡ºï¼š123reflect.StructField&#123;Name:&quot;Student&quot;, PkgPath:&quot;&quot;, Type:(*reflect.rtype)(0x10bb640), Tag:&quot;&quot;, Offset:0x0, Index:[]int&#123;0&#125;, Anonymous:true&#125;reflect.StructField&#123;Name:&quot;Name&quot;, PkgPath:&quot;&quot;, Type:(*reflect.rtype)(0x10ae120), Tag:&quot;&quot;, Offset:0x8, Index:[]int&#123;1&#125;, Anonymous:false&#125;main.Student&#123;Id:1, Name:&quot;åå°„&quot;&#125;ç”¨åå°„åˆ¤æ–­ä¼ å…¥çš„ç±»å‹123456789101112131415161718192021222324type Student struct &#123; Id int Name string&#125;func main() &#123; s := Student&#123;Id: 1, Name: \"åå°„\"&#125; t := reflect.TypeOf(s) //é€šè¿‡.Kind()æ¥åˆ¤æ–­å¯¹æ¯”çš„å€¼æ˜¯å¦æ˜¯structç±»å‹ if k := t.Kind(); k == reflect.Struct &#123; fmt.Println(\"bingo\") &#125; num := 1; numType := reflect.TypeOf(num) if k := numType.Kind(); k == reflect.Int &#123; fmt.Println(\"bingo\") &#125;&#125;/*è¾“å‡ºï¼šbingobingo*/é€šè¿‡åå°„ä¿®æ”¹å†…å®¹12345678910111213141516171819202122232425262728293031323334353637type User struct &#123; Student //åŒ¿åå­—æ®µ&#125;type Student struct &#123; Id int Name string&#125;func main() &#123; u := &amp;User&#123;Student&#123; Id: 1, Name: \"åå°„\", &#125;&#125; v := reflect.ValueOf(u) //ä¿®æ”¹å€¼å¿…é¡»æ˜¯æŒ‡é’ˆç±»å‹ if v.Kind() != reflect.Ptr &#123; fmt.Println(\"ä¸æ˜¯æŒ‡é’ˆç±»å‹ï¼Œæ— æ³•è¿›è¡Œä¿®æ”¹æ“ä½œ\") return &#125; //è·å–æŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´  v = v.Elem() fmt.Printf(\"%#v\\n\", *u) name := v.FieldByName(\"Name\") if name.Kind() == reflect.String &#123; name.SetString(\"å°å­¦ç”Ÿ\") &#125; fmt.Printf(\"%#v\\n\", *u) //å¦‚æœæ˜¯æ•´å‹çš„è¯ test := 888 testV := reflect.ValueOf(&amp;test) testV.Elem().SetInt(666) fmt.Println(test)&#125;è¾“å‡ºï¼š123main.User&#123;Student:main.Student&#123;Id:1, Name:&quot;åå°„&quot;&#125;&#125;main.User&#123;Student:main.Student&#123;Id:1, Name:&quot;å°å­¦ç”Ÿ&quot;&#125;&#125;666é€šè¿‡åå°„è°ƒç”¨æ–¹æ³•1234567891011121314151617181920212223type Student struct &#123; Id int Name string&#125;func (s Student) Hello(msg string) &#123; fmt.Println(\"hello, \", msg)&#125;func main() &#123; u := Student&#123; Id: 1, Name: \"åå°„\", &#125; v := reflect.ValueOf(u) //è·å–æ–¹æ³•æ§åˆ¶æƒ è¿”å›vçš„åä¸ºnameçš„æ–¹æ³•çš„å·²ç»‘å®šï¼ˆåˆ°vçš„æŒæœ‰å€¼çš„ï¼‰çŠ¶æ€çš„å‡½æ•°å½¢å¼çš„Valueå°è£… method := v.MethodByName(\"Hello\") //æ‹¼å‡‘å‚æ•° args := []reflect.Value&#123;reflect.ValueOf(\"åå°„\")&#125; //è°ƒç”¨å‡½æ•° method.Call(args)&#125;è¾“å‡ºï¼š1hello, åå°„å°ç»“ä¸Šè¿°è¯¦ç»†è¯´æ˜äº†Golangçš„åå°„reflectçš„å„ç§åŠŸèƒ½å’Œç”¨æ³•ï¼Œéƒ½é™„å¸¦æœ‰ç›¸åº”çš„ç¤ºä¾‹ï¼Œç›¸ä¿¡èƒ½å¤Ÿåœ¨å·¥ç¨‹åº”ç”¨ä¸­è¿›è¡Œç›¸åº”å®è·µï¼Œæ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šåå°„å¯ä»¥å¤§å¤§æé«˜ç¨‹åºçš„çµæ´»æ€§ï¼Œä½¿å¾—interface{}æœ‰æ›´å¤§çš„å‘æŒ¥ä½™åœ°åå°„å¿…é¡»ç»“åˆinterfaceæ‰ç©å¾—è½¬å˜é‡çš„typeè¦æ˜¯concrete typeçš„ï¼ˆä¹Ÿå°±æ˜¯interfaceå˜é‡ï¼‰æ‰æœ‰åå°„ä¸€è¯´åå°„å¯ä»¥å°†â€œæ¥å£ç±»å‹å˜é‡â€è½¬æ¢ä¸ºâ€œåå°„ç±»å‹å¯¹è±¡â€åå°„ä½¿ç”¨ TypeOf å’Œ ValueOf å‡½æ•°ä»æ¥å£ä¸­è·å–ç›®æ ‡å¯¹è±¡ä¿¡æ¯åå°„å¯ä»¥å°†â€œåå°„ç±»å‹å¯¹è±¡â€è½¬æ¢ä¸ºâ€œæ¥å£ç±»å‹å˜é‡reflect.value.Interface().(å·²çŸ¥çš„ç±»å‹)éå†reflect.Typeçš„Fieldè·å–å…¶Fieldåå°„å¯ä»¥ä¿®æ”¹åå°„ç±»å‹å¯¹è±¡ï¼Œä½†æ˜¯å…¶å€¼å¿…é¡»æ˜¯â€œaddressableâ€æƒ³è¦åˆ©ç”¨åå°„ä¿®æ”¹å¯¹è±¡çŠ¶æ€ï¼Œå‰ææ˜¯ interface.data æ˜¯ settable,å³ pointer-interfaceé€šè¿‡åå°„å¯ä»¥â€œåŠ¨æ€â€è°ƒç”¨æ–¹æ³•å› ä¸ºGolangæœ¬èº«ä¸æ”¯æŒæ¨¡æ¿ï¼Œå› æ­¤åœ¨ä»¥å¾€éœ€è¦ä½¿ç”¨æ¨¡æ¿çš„åœºæ™¯ä¸‹å¾€å¾€å°±éœ€è¦ä½¿ç”¨åå°„(reflect)æ¥å®ç°Golangçš„åå°„å¾ˆæ…¢ï¼Œè¿™ä¸ªå’Œå®ƒçš„APIè®¾è®¡æœ‰å…³ã€‚Golang reflectæ…¢ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› æ¶‰åŠåˆ°å†…å­˜åˆ†é…ä»¥åŠåç»­çš„GCï¼›reflectå®ç°é‡Œé¢æœ‰å¤§é‡çš„æšä¸¾ï¼Œä¹Ÿå°±æ˜¯forå¾ªç¯ï¼Œæ¯”å¦‚ç±»å‹ä¹‹ç±»çš„ã€‚å‚è€ƒæ–‡ç« Goè¯­è¨€åœ£ç»æ ‡å‡†åº“æ–‡æ¡£","categories":[{"name":"GoåŸºç¡€","slug":"GoåŸºç¡€","permalink":"https://blog.ihui.ink/categories/GoåŸºç¡€/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://blog.ihui.ink/tags/Golang/"}]},{"title":"Go ç»„åˆå–ä»£ç»§æ‰¿","slug":"go-composition","date":"2020-04-07T13:26:54.000Z","updated":"2020-04-07T14:08:10.491Z","comments":true,"path":"2020/04/07/go-composition/","link":"","permalink":"https://blog.ihui.ink/2020/04/07/go-composition/","excerpt":"Go ä¸æ”¯æŒç»§æ‰¿ï¼Œä½†å®ƒæ”¯æŒç»„åˆï¼ˆCompositionï¼‰ã€‚ç»„åˆä¸€èˆ¬å®šä¹‰ä¸ºâ€œåˆå¹¶åœ¨ä¸€èµ·â€ï¼Œå³å°†å‡ ä¸ªç»“æ„ä½“åµŒå¥—èµ·æ¥æ„æˆå¤§çš„ç»“æ„ä½“ç±»å‹ã€‚æ±½è½¦å°±æ˜¯ä¸€ä¸ªå…³äºç»„åˆçš„ä¾‹å­ï¼šä¸€è¾†æ±½è½¦ç”±è½¦è½®ã€å¼•æ“å’Œå…¶ä»–å„ç§éƒ¨ä»¶ç»„åˆåœ¨ä¸€èµ·ã€‚","text":"Go ä¸æ”¯æŒç»§æ‰¿ï¼Œä½†å®ƒæ”¯æŒç»„åˆï¼ˆCompositionï¼‰ã€‚ç»„åˆä¸€èˆ¬å®šä¹‰ä¸ºâ€œåˆå¹¶åœ¨ä¸€èµ·â€ï¼Œå³å°†å‡ ä¸ªç»“æ„ä½“åµŒå¥—èµ·æ¥æ„æˆå¤§çš„ç»“æ„ä½“ç±»å‹ã€‚æ±½è½¦å°±æ˜¯ä¸€ä¸ªå…³äºç»„åˆçš„ä¾‹å­ï¼šä¸€è¾†æ±½è½¦ç”±è½¦è½®ã€å¼•æ“å’Œå…¶ä»–å„ç§éƒ¨ä»¶ç»„åˆåœ¨ä¸€èµ·ã€‚ç»„åˆçš„å…¸å‹ä¾‹å­å°±æ˜¯åšå®¢åšæ–‡ã€‚æ¯ä¸€ä¸ªåšå®¢çš„åšæ–‡éƒ½æœ‰æ ‡é¢˜ã€å†…å®¹ã€å‘è¡¨æ—¶é—´å’Œä½œè€…ä¿¡æ¯ã€‚ä½¿ç”¨ç»„åˆå¯ä»¥å¾ˆå¥½åœ°è¡¨ç¤ºå®ƒä»¬ã€‚ç½‘ç«™ç»“æ„ä½“ä¸­ æ”¾æœ‰ æ–‡ç« ç»“æ„ä½“ï¼Œæ–‡ç« ç»“æ„ä½“ä¸­ æ”¾æœ‰ ä½œè€…ä¿¡æ¯ç»“æ„ä½“ã€‚ä¸‹é¢ç”¨ä»£ç å®ç°ã€‚é€šè¿‡åµŒå¥—ç»“æ„ä½“è¿›è¡Œç»„åˆé¦–å…ˆå®šä¹‰ä¸€ä¸ªä½œè€…ä¿¡æ¯authorç»“æ„ä½“å’Œä¸€ä¸ªè·å–ä½œè€…ä¿¡æ¯çš„æ–¹æ³•fullName()æ–¹æ³•ï¼Œå…¶ä¸­ author ä½œä¸ºæ¥æ”¶è€…ç±»å‹ï¼Œè¯¥æ–¹æ³•è¿”å›äº†ä½œè€…çš„å…¨åã€‚12345678910type author struct &#123; firstName string lastName string //....&#125;// è·å–ä½œè€…çš„å§“åfunc (a author) fullName() string &#123; return fmt.Sprintf(\"%s %s\", a.firstName, a.lastName)&#125;ä¸‹é¢å®šä¹‰ä¸€ä¸ª åšæ–‡ä¿¡æ¯postç»“æ„ä½“ï¼Œä»¥åŠä»–çš„ä¸€ä¸ªæ–¹æ³•ã€‚å®ƒæœ‰ä¸€ä¸ªåµŒå¥—çš„åŒ¿åå­—æ®µ authorã€‚è¯¥å­—æ®µæŒ‡å®š author ç»„æˆäº† post ç»“æ„ä½“ã€‚ç°åœ¨ post å¯ä»¥è®¿é—® author ç»“æ„ä½“çš„æ‰€æœ‰å­—æ®µå’Œæ–¹æ³•ã€‚æˆ‘ä»¬åŒæ ·ç»™ post ç»“æ„ä½“æ·»åŠ äº† details() æ–¹æ³•ï¼Œç”¨äºæ‰“å°æ ‡é¢˜ã€å†…å®¹å’Œä½œè€…çš„ä¿¡æ¯ã€‚å…³é”®çŸ¥è¯†ç‚¹ï¼š ä¸€æ—¦ç»“æ„ä½“Aå†…åµŒå¥—äº†ä¸€ä¸ªç»“æ„ä½“Bï¼ŒGo å¯ä»¥ä½¿æˆ‘ä»¬è®¿é—®åµŒå¥—çš„Bçš„æ‰€æœ‰å­—æ®µå’Œæ–¹æ³•ï¼Œå¥½åƒè¿™äº›å­—æ®µå±äºå¤–éƒ¨ç»“æ„ä½“ä¸€æ ·ã€‚æ‰€ä»¥ä¸‹é¢çš„ p.author.fullName() å¯ä»¥æ›¿æ¢ä¸º p.fullName()ã€‚123456789101112type post struct &#123; title string content string author // åµŒå¥—authorç»“æ„ä½“ **è¿™é‡Œä¼šè‡ªåŠ¨ç»„åˆauthorçš„æ‰€æœ‰æ–¹æ³•å’Œå­—æ®µ&#125;func (p post) details() &#123; fmt.Println(\"title: \", p.title) fmt.Println(\"content: \", p.content) // fmt.Println(\"author: \", p.author.fullName()) fmt.Println(\"author: \", p.fullName()) // è‡ªåŠ¨ç»„åˆauthorçš„æ‰€æœ‰æ–¹æ³•å’Œå­—æ®µ&#125;æ•´åˆè¿è¡Œç»“æœ12345678910111213141516171819202122232425262728293031323334353637383940414243package mainimport ( \"fmt\")type author struct &#123; firstName string lastName string //....&#125;// è·å–ä½œè€…çš„å§“åfunc (a author) fullName() string &#123; return fmt.Sprintf(\"%s %s\", a.firstName, a.lastName)&#125;type post struct &#123; title string content string author // åµŒå¥—authorç»“æ„ä½“ **è¿™é‡Œä¼šè‡ªåŠ¨ç»„åˆauthorçš„æ‰€æœ‰æ–¹æ³•å’Œå­—æ®µ&#125;func (p post) details() &#123; fmt.Println(\"title: \", p.title) fmt.Println(\"content: \", p.content) //fmt.Println(\"author: \", p.author.fullName()) fmt.Println(\"author: \", p.fullName()) // è‡ªåŠ¨ç»„åˆauthorçš„æ‰€æœ‰æ–¹æ³•å’Œå­—æ®µ&#125;func main() &#123; author1 := author&#123; firstName: \"gh\", lastName: \"z\", &#125; post1 := post&#123; title: \"1\", content: \"1111\", author: author1, &#125; post1.details()&#125;12345title: 1content: 1111author: gh zProcess finished with exit code 0ç»“æ„ä½“åˆ‡ç‰‡çš„åµŒå¥—ç»“åˆä¸Šé¢ä»£ç ï¼Œæˆ‘ä»¬åŠ å…¥ä¸€ä¸ªwebsiteç»“æ„ä½“ï¼Œä¸€ä¸ªwebsiteç»“æ„ä½“ä¸­åŒ…å«å¤šä¸ªpostç»“æ„ä½“ï¼Œæ‰€ä»¥é‡‡ç”¨ä¸€ä¸ªåˆ‡ç‰‡æ¥å­˜å‚¨ã€‚æ³¨æ„ï¼šç»“æ„ä½“ä¸èƒ½åµŒå¥—ä¸€ä¸ªåŒ¿ååˆ‡ç‰‡ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå­—æ®µåã€‚æ‰€ä»¥æˆ‘ä»¬æ¥ä¿®å¤è¿™ä¸ªé”™è¯¯ï¼Œè®©ç¼–è¯‘å™¨é¡ºåˆ©é€šè¿‡ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package mainimport ( \"fmt\")type author struct &#123; firstName string lastName string //....&#125;// è·å–ä½œè€…çš„å§“åfunc (a author) fullName() string &#123; return fmt.Sprintf(\"%s %s\", a.firstName, a.lastName)&#125;type post struct &#123; title string content string author // åµŒå¥—authorç»“æ„ä½“ **è¿™é‡Œä¼šè‡ªåŠ¨ç»„åˆauthorçš„æ‰€æœ‰æ–¹æ³•å’Œå­—æ®µ&#125;func (p post) details() &#123; fmt.Println(\"title: \", p.title) fmt.Println(\"content: \", p.content) //fmt.Println(\"author: \", p.author.fullName()) fmt.Println(\"author: \", p.fullName()) // è‡ªåŠ¨ç»„åˆauthorçš„æ‰€æœ‰æ–¹æ³•å’Œå­—æ®µ&#125;// ç½‘ç«™type website struct &#123; //[]post åŒ¿ååˆ‡ç‰‡æŠ¥é”™ posts []post&#125;// æŸ¥çœ‹éå†æ–‡ç« func (w website) view() &#123; fmt.Println(\"view website\") for _, p := range w.posts &#123; p.details() fmt.Println() &#125;&#125;func main() &#123; author1 := author&#123; firstName: \"gh\", lastName: \"z\", &#125; post1 := post&#123; title: \"1\", content: \"1111\", author: author1, &#125; post2 := post&#123; title: \"2\", content: \"2222\", author: author1, &#125; w := website&#123;posts: []post&#123;post1, post2&#125;&#125; w.view()&#125;1234567891011view websitetitle: 1content: 1111author: gh ztitle: 2content: 2222author: gh zProcess finished with exit code 0åœ¨ä¸»å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä½œè€… author1ï¼Œä»¥åŠä¸¤ç¯‡åšæ–‡ post1ã€post2 ã€‚æˆ‘ä»¬æœ€åé€šè¿‡åµŒå¥—ä¸¤ç¯‡åšæ–‡æ„æˆçš„åˆ‡ç‰‡ï¼Œåˆ›å»ºäº†ç½‘ç«™ wï¼Œå¹¶åœ¨ä¸‹ä¸€è¡Œè°ƒç”¨websiteç»“æ„ä½“çš„ viewæ–¹æ³•æ˜¾ç¤ºå†…å®¹ã€‚å‚è€ƒæ–‡ç« Goç³»åˆ—æ•™ç¨‹","categories":[{"name":"GoåŸºç¡€","slug":"GoåŸºç¡€","permalink":"https://blog.ihui.ink/categories/GoåŸºç¡€/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://blog.ihui.ink/tags/Golang/"}]},{"title":"2019å¹´ å¹´ç»ˆæ€»ç»“","slug":"2019-summary","date":"2019-12-31T14:54:50.000Z","updated":"2019-12-31T15:39:05.081Z","comments":true,"path":"2019/12/31/2019-summary/","link":"","permalink":"https://blog.ihui.ink/2019/12/31/2019-summary/","excerpt":"","text":"2019è¿™ä¸€å¹´ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œå¯ä»¥è¯´æ˜¯å˜åŒ–éå¸¸å¤§çš„ä¸€å¹´ã€‚ä»åˆšåˆšè¿›å…¥å¤§å­¦ï¼Œåªä¼šå†™cè¯­è¨€åœ¨ojåˆ·é¢˜çš„æ¸£æ¸£ï¼Œåˆ°ä»Šå¤©å¯ä»¥ç‹¬ç«‹å®Œæˆç½‘ç«™å‰åç«¯è®¾è®¡å¼€å‘ã€‚è¿™ä¸€è·¯æ¥å—äº†å¾ˆå¤šäº†äººçš„å¸®åŠ©ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ï¼Œæ„Ÿè°¢ä»˜å‡ºå’Œè°†è°†æ•™å¯¼ã€‚2019.1-2019.3å­¦ä¹ å‰ç«¯å¼€å‘ã€‚ä»HTMLã€cssåˆ°JavaScriptã€‚è¿›è¡Œäº†ç³»ç»Ÿçš„å­¦ä¹ ï¼ŒåŒ…æ‹¬cssé€‰æ‹©å™¨ï¼Œæƒé‡ï¼Œå„ç§å¸ƒå±€ï¼ŒJavaScripté—­åŒ…ï¼Œé¢„ç¼–è¯‘ï¼Œç»§æ‰¿ï¼Œ ä½œç”¨é“¾ç­‰ï¼Œè¿™äº›çŸ¥è¯†è™½ç„¶å­¦äº†ä¹Ÿæ²¡å’‹ç”¨åˆ°è¿‡ã€‚æ›´æ›´ä¸å¹¸çš„æ˜¯ï¼Œå…¶ä¸­å¾ˆå¤šçš„çŸ¥è¯†å¤§éƒ¨åˆ†é—å¿˜ã€‚å”‰ï¼Œå¤ªéš¾äº†ã€‚2019.3-2019.6è½¬å‘å­¦ä¹ Javaåç«¯å¼€å‘ï¼Œå¯¹JavaSEåŸºç¡€ï¼Œæ³¨è§£ã€æ³›å‹ã€åå°„ ä»¥åŠMySQLæ•°æ®åº“ã€servletã€cookieã€sessionã€ç­‰è¿›è¡Œäº†ç³»ç»Ÿå­¦ä¹ ã€‚å­¦å®Œåï¼Œå®Œæˆäº†ä¸€ä¸ªå°å°çš„äººå‘˜ç®¡ç†ç³»ç»Ÿï¼Œè·Ÿç€è§†é¢‘åšçš„ã€‚ä¹‹åé¡ºåˆ©çš„é€šè¿‡é€‰æ‹”è¿›å…¥äº†å­¦é™¢çš„è½¯ä»¶å®éªŒå®¤ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘çš„è½¬æŠ˜ç‚¹ã€‚2019.6-2019.9è¿›å…¥å®éªŒå®¤åï¼Œå’Œå­¦é•¿ç»„é˜Ÿå‚è§äº†ä¸€ä¸ªè½¯ä»¶æ¯”èµ›ï¼Œåœ¨åšæ¯”èµ›é¡¹ç›®çš„è¿‡ç¨‹ä¸­å­¦ä¹ äº†springæ¡†æ¶ ã€mybatisã€springmvcç­‰æ¡†æ¶ã€‚ä¸è¿‡ä»…é™äºä¼šç”¨ï¼Œè€Œä¸”ä¸å¤ªç†Ÿç»ƒã€‚æš‘å‡ç•™æ ¡ï¼Œç‹¬ç«‹å®Œæˆäº†åŸºäºäººè„¸è¯†åˆ«çš„å®¿èˆè€ƒå‹¤appçš„å‰åç«¯è®¾è®¡ä¸å¼€å‘ã€‚appç”¨html5å†™çš„ï¼Œåç«¯é‡‡ç”¨çš„ssmæ¶æ„ï¼Œç»“åˆjsoné€šè¿‡ajaxé€šä¿¡ã€‚2019.9-ä»Šè™½ç„¶å­¦äº†å¾ˆå¤šçš„æ¡†æ¶å’ŒæŠ€æœ¯ï¼Œä½†è¿™ä¹Ÿåªæ˜¯çš®æ¯›ã€‚æˆ‘æ„è¯†åˆ°è‡ªå·±çš„å¾ˆå¤šçš„ä¸è¶³ä¹‹å¤„ï¼Œå…¶ä¸­æœ€ä¸ºè‡´å‘½çš„æ˜¯åŸºç¡€çŸ¥è¯†ä¸å¤Ÿæ‰å®ï¼Œé‡åˆ°ä¸ç¡®å®šçš„ä»£ç å°±å¾—ä¸Šç™¾åº¦æœç´¢ä¸€ç•ªï¼Œå”‰ï¼Œå¤ªéš¾äº†ã€‚ä¹‹åæˆ‘è¾¹å­¦æ¡†æ¶ï¼Œè¾¹è¡¥è‡ªå·±çš„ä¸è¶³ä¹‹å¤„ã€‚è¿˜æœ‰æœ€é‡è¦çš„å°±æ˜¯å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•äº†ï¼Œå› ä¸ºè¿™å­¦æœŸå¼€æ•°æ®ç»“æ„äº†ã€‚è¿™é—¨è¯¾æŒºé‡è¦çš„ã€‚ç°åœ¨æ‰‹å¤´ä¸Šæœ‰ä¸€ä¸ªç»™å­¦æ ¡å¼€å‘çš„è¾…å¯¼å‘˜åœ¨çº¿è€ƒè¯•ç³»ç»Ÿã€‚ç”¨vue + axios + springBoot + mysql + redis+ mybatis å¼€å‘çš„å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ã€‚æ­£åœ¨å¼€å‘ä¸­ï¼Œé¡¹ç›®ä¸æ˜¯å¾ˆå¤§ã€‚ä½†æ€»èƒ½å¾—åˆ°ä¸€äº›é”»ç‚¼ã€‚æœ€è¿‘å¾ˆå¿™ï¼Œå› ä¸ºæœ‰æ•°æ®ç»“æ„ä¸ç®—æ³•å®è®­ã€‚å®è®­ä¸»è¦å†…å®¹æ˜¯ ç”¨cè¯­è¨€å†™äº†å‡ ä¸ªå°é¡¹ç›®ï¼Œç­çº§å­¦ç”Ÿç®¡ç†ç³»ç»Ÿã€ç”µå­è¯å…¸å’Œè½¦ç«™è½¦æ¬¡ç®¡ç†ç³»ç»Ÿç­‰ï¼Œä¸Šæ‰‹ä¸æ˜¯å¾ˆè½»æ¾ï¼Œå°¤å…¶æ˜¯å¤šç»´æŒ‡é’ˆé‚£ä¸€å—ã€‚æˆ‘åˆåˆåˆæ„è¯†åˆ°è‡ªå·±çœŸçš„åŸºç¡€å¾ˆä¸æ‰å®ã€‚æ€»ç»“æ€»çš„æ¥è¯´å§ï¼Œè¿™ä¸€å¹´æ¥è¿›æ­¥è¿˜æ˜¯æŒºå¤§çš„ï¼Œè¿˜ç®—æ»¡æ„ã€‚ä½†åŒæ—¶ä¹Ÿè¶Šæ¥è¶Šè§‰å¾—è‡ªå·±çš„åŸºç¡€ä¸æ˜¯å¾ˆå¥½ï¼Œè™½ç„¶å­¦çš„ä¸œè¥¿ä¸å°‘ï¼Œä½†éƒ½ä¸æ‰å®ã€‚æ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯ å¥½å¥½å­¦ä¹ ä¸“ä¸šè¯¾ï¼Œè¡¥è‡ªå·±çš„çŸ­æ¿ã€‚è¿˜æœ‰ä¸‹å­¦æœŸä¸“ä¸šè¯¾æŒºå¤šçš„ï¼Œæ“ä½œç³»ç»Ÿå’Œè®¡ç®—æœºç»„æˆåŸç†ï¼Œä¸çŸ¥é“éš¾åº¦å¦‚ä½•ã€‚å§å•¦å§å•¦ï¼Œå°±è¿™äº›å§ã€‚2019å¹´è¿‡å»äº†ï¼Œæœ‰è¿›æ­¥ä¹Ÿæœ‰ä¸è¶³ï¼Œæ‰€ä»¥2020å¹´ç»§ç»­åŠ æ²¹å§ã€‚äº‰å–åœ¨å¤§å­¦ä¸‰ä¸‹è€ƒç ” æˆ–è€… æ‹¿åˆ°ä¸€çº¿å¤§å‚offerã€‚å°‘æŠ±æ€¨ï¼Œå¤šæ€è€ƒï¼Œæ˜å¤©ä¼šæ›´ç¾å¥½ã€‚","categories":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.ihui.ink/categories/æ‚è°ˆ/"}],"tags":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.ihui.ink/tags/æ‚è°ˆ/"}]},{"title":"æ­å»ºè‡ªå·±çš„GitæœåŠ¡å™¨å¹¶éƒ¨ç½²Hexoç«™ç‚¹","slug":"build-own-gitServer","date":"2019-12-15T10:44:57.000Z","updated":"2020-06-17T14:51:58.719Z","comments":true,"path":"2019/12/15/build-own-gitServer/","link":"","permalink":"https://blog.ihui.ink/2019/12/15/build-own-gitServer/","excerpt":"","text":"å‰è¨€ä»¥å‰è‡ªå·±çš„åšå®¢ç«™ç‚¹æ˜¯æ‰˜ç®¡åœ¨Githubçš„ï¼Œä½¿ç”¨è¿‡Netlifyï¼Œcodingï¼Œä½†é€Ÿåº¦éƒ½ä¸æ˜¯å¾ˆç†æƒ³ã€‚ä¹Ÿæ›¾ä½¿ç”¨è¿‡Gitee(é€Ÿåº¦è™½ç„¶ä¸ä»ï¼Œä½†ç»‘å®šåŸŸåè¦ä»˜è´¹99ï¼Œ æ”¾å¼ƒ )ã€‚æœ€è¿‘ä¹°äº†é˜¿é‡Œäº‘çš„å­¦ç”Ÿæœºæ¥ç©ï¼Œå›½å†…é€Ÿåº¦è¿˜ä¸é”™ï¼Œ1æ ¸2G5Mbpsã€‚æ‰€ä»¥ä»Šå¤©è®¡åˆ’æŠŠè‡ªå·±åŸæ¥æ‰˜ç®¡åœ¨githubçš„ç½‘ç«™è¿ç§»åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ã€‚è¿ç§»è¿‡ç¨‹è¿˜ç®—é¡ºåˆ©ã€‚æˆ‘è¿ç§»å¤§ä½“çš„æ€è·¯æ˜¯ï¼Œç»§ç»­ç”¨hexoéƒ¨ç½²ã€‚æ­å»ºè‡ªå·±çš„gitæœåŠ¡å™¨ï¼Œç„¶åç”¨hexoéƒ¨ç½²åˆ°è‡ªå·±çš„gitæœåŠ¡å™¨ã€‚ç„¶åé€šè¿‡nginxæŒ‚è½½gitä»“åº“ï¼Œå®ç°å…¨é™æ€è®¿é—®ã€‚é€Ÿåº¦å¯æƒ³è€ŒçŸ¥ã€‚å¼€å§‹æ“ä½œæ­å»ºGitæœåŠ¡å™¨å®‰è£…git1$ yum install -y gitåˆ›å»ºä»“åº“å…ˆåˆ›å»ºä¸€ä¸ªgitç”¨æˆ·ï¼Œç”¨æ¥è¿è¡ŒgitæœåŠ¡ï¼š12$ adduser git # æ·»åŠ gitç”¨æˆ· ç”¨äºssh$ passwd git # è®¾ç½®åˆšæ·»åŠ çš„ç”¨æˆ·å¯†ç  ç”¨äºä»¥åçš„push å’Œ cloneåœ¨ home/git çš„ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºhexoBlogçš„è£¸ä»“åº“ï¼ˆbare repoï¼‰ã€‚12$ cd /home/git/$ git init --bare hexoBlog.git # gitä¼šåˆ›å»ºä¸€ä¸ªè£¸ä»“åº“ä¸Šé¢å·²ç»åˆ›å»ºçš„è£¸ä»“åº“æ²¡æœ‰å·¥ä½œåŒºï¼Œå› ä¸ºæœåŠ¡å™¨ä¸Šçš„Gitä»“åº“çº¯ç²¹æ˜¯ä¸ºäº†å…±äº«ï¼Œæ‰€ä»¥ä¸è®©ç”¨æˆ·ç›´æ¥ç™»å½•åˆ°æœåŠ¡å™¨ä¸Šå»æ”¹å·¥ä½œåŒºï¼Œå¹¶ä¸”æœåŠ¡å™¨ä¸Šçš„Gitä»“åº“é€šå¸¸éƒ½ä»¥.gitç»“å°¾ã€‚ç„¶åï¼ŒæŠŠowneræ”¹ä¸ºgitç”¨æˆ·1$ sudo chown -R git:git /home/git/hexoBlog.gitç¦ç”¨shellç™»å½•ï¼šå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç¬¬äºŒæ­¥åˆ›å»ºçš„gitç”¨æˆ·ä¸å…è®¸ç™»å½•shellï¼Œè¿™å¯ä»¥é€šè¿‡ç¼–è¾‘/etc/passwdæ–‡ä»¶å®Œæˆã€‚æ‰¾åˆ°ç±»ä¼¼ä¸‹é¢çš„ä¸€è¡Œï¼š1git:x:1001:1001:,,,:/home/git:/bin/bashæ”¹ä¸ºï¼š1git:x:1001:1001:,,,:/home/git:/usr/bin/git-shellå…‹éš†è¿œç¨‹ä»“åº“ï¼šç°åœ¨ï¼Œå¯ä»¥é€šè¿‡git cloneå‘½ä»¤å…‹éš†è¿œç¨‹ä»“åº“äº†ï¼Œåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šè¿è¡Œï¼š123$ git clone git@server:/home/git/hexoBlog.git # server ä¸ºipCloning into 'hexoBlog'...warning: You appear to have cloned an empty repository.å‡ºç°ä¸Šé¢ä¿¡æ¯ï¼ŒåŸºæœ¬è¯´æ˜æ­å»ºå®Œæ¯•ï¼Œå‰©ä¸‹çš„æ¨é€å°±ç®€å•äº†ã€‚åˆ›å»ºHooksé’©å­åˆ›å»ºhooksé’©å­çš„ç›®çš„æ˜¯æŠŠï¼Œgitä»“åº“é‡Œçš„ä»£ç æ‹‰åˆ°ä¸€ä¸ªè·¯å¾„ä¸‹ï¼Œä¾¿äºæŸ¥çœ‹ä¿®æ”¹å’Œä»¥åçš„nginxæŒ‚è½½åœ¨hooksä¸‹åˆ›å»ºpost-receiveè„šæœ¬ï¼Œå®ƒå°†åœ¨ä»“åº“æ¥æ”¶åˆ°pushæ—¶æ‰§è¡Œã€‚12345678910111213$ vim /home/git/hexoBlog.git/hooks/post-receive# æ·»åŠ å¦‚ä¸‹å†…å®¹#!/bin/bash git --work-tree=/home/hexoBlog --git-dir=/home/git/hexoBlog.git checkout -fecho 'æ‹‰å–å®Œæ¯•'# ä¿®æ”¹å®Œæ¯•ï¼Œç»™è¶³æƒé™ å·¨å‘$ chmod +x /home/git/hexoBlog.git/hooks/post-receive# åˆ›å»º /home/hexoBlog å­˜æ”¾æºç $ mkdir /home/hexoBlogå†™åˆ°è¿™é‡Œï¼Œç”¨æˆ·ç»„å¯¹/home/hexoBlogè·¯å¾„åªæœ‰è¯»çš„æƒé™ï¼Œæ²¡æœ‰å†™çš„æƒé™ã€‚ä¸Šè¾¹çš„é…ç½®éƒ½æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå°±è¿™ä¸ªæƒé™æŠ˜è…¾äº†ä¸€å¤©ï¼Œç”¨æˆ·ç»„é»˜è®¤çš„æƒé™æ˜¯æ²¡æœ‰å†™æƒé™çš„ï¼Œé…ç½®å¥½ä¸èƒ½ä¸Šä¼ ä»£ç ï¼Œé—®é¢˜å°±åœ¨ç”¨æˆ·ç»„çš„æƒé™ã€‚ä¿®æ”¹ç›®å½•åŠå…¶å­æ–‡ä»¶çš„æƒé™1$ chmod -R 777 /home/hexoBlog # è®©æ‰€æœ‰ç”¨æˆ·æœ‰æ“ä½œæƒé™ä¹‹åpushä¹‹åå°±å¯ä»¥åœ¨ /home/hexoBlogçœ‹åˆ°pushçš„æ–‡ä»¶äº†éƒ¨ç½²hexoç½‘ç«™äº‘æœåŠ¡å™¨ç«¯é…ç½® Nginxå®‰è£… å¯åŠ¨ æµ‹è¯•Nginx12345$ yum install -y nginx# å¯åŠ¨ Nginx$ systemctl start nginx# æµ‹è¯• Nginx æœåŠ¡å™¨$ wget http://127.0.0.1èƒ½å¤Ÿæ­£å¸¸è·å–ä»¥ä¸‹æ¬¢è¿é¡µé¢è¯´æ˜Nginxå®‰è£…æˆåŠŸã€‚12345678Connecting to 127.0.0.1:80... connected.HTTP request sent, awaiting response... 200 OKLength: 43704 (43K) [text/html]Saving to: â€˜index.htmlâ€™100%[=======================================&gt;] 43,704 --.-K/s in 0s2019-12-15 23:04:09 (487 MB/s) - â€˜index.htmlâ€™ saved [43704/43704]æŸ¥çœ‹ Nginx çš„é»˜è®¤é…ç½®çš„å®‰è£…ä½ç½®nginx -tä¿®æ”¹Nginxçš„é»˜è®¤é…ç½®ï¼Œå…¶ä¸­ vim åè¾¹å°±æ˜¯åˆšæ‰æŸ¥åˆ°çš„å®‰è£…ä½ç½®ï¼ˆæ¯ä¸ªäººå¯èƒ½éƒ½ä¸ä¸€æ ·ï¼‰12345678$ vim /etc/nginx/nginx.conf # æ‰¾åˆ°location / &#123;&#125;# rootä¸ºé™æ€æ–‡ä»¶å­˜æ”¾åœ°å€ ä¹Ÿå°±æ˜¯ä»“åº“location / &#123; root /home/hexoBlog; index index.html;&#125;é‡å¯ Nginx æœåŠ¡1$ systemctl restart nginxè‡³æ­¤ï¼ŒæœåŠ¡å™¨ç«¯é…ç½®å°±ç»“æŸäº†ã€‚æ¥ä¸‹æ¥ï¼Œå°±å‰©ä¸‹æœ¬åœ° hexo çš„é…ç½®æ›´æ”¹äº†ã€‚ä¿®æ”¹ hexo ç«™ç‚¹é…ç½®æ–‡ä»¶ git ç›¸å…³è®¾ç½®æ‰“å¼€ä½ æœ¬åœ°çš„ hexo åšå®¢æ‰€åœ¨æ–‡ä»¶ï¼Œæ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼ˆä¸æ˜¯ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼‰ï¼Œåšä»¥ä¸‹ä¿®æ”¹ã€‚1234deploy: type: git repo: git@ä½ çš„äº‘æœåŠ¡å™¨çš„IPåœ°å€:/home/git/hexoBlog branch: masteråœ¨ hexo ç›®å½•ä¸‹æ‰§è¡Œéƒ¨ç½²ï¼Œè¯•è¯•çœ‹ã€‚123$ cd ä½ çš„hexoç›®å½•$ hexo clean$ hexo g -dæ‰“å¼€ä½ çš„å…¬ç½‘ IPï¼Œçœ‹æ˜¯ä¸æ˜¯å·²ç»éƒ¨ç½²æˆåŠŸäº†ã€‚å‚è€ƒæ–‡ç« Hexo åšå®¢éƒ¨ç½²åˆ°è…¾è®¯äº‘æ•™ç¨‹å¸¦ä½ è·³è¿‡å„ç§å‘ï¼Œä¸€æ¬¡æ€§æŠŠ Hexo åšå®¢éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨æ­å»ºGitæœåŠ¡å™¨å°†Hexoåšå®¢éƒ¨ç½²åˆ°äº‘ä¸»æœºLinuxç³»ç»Ÿæ­å»ºGitæœåŠ¡å™¨ï¼Œæ·»åŠ ç”¨æˆ·åå¯†ç å®ç°å¤šç”¨æˆ·ç®¡ç†","categories":[{"name":"Git","slug":"Git","permalink":"https://blog.ihui.ink/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://blog.ihui.ink/tags/Git/"},{"name":"Hexo","slug":"Hexo","permalink":"https://blog.ihui.ink/tags/Hexo/"}]},{"title":"AVLå¹³è¡¡äºŒå‰æ ‘å­¦ä¹ ","slug":"AVL-tree","date":"2019-12-14T13:16:49.000Z","updated":"2019-12-21T01:48:34.634Z","comments":true,"path":"2019/12/14/AVL-tree/","link":"","permalink":"https://blog.ihui.ink/2019/12/14/AVL-tree/","excerpt":"å¹³è¡¡äºŒå‰æ ‘(AVL)ï¼Œæ˜¯ä¸€ç§äºŒå‰æ’åºæ ‘ï¼Œå…¶ä¸­æ¯ä¸ªç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®è‡³å¤šç­‰äº1ã€‚å®ƒæ˜¯ä¸€ç§é«˜åº¦å¹³è¡¡çš„äºŒå‰æ’åºæ ‘ã€‚é«˜åº¦å¹³è¡¡ï¼Ÿæ„æ€æ˜¯è¯´ï¼Œè¦ä¹ˆå®ƒæ˜¯ä¸€æ£µç©ºæ ‘ï¼Œè¦ä¹ˆå®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œä¸”å·¦å­æ ‘å’Œå³å­æ ‘çš„æ·±åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ã€‚","text":"å¹³è¡¡äºŒå‰æ ‘(AVL)ï¼Œæ˜¯ä¸€ç§äºŒå‰æ’åºæ ‘ï¼Œå…¶ä¸­æ¯ä¸ªç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®è‡³å¤šç­‰äº1ã€‚å®ƒæ˜¯ä¸€ç§é«˜åº¦å¹³è¡¡çš„äºŒå‰æ’åºæ ‘ã€‚é«˜åº¦å¹³è¡¡ï¼Ÿæ„æ€æ˜¯è¯´ï¼Œè¦ä¹ˆå®ƒæ˜¯ä¸€æ£µç©ºæ ‘ï¼Œè¦ä¹ˆå®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œä¸”å·¦å­æ ‘å’Œå³å­æ ‘çš„æ·±åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ã€‚å¹³è¡¡äºŒå‰æ ‘ç‰¹ç‚¹å¹³è¡¡å› å­BFï¼šæŒ‡çš„æ˜¯äºŒå‰æ ‘å·¦å­æ ‘æ·±åº¦å‡å»å³å­æ ‘æ·±åº¦ã€‚å¹³è¡¡å› å­åªèƒ½æ˜¯-1,0,1ã€‚åªè¦äºŒå‰æ ‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„å¹³è¡¡å› å­ç»å¯¹å€¼å¤§äº1ï¼Œåˆ™è¯¥æ ‘å°±ä¸å¹³è¡¡äº†ã€‚ä¸€æ£µAVLæ ‘æœ‰å¦‚ä¸‹å¿…è¦æ¡ä»¶ï¼šæ¡ä»¶ä¸€ï¼šå®ƒå¿…é¡»æ˜¯äºŒå‰æ’åºæ ‘ã€‚æ¡ä»¶äºŒï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®è‡³å¤šä¸º1ã€‚ä¹Ÿå°±æ˜¯è¯´å¹³è¡¡å› å­ç»å¯¹å€¼ä¸è¶…è¿‡1å®ç”¨æ€§åˆ†æAVLå¹³è¡¡äºŒå‰æ ‘çš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ“ä½œåœ¨å¹³å‡å’Œæœ€åçš„æƒ…å†µä¸‹éƒ½æ˜¯Oï¼ˆlognï¼‰ï¼Œè¿™å¾—ç›Šäºå®ƒæ—¶åˆ»ç»´æŠ¤ç€äºŒå‰æ ‘çš„å¹³è¡¡ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æŸ¥æ‰¾çš„é›†åˆæœ¬èº«æ²¡æœ‰é¡ºåºï¼Œåœ¨é¢‘ç¹æŸ¥æ‰¾çš„åŒæ—¶ä¹Ÿç»å¸¸çš„æ’å…¥å’Œåˆ é™¤ï¼ŒAVLæ ‘æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚ä¸å¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘åœ¨æŸ¥æ‰¾æ—¶çš„æ•ˆç‡æ˜¯å¾ˆä½çš„ï¼Œå› æ­¤ï¼ŒAVLå¦‚ä½•ç»´æŠ¤äºŒå‰æ ‘çš„å¹³è¡¡æ˜¯æˆ‘ä»¬çš„å­¦ä¹ é‡ç‚¹ã€‚å››ç§æ—‹è½¬æ–¹å¼LLå‹æ—‹è½¬ç”±äºåœ¨Açš„å·¦å­©å­(L)çš„å·¦å­æ ‘(L)ä¸Šæ’å…¥æ–°ç»“ç‚¹ï¼Œä½¿åŸæ¥å¹³è¡¡äºŒå‰æ ‘å˜å¾—ä¸å¹³è¡¡ï¼Œæ­¤æ—¶Açš„å¹³è¡¡å› å­ç”±1å¢è‡³2ã€‚ä¸‹é¢å›¾1æ˜¯LLå‹çš„æœ€ç®€å•å½¢å¼ã€‚æ˜¾ç„¶ï¼ŒæŒ‰ç…§å¤§å°å…³ç³»ï¼Œç»“ç‚¹Båº”ä½œä¸ºæ–°çš„æ ¹ç»“ç‚¹ï¼Œå…¶ä½™ä¸¤ä¸ªèŠ‚ç‚¹åˆ†åˆ«ä½œä¸ºå·¦å³å­©å­èŠ‚ç‚¹æ‰èƒ½å¹³è¡¡ï¼ŒAç»“ç‚¹å°±å¥½åƒæ˜¯ç»•ç»“ç‚¹Bé¡ºæ—¶é’ˆæ—‹è½¬ä¸€æ ·ã€‚LLå‹è°ƒæ•´çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¡¨ç¤ºåœ¨Açš„å·¦å­©å­Bçš„å·¦å­æ ‘BL(ä¸ä¸€å®šä¸ºç©º)ä¸­æ’å…¥ç»“ç‚¹(å›¾ä¸­é˜´å½±éƒ¨åˆ†æ‰€ç¤º)è€Œå¯¼è‡´ä¸å¹³è¡¡( h è¡¨ç¤ºå­æ ‘çš„æ·±åº¦)ã€‚è¿™ç§æƒ…å†µè°ƒæ•´å¦‚ä¸‹ï¼šâ‘ å°†Açš„å·¦å­©å­Bæå‡ä¸ºæ–°çš„æ ¹ç»“ç‚¹ï¼›â‘¡å°†åŸæ¥çš„æ ¹ç»“ç‚¹Aé™ä¸ºBçš„å³å­©å­ï¼›â‘¢å„å­æ ‘æŒ‰å¤§å°å…³ç³»è¿æ¥(BLå’ŒARä¸å˜ï¼ŒBRè°ƒæ•´ä¸ºAçš„å·¦å­æ ‘)ã€‚RRå‹æ—‹è½¬å’ŒLLå‹æ—‹è½¬ç±»ä¼¼è¡¨ç¤ºåœ¨Açš„å³å­©å­Bçš„å³å­æ ‘BR(ä¸ä¸€å®šä¸ºç©º)ä¸­æ’å…¥ç»“ç‚¹(å›¾ä¸­é˜´å½±éƒ¨åˆ†æ‰€ç¤º)è€Œå¯¼è‡´ä¸å¹³è¡¡( h è¡¨ç¤ºå­æ ‘çš„æ·±åº¦)ã€‚è¿™ç§æƒ…å†µè°ƒæ•´å¦‚ä¸‹ï¼šâ‘ å°†Açš„å³å­©å­Bæå‡ä¸ºæ–°çš„æ ¹ç»“ç‚¹ï¼›â‘¡å°†åŸæ¥çš„æ ¹ç»“ç‚¹Aé™ä¸ºBçš„å·¦å­©å­ï¼›â‘¢å„å­æ ‘æŒ‰å¤§å°å…³ç³»è¿æ¥(ALå’ŒBRä¸å˜ï¼ŒBLè°ƒæ•´ä¸ºAçš„å³å­æ ‘)ã€‚LRå‹æ—‹è½¬è¡¨ç¤ºåœ¨Açš„å·¦å­©å­Bçš„å³å­æ ‘(æ ¹ç»“ç‚¹ä¸ºCï¼Œä¸ä¸€å®šä¸ºç©º)ä¸­æ’å…¥ç»“ç‚¹(å›¾ä¸­ä¸¤ä¸ªé˜´å½±éƒ¨åˆ†ä¹‹ä¸€)è€Œå¯¼è‡´ä¸å¹³è¡¡( h è¡¨ç¤ºå­æ ‘çš„æ·±åº¦)ã€‚è¿™ç§æƒ…å†µè°ƒæ•´å¦‚ä¸‹ï¼šâ‘ å°†Bçš„å³å­©å­Cæå‡ä¸ºæ–°çš„æ ¹ç»“ç‚¹ï¼›â‘¡å°†åŸæ¥çš„æ ¹ç»“ç‚¹Aé™ä¸ºCçš„å³å­©å­ï¼ŒBå˜ä¸ºCçš„å·¦å­©å­ï¼›â‘¢å„å­æ ‘æŒ‰å¤§å°å…³ç³»è¿æ¥(BLå’ŒARä¸å˜ï¼ŒCLå’ŒCRåˆ†åˆ«è°ƒæ•´ä¸ºBçš„å³å­æ ‘å’ŒAçš„å·¦å­æ ‘)ã€‚ç­‰ä»·äº å…ˆä¸€æ¬¡RRæ—‹è½¬å†ä¸€æ¬¡LLæ—‹è½¬ã€‚å…ˆå¯¹Bå³å­©å­CåŠCçš„å³å­©å­è¿›è¡ŒRRæ—‹è½¬ï¼Œå†å¯¹A,B,Cè¿›è¡ŒLLæ—‹è½¬ã€‚RLå‹æ—‹è½¬è¡¨ç¤ºåœ¨Açš„å³å­©å­Bçš„å·¦å­æ ‘(æ ¹ç»“ç‚¹ä¸ºCï¼Œä¸ä¸€å®šä¸ºç©º)ä¸­æ’å…¥ç»“ç‚¹(å›¾ä¸­ä¸¤ä¸ªé˜´å½±éƒ¨åˆ†ä¹‹ä¸€)è€Œå¯¼è‡´ä¸å¹³è¡¡( h è¡¨ç¤ºå­æ ‘çš„æ·±åº¦)ã€‚è¿™ç§æƒ…å†µè°ƒæ•´å¦‚ä¸‹ï¼šâ‘ å°†Bçš„å·¦å­©å­Cæå‡ä¸ºæ–°çš„æ ¹ç»“ç‚¹ï¼›â‘¡å°†åŸæ¥çš„æ ¹ç»“ç‚¹Aé™ä¸ºCçš„å·¦å­©å­ï¼ŒBå˜ä¸ºCçš„å³å­©å­ï¼›â‘¢å„å­æ ‘æŒ‰å¤§å°å…³ç³»è¿æ¥(ALå’ŒBRä¸å˜ï¼ŒCLå’ŒCRåˆ†åˆ«è°ƒæ•´ä¸ºAçš„å³å­æ ‘å’ŒBçš„å·¦å­æ ‘)ã€‚ç­‰ä»·äº å…ˆä¸€æ¬¡LLæ—‹è½¬å†ä¸€æ¬¡RRæ—‹è½¬ã€‚å…ˆå¯¹Bå·¦å­©å­CåŠCçš„å·¦å­©å­è¿›è¡ŒLLæ—‹è½¬ï¼Œå†å¯¹A,B,Cè¿›è¡ŒRRæ—‹è½¬ã€‚C/C++ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384// E [3374] - æ•°æ®ç»“æ„å®éªŒä¹‹æŸ¥æ‰¾äºŒï¼šå¹³è¡¡äºŒå‰æ ‘#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;using namespace std;struct node &#123; int data; //è®°å½•å…³é”®å­—æ•°å€¼ node *l, *r; int height; //å½“å‰èŠ‚ç‚¹çš„é«˜åº¦&#125;;int height(node *p) //æ±‚æ ‘çš„æ·±åº¦&#123; if (p == NULL) return -1; return p-&gt;height;&#125;node *LL(node *p) //å¯¹LLå‹ç›´æ¥åœ¨ä¸å¹³è¡¡ç»“ç‚¹è¿›è¡Œå·¦æ—‹è½¬&#123; node *q = p-&gt;l; // qæ˜¯pçš„å·¦å­æ ‘ p-&gt;l = q-&gt;r; // qçš„å³å­æ ‘å€¼ä¸€å®šå°äºp-&gt;data æ‰€ä»¥p-&gt;lè¿ä¸Šq-&gt;r q-&gt;r = p; // q-&gt;rè¿ä¸Šp ç”»å›¾ç†è§£ p-&gt;height = max(height(p-&gt;l), height(p-&gt;r)) + 1; // è¦æ›´æ–°ç»“ç‚¹çš„é«˜åº¦å€¼ q-&gt;height = max(height(q-&gt;l), p-&gt;height) + 1; return q;&#125;node *RR(node *p) //å¯¹RRå‹ç›´æ¥åœ¨ä¸å¹³è¡¡ç»“ç‚¹è¿›è¡Œå³æ—‹è½¬&#123; node *q = p-&gt;r; // è¿æ¥åŸç†ä¸LLç›¸åŒ p-&gt;r = q-&gt;l; q-&gt;l = p; p-&gt;height = max(height(p-&gt;l), height(p-&gt;r)) + 1; q-&gt;height = max(height(q-&gt;r), p-&gt;height) + 1; return q;&#125;node *LR(node *p) &#123; p-&gt;l = RR(p-&gt;l); //åœ¨ä¸å¹³è¡¡ç»“ç‚¹pçš„å·¦å­©å­ä»¥åŠå·¦å­©å­çš„å­©å­è¿›è¡ŒRRæ—‹è½¬ return LL(p); //åœ¨ä¸å¹³è¡¡ç»“ç‚¹på¤„è¿›è¡ŒLLå¹¶è¿”å›æ–°çš„æ ¹&#125;node *RL(node *p) &#123; p-&gt;r = LL(p-&gt;r); //åœ¨ä¸å¹³è¡¡ç»“ç‚¹pçš„å³å­©å­ä»¥åŠå³å­©å­çš„å­©å­è¿›è¡ŒLLæ—‹è½¬ return RR(p); //åœ¨ä¸å¹³è¡¡ç»“ç‚¹på¤„è¿›è¡ŒRRå¹¶è¿”å›æ–°çš„æ ¹&#125;void insert(node *&amp;p, int k) &#123; //å¾…æ’å…¥çš„å€¼èµ‹ç»™æ–°å¼€è¾Ÿçš„ç»“ç‚¹ if (p == NULL) &#123; p = new node; p-&gt;data = k; p-&gt;height = 0; p-&gt;l = p-&gt;r = NULL; &#125; else if (k &lt; p-&gt;data) &#123; // è‹¥å¾…æ’å…¥çš„å€¼å°äºpçš„å…³é”®å­—æ•°å€¼ï¼Œåˆ™æ’å…¥åˆ°å·¦å­æ ‘ä¸­ insert(p-&gt;l, k); // è‹¥è¯¥æ ‘å‡ºç°ä¸å¹³è¡¡ æ—‹è½¬ if (height(p-&gt;l) - height(p-&gt;r) == 2) &#123; if (k &lt; p-&gt;l-&gt;data) // è‹¥å¾…æ’å…¥çš„å€¼æ’åˆ°äº†å·¦å­æ ‘çš„å·¦å­æ ‘ä¸Šåˆ™å•æ—‹è½¬ p = LL(p); else //è‹¥å¾…æ’å…¥çš„å€¼æ’åˆ°äº†å·¦å­æ ‘çš„å³å­æ ‘ä¸Šåˆ™å•æ—‹è½¬ p = LR(p); &#125; &#125; else if (k &gt; p-&gt;data) &#123; // è‹¥å¾…æ’å…¥çš„å€¼å°äºpçš„å…³é”®å­—æ•°å€¼ï¼Œåˆ™æ’å…¥åˆ°å³å­æ ‘ä¸­ insert(p-&gt;r, k); if (height(p-&gt;r) - height(p-&gt;l) == 2) &#123; // è‹¥å¾…æ’å…¥çš„å€¼æ’åˆ°äº†å³å­æ ‘çš„å³å­æ ‘ä¸Šåˆ™å•æ—‹è½¬ if (k &gt; p-&gt;r-&gt;data) p = RR(p); else // è‹¥å¾…æ’å…¥çš„å€¼æ’åˆ°äº†å³å­æ ‘çš„å·¦å­æ ‘ä¸Šåˆ™å•æ—‹è½¬ p = RL(p); &#125; &#125; p-&gt;height = max(height(p-&gt;l), height(p-&gt;r)) + 1; // ä¿®æ”¹é«˜åº¦&#125;int main() &#123; int n, k; while (~scanf(\"%d\", &amp;n)) &#123; node *head = NULL; for (int i = 0; i &lt; n; i++) &#123; scanf(\"%d\", &amp;k); insert(head, k); &#125; printf(\"%d\\n\", head-&gt;data); &#125; return 0;&#125;æ¨èå­¦ä¹ èµ„æ–™bç«™è§†é¢‘è¿æ¥ï¼šhttps://www.bilibili.com/video/av37955102?from=search&amp;seid=14638889623357631324https://www.bilibili.com/video/av37955178?from=search&amp;seid=14638889623357631324https://www.bilibili.com/video/av37955231?from=search&amp;seid=14638889623357631324å‚è€ƒèµ„æ–™å¹³è¡¡äºŒå‰æ ‘","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://blog.ihui.ink/categories/æ•°æ®ç»“æ„/"},{"name":"æ ‘","slug":"æ•°æ®ç»“æ„/æ ‘","permalink":"https://blog.ihui.ink/categories/æ•°æ®ç»“æ„/æ ‘/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://blog.ihui.ink/tags/æ•°æ®ç»“æ„/"}]},{"title":"equalsä¸==çš„åŒºåˆ«","slug":"equalsä¸ç­‰äºç­‰äºçš„åŒºåˆ«","date":"2019-11-26T14:14:52.000Z","updated":"2019-11-26T14:17:46.626Z","comments":true,"path":"2019/11/26/equalsä¸ç­‰äºç­‰äºçš„åŒºåˆ«/","link":"","permalink":"https://blog.ihui.ink/2019/11/26/equalsä¸ç­‰äºç­‰äºçš„åŒºåˆ«/","excerpt":"","text":"equalsä¸==çš„åŒºåˆ«ä¸€ã€åŸºæœ¬æ•°æ®ç±»å‹ ç”¨(==) è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ï¼Œæ¯”è¾ƒçš„å®é™…å€¼äºŒã€åŒ…è£…æ•°æ®ç±»å‹ ç”¨(==)è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ï¼Œæ¯”è¾ƒçš„æ˜¯åœ¨å†…å­˜ä¸­å­˜æ”¾çš„åœ°å€ä¸‰ã€åŒ…è£…ç±»å‹ä¸­çš„equalsæ–¹æ³•ï¼Œï¼ˆStringï¼ŒIntegerï¼ŒDateï¼‰ç­‰é‡å†™äº†equalsæ–¹æ³•ï¼Œæ¯”è¾ƒçš„æ˜¯åœ°å€å’Œå†…å®¹ï¼Œåœ°å€ç›¸åŒè¿”å›trueï¼Œåœ°å€ä¸åŒä½†å€¼ç›¸åŒè¿”å›trueï¼Œå…¶ä»–è¿”å›falseã€‚æ²¡æœ‰é‡å†™equalsæ–¹æ³•çš„ï¼Œæ¯”è¾ƒçš„è¿˜æ˜¯å†…å­˜åœ°å€ã€‚å››ã€StringBuffer å’Œ StringBuilder æ¯”è¾ƒç‰¹æ®Šï¼Œ == å’Œ equalséƒ½æ˜¯æ¯”è¾ƒçš„åœ°å€ã€‚æ¨èæ–‡ç« https://blog.csdn.net/qq_36522306/article/details/80550210","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"https://blog.ihui.ink/categories/JavaåŸºç¡€/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"é™æ€å·¥å‚å’Œå®ä¾‹å·¥å‚åŒºåˆ«","slug":"é™æ€å·¥å‚å’Œå®ä¾‹å·¥å‚åŒºåˆ«","date":"2019-10-19T08:22:02.000Z","updated":"2019-12-13T12:42:01.846Z","comments":true,"path":"2019/10/19/é™æ€å·¥å‚å’Œå®ä¾‹å·¥å‚åŒºåˆ«/","link":"","permalink":"https://blog.ihui.ink/2019/10/19/é™æ€å·¥å‚å’Œå®ä¾‹å·¥å‚åŒºåˆ«/","excerpt":"","text":"åœ¨å­¦ä¹ Spring beançš„å®ä¾‹åŒ–æ–¹å¼çš„æ—¶å€™é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼ŒSpring beanå®ä¾‹åŒ–æœ‰3ç§æ–¹æ³•é€šè¿‡ç±»çš„æ„é€ å™¨ç”Ÿæˆé€šè¿‡é™æ€å·¥å‚æ–¹æ³•åˆ›å»ºé€šè¿‡å®ä¾‹å·¥å‚æ–¹æ³•åˆ›å»ºé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»€ä¹ˆæ˜¯é™æ€å·¥å‚æ–¹æ³•ï¼Œä»€ä¹ˆæ˜¯å®ä¾‹å·¥å‚æ–¹æ³•ï¼Ÿä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿé™æ€å·¥å‚æ–¹æ³•å°±æ˜¯ç›´æ¥å¯ä»¥é€šè¿‡é™æ€æ–¹æ³•æ¥å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡1234567public class HelloWorldFactory &#123; public static HelloWorld getInstance()&#123; return new HelloWorld(); &#125;&#125;// åˆ›å»ºçš„æ—¶å€™HelloWorldFactory.getInstance();åˆ›å»º HelloWorld å¯¹è±¡ç›´æ¥å¯ä»¥è°ƒç”¨getInstanceæ–¹æ³•æ¥è¿›è¡Œå®ç°å®ä¾‹å·¥å‚æ–¹æ³•å°±æ˜¯å…ˆåˆ›å»ºç±»å¯¹è±¡ï¼Œå¦‚ä½•é€šè¿‡å¯¹è±¡æ¥è°ƒç”¨åˆ›å»ºå®ä¾‹å¯¹è±¡çš„æ–¹æ³•12345678public class HelloWorldFactory &#123; public HelloWorld createHelloWorld()&#123; return new HelloWorld(); &#125;&#125;// åˆ›å»ºçš„æ—¶å€™HelloWorldFactory helloFactory = new HelloWorldFactory();helloFactory.createHelloWorld();å…³äºapplicationContext.xml1234567&lt;!-- åˆ›å»ºå¯¹è±¡çš„ç¬¬äºŒç§æ–¹å¼ï¼šåˆ©ç”¨é™æ€å·¥å‚æ–¹æ³• factory-methodï¼šé™æ€å·¥å‚ç±»çš„è·å–å¯¹è±¡çš„é™æ€æ–¹æ³• class:é™æ€å·¥å‚ç±»çš„å…¨ç±»å é™æ€å·¥å‚æ–¹æ³• å·¥å‚ä¸éœ€è¦å®ä¾‹åŒ– --&gt; &lt;bean id=\"HelloStaticFactory\" factory-method=\"getInstances\" class=\"com.coder.ioc.HelloStaticFactory\"&gt;&lt;/bean&gt;12345678&lt;!-- åˆ›å»ºå¯¹è±¡çš„ç¬¬ä¸‰ç§æ–¹å¼ï¼šåˆ©ç”¨å®ä¾‹å·¥å‚æ–¹æ³• factory-bean:æŒ‡å®šå½“å‰Springä¸­åŒ…å«å·¥å‚æ–¹æ³•çš„beanID factory-method:å·¥å‚æ–¹æ³•åç§° å®ä¾‹å·¥å‚æ–¹æ³•æ˜¯å…ˆå°†å·¥å‚å®ä¾‹åŒ–--&gt; &lt;bean id=\"HelloInstanceFactory\" class=\"com.coder.ioc.HelloInstanceFactory\"&gt;&lt;/bean&gt; &lt;bean id=\"instance\" factory-bean=\"HelloInstanceFactory\" factory-method=\"getInstance\"&gt;&lt;/bean&gt;","categories":[{"name":"Javaåç«¯","slug":"Javaåç«¯","permalink":"https://blog.ihui.ink/categories/Javaåç«¯/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"Javaæ³¨è§£å­¦ä¹ ","slug":"Java-annotation","date":"2019-10-07T13:28:44.000Z","updated":"2019-12-15T06:33:45.690Z","comments":true,"path":"2019/10/07/Java-annotation/","link":"","permalink":"https://blog.ihui.ink/2019/10/07/Java-annotation/","excerpt":"æ³¨é‡Šï¼šç”¨æ–‡å­—æè¿°ç¨‹åºï¼Œç»™ç¨‹åºå‘˜çœ‹çš„æ³¨è§£ï¼šç»™æœºå™¨çœ‹çš„","text":"æ³¨é‡Šï¼šç”¨æ–‡å­—æè¿°ç¨‹åºï¼Œç»™ç¨‹åºå‘˜çœ‹çš„æ³¨è§£ï¼šç»™æœºå™¨çœ‹çš„1.æ³¨è§£åŸºç¡€çŸ¥è¯†ç‚¹å®šä¹‰ï¼šæ³¨è§£ï¼ˆAnnotationï¼‰ï¼Œä¹Ÿå«å…ƒæ•°æ®ã€‚ä¸€ç§ä»£ç çº§åˆ«çš„è¯´æ˜ã€‚å®ƒæ˜¯JDK1.5åŠä»¥åç‰ˆæœ¬å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œä¸ç±»ã€æ¥å£ã€æšä¸¾æ˜¯åœ¨åŒä¸€ä¸ªå±‚æ¬¡ã€‚å®ƒå¯ä»¥å£°æ˜åœ¨åŒ…ã€ç±»ã€å­—æ®µã€æ–¹æ³•ã€å±€éƒ¨å˜é‡ã€æ–¹æ³•å‚æ•°ç­‰çš„å‰é¢ï¼Œç”¨æ¥å¯¹è¿™äº›å…ƒç´ è¿›è¡Œè¯´æ˜ï¼Œæ³¨é‡Šã€‚1.1ä½œç”¨åˆ†ç±»ï¼šâ‘ ç¼–å†™æ–‡æ¡£ï¼šé€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„æ³¨è§£ç”Ÿæˆæ–‡æ¡£ã€ç”Ÿæˆæ–‡æ¡£docæ–‡æ¡£ã€‘â‘¡ä»£ç åˆ†æï¼šé€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„å…ƒæ•°æ®å¯¹ä»£ç è¿›è¡Œåˆ†æã€ä½¿ç”¨åå°„ã€‘â‘¢ç¼–è¯‘æ£€æŸ¥ï¼šé€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„å…ƒæ•°æ®è®©ç¼–è¯‘å™¨èƒ½å¤Ÿå®ç°åŸºæœ¬çš„ç¼–è¯‘æ£€æŸ¥ï¼Œç¼–è¯‘æ£€æŸ¥æ˜¯å¦æ˜¯å¤å†™çˆ¶ç±»çš„æ–¹æ³•ã€Overrideã€‘ç»™æŸä¸ªç±»ã€æ–¹æ³•..æ·»åŠ äº†ä¸€ä¸ªæ³¨è§£ï¼Œè¿™ä¸ªç¯èŠ‚ä»…ä»…æ˜¯åšäº†ä¸€ä¸ªæ ‡è®°ï¼Œå¯¹ä»£ç æœ¬èº«å¹¶ä¸ä¼šé€ æˆä»»ä½•å½±å“ï¼Œéœ€è¦åç»­ç¯èŠ‚çš„é…åˆï¼Œéœ€è¦å…¶ä»–æ–¹æ³•å¯¹è¯¥æ³¨è§£èµ‹äºˆä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚å°±å¦‚åŒæˆ‘ä»¬åœ¨å¾®ä¿¡ä¸Šå‘äº†ä¸€ä¸ªå…±äº«å®šä½ï¼Œæ­¤æ—¶å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œåªæœ‰å½“åé¢å…¶ä»–äººéƒ½è¿›å…¥äº†è¿™ä¸ªå…±äº«å®šä½ï¼Œå¤§å®¶ä¹‹é—´çš„è·ç¦»æ‰èƒ½æ˜ç¡®ï¼Œæ‰çŸ¥é“è¯¥æ€ä¹ˆèšåœ¨ä¸€èµ·ã€‚1.2æ³¨è§£åˆ†ä¸ºä¸‰ç±»ï¼š1.2.1ç¼–è¯‘å™¨ä½¿ç”¨åˆ°çš„æ³¨è§£å¦‚@Overrideï¼Œ@SuppressWarningséƒ½æ˜¯ç¼–è¯‘å™¨ä½¿ç”¨åˆ°çš„æ³¨è§£ï¼Œä½œç”¨æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ä¸€äº›äº‹æƒ…ï¼Œè€Œä¸ä¼šè¿›å…¥ç¼–è¯‘åçš„.classæ–‡ä»¶ã€‚@Overrideï¼šå‘Šè¯‰ç¼–è¯‘å™¨æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼›@SuppressWarningsï¼šå‘Šè¯‰ç¼–è¯‘å™¨å¿½ç•¥è¯¥æ®µä»£ç äº§ç”Ÿçš„è­¦å‘Šï¼›å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œéƒ½æ˜¯ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€è¿›è¡Œå…¶ä»–æ“ä½œ1.2.2.classæ–‡ä»¶ä½¿ç”¨åˆ°æ³¨è§£éœ€è¦é€šè¿‡å·¥å…·å¯¹.classå­—èŠ‚ç æ–‡ä»¶è¿›è¡Œä¿®æ”¹çš„ä¸€äº›æ³¨è§£ï¼ŒæŸäº›å·¥å…·ä¼šåœ¨ç±»åŠ è½½çš„æ—¶å€™ï¼ŒåŠ¨æ€ä¿®æ”¹ç”¨æŸæ³¨è§£æ ‡æ³¨çš„.classæ–‡ä»¶ï¼Œä»è€Œå®ç°ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ï¼Œä¸€æ¬¡æ€§å¤„ç†å®Œæˆåï¼Œå¹¶ä¸ä¼šå­˜åœ¨äºå†…å­˜ä¸­ï¼Œéƒ½æ˜¯éå¸¸åº•å±‚çš„å·¥å…·åº“ã€æ¡†æ¶ä¼šä½¿ç”¨ï¼Œå¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œä¸€èˆ¬ä¸ä¼šæ¶‰åŠåˆ°ã€‚1.2.3è¿è¡ŒæœŸè¯»å–çš„æ³¨è§£ä¸€ç›´å­˜åœ¨äºJVMä¸­ï¼Œåœ¨è¿è¡ŒæœŸé—´å¯ä»¥è¯»å–çš„æ³¨è§£ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ³¨è§£ï¼Œå¦‚Springçš„@Controllerï¼Œ@Serviceï¼Œ@Repositoryï¼Œ@AutoWiredï¼ŒMybatisçš„@Mapperï¼ŒJunitçš„@Testç­‰ï¼Œè¿™ç±»æ³¨è§£å¾ˆå¤šéƒ½æ˜¯å·¥å…·æ¡†æ¶è‡ªå®šä¹‰åœ¨è¿è¡ŒæœŸé—´å‘æŒ¥ç‰¹æ®Šä½œç”¨çš„æ³¨è§£ï¼Œä¸€èˆ¬å¼€å‘äººå‘˜ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¿™ç±»æ³¨è§£ã€‚2.è‡ªå®šä¹‰æ³¨è§£ï¼š2.1æ ¼å¼ï¼š123public @interface æ³¨è§£åç§° &#123; //å±æ€§åˆ—è¡¨ï¼š&#125;2.2æœ¬è´¨ï¼šæ³¨è§£çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè¯¥æ¥å£é»˜è®¤ç»§æ‰¿java.lang.annotation.Annotationpublic interface myAnnotation extends java.lang.annotation.Annotation {}2.3å±æ€§æ¥å£ä¸­å¯ä»¥è‡ªå®šçš„æˆå‘˜æ–¹æ³• === æŠ½è±¡æ–¹æ³•è¿”å›ç±»å‹è¦æ±‚ï¼š ä¸èƒ½æ˜¯åŒ…è£…ç±»å‹8ç§åŸºæœ¬æ•°æ®ç±»å‹Stringæšä¸¾æ³¨è§£ä»¥ä¸Šç±»å‹çš„æ•°ç»„è¦æ±‚ï¼šå®šä¹‰äº†å±æ€§ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦ç»™å±æ€§èµ‹å€¼ ï¼ˆå¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼‰ String name() default â€œâ€;ç‰¹æ®Šçš„å±æ€§ åªæœ‰ä¸€ä¸ªå±æ€§éœ€è¦èµ‹å€¼ï¼Œä¸”å±æ€§çš„åå­—çš„æ˜¯value ä¹¦å†™æ³¨è§£çš„æ—¶å€™å¯ä»¥çœç•¥vlaue=@myAnnotation(name = â€œè¾‰â€) ==&gt; @myAnnotation(â€œè¾‰â€)æ•°ç»„èµ‹å€¼çš„æ—¶å€™ï¼Œä½¿ç”¨{}åŒ…è£¹ã€‚å¦‚æœæ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªå€¼ï¼Œåˆ™{}çœç•¥æ³¨è§£æ ·ä¾‹ï¼š12345678910package com.demo.Annotation;public @interface myAnnotation &#123; // ä¸‹é¢ä»£è¡¨ä¸€ä¸ªä¸ªçš„å±æ€§ defaultä»£è¡¨é»˜è®¤ String value() default \"\"; int age() default 0; Person p(); myAnno2 ANNO_2(); int[] Arr();&#125;ä½¿ç”¨æ³¨è§£ï¼š12345package com.demo.Annotation;@myAnnotation(value = \"xx\", age = 11, p = Person.p1, ANNO_2 = @myAnno2, Arr = &#123;1, 2&#125;)public class woker &#123;&#125;2.4å…ƒæ³¨è§£å®šä¹‰ï¼š ç”¨äºæè¿°æ³¨è§£çš„æ³¨è§£ å…ƒæ³¨è§£ä¹Ÿå¯ä»¥æè¿°å…ƒæ³¨è§£@Targetï¼š æè¿°æ³¨è§£èƒ½å¤Ÿä½œç”¨çš„ä½ç½®12345@Target(ElementType.TYPE) // åªèƒ½ä½œç”¨äºç±»@Target(ElementType.METHOD) // åªèƒ½ä½œç”¨äºæ–¹æ³•@Target(ElementType.FIELD) // åªèƒ½ä½œç”¨äºå­—æ®µ@Target(&#123;ElementType.TYPE, ElementType.METHOD, ElementType.FIELD&#125;) // ä½œç”¨äºå¤šä¸ª//.....other@Retentionï¼šæè¿°æ³¨è§£è¢«ä¿ç•™çš„é˜¶æ®µ123456789101112131415161718192021@Retention(RetentionPolicy.RUNTIME)@Retention(RetentionPolicy.CLASS)@Retention(RetentionPolicy.SOURCE)//-------------------------------------------------------//public enum RetentionPolicy &#123; /** * ä»…å­˜åœ¨äºæºä»£ç ä¸­ï¼Œç¼–è¯‘é˜¶æ®µä¼šè¢«ä¸¢å¼ƒï¼Œä¸ä¼šåŒ…å«äºclasså­—èŠ‚ç æ–‡ä»¶ä¸­. */ SOURCE, /** * ã€é»˜è®¤ç­–ç•¥ã€‘ï¼Œåœ¨classå­—èŠ‚ç æ–‡ä»¶ä¸­å­˜åœ¨ï¼Œåœ¨ç±»åŠ è½½çš„æ—¶è¢«ä¸¢å¼ƒï¼Œè¿è¡Œæ—¶æ— æ³•è·å–åˆ° */ CLASS, /** * å§‹ç»ˆä¸ä¼šä¸¢å¼ƒï¼Œå¯ä»¥ä½¿ç”¨åå°„è·å¾—è¯¥æ³¨è§£çš„ä¿¡æ¯ã€‚è‡ªå®šä¹‰çš„æ³¨è§£æœ€å¸¸ç”¨çš„ä½¿ç”¨æ–¹å¼ã€‚ */ RUNTIME&#125;@Documentedï¼šæè¿°æ³¨è§£æ˜¯å¦ä¼šè¢«æŠ½å–åˆ°æ–‡æ¡£ä¸­è¡¨ç¤ºæ˜¯å¦å°†æ­¤æ³¨è§£çš„ç›¸å…³ä¿¡æ¯æ·»åŠ åˆ°javadocæ–‡æ¡£ä¸­@Inheritedï¼šæè¿°æ³¨è§£æ˜¯å¦è¢«å­ç±»ç»§æ‰¿å®šä¹‰è¯¥æ³¨è§£å’Œå­ç±»çš„å…³ç³»ï¼Œä½¿ç”¨æ­¤æ³¨è§£å£°æ˜å‡ºæ¥çš„è‡ªå®šä¹‰æ³¨è§£ï¼Œåœ¨ä½¿ç”¨åœ¨ç±»ä¸Šé¢æ—¶ï¼Œå­ç±»ä¼šè‡ªåŠ¨ç»§æ‰¿æ­¤æ³¨è§£ï¼Œå¦åˆ™ï¼Œå­ç±»ä¸ä¼šç»§æ‰¿æ­¤æ³¨è§£ã€‚æ³¨æ„ï¼Œä½¿ç”¨@Inheritedå£°æ˜å‡ºæ¥çš„æ³¨è§£ï¼Œåªæœ‰åœ¨ç±»ä¸Šä½¿ç”¨æ—¶æ‰ä¼šæœ‰æ•ˆï¼Œå¯¹æ–¹æ³•ï¼Œå±æ€§ç­‰å…¶ä»–æ— æ•ˆã€‚123456@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Inheritedpublic @interface Person &#123; String value() default \"man\";&#125;1234567@Personpublic class Parent &#123;&#125;//å­ç±»ä¹Ÿæ‹¥æœ‰@Personæ³¨è§£class Son extends Parent &#123;&#125;2.5å®šä¹‰æ³¨è§£å°ç»“ç”¨@interfaceå®šä¹‰æ³¨è§£å¯ä»¥æ·»åŠ å¤šä¸ªå‚æ•°ï¼Œæ ¸å¿ƒå‚æ•°æŒ‰çº¦å®šç”¨valueï¼Œä¸ºæ¯ä¸ªå‚æ•°å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œå‚æ•°ç±»å‹åŒ…æ‹¬åŸºæœ¬ç±»å‹ã€Stringå’Œæšä¸¾å¯ä»¥ä½¿ç”¨å…ƒæ³¨è§£æ¥ä¿®é¥°æ³¨è§£ï¼Œå…ƒæ³¨è§£åŒ…æ‹¬å¤šä¸ªï¼Œå¿…é¡»è®¾ç½®@Targetå’Œ@Retentionï¼Œ@Retentionä¸€èˆ¬è®¾ç½®ä¸ºRUNTIMEã€‚3.Annotationè§£æå¤„ç†3.1è§£æå¤„ç†å«æ³¨è§£çš„ç±»12345678910111213141516171819202122232425package com.demo.Annotation;public class User &#123; @Colum(\"è¾‰\") private String name; @Colum(\"18\") private String age; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getAge() &#123; return age; &#125; public void setAge(String age) &#123; this.age = age; &#125;&#125;è·å–æ³¨è§£12345678910111213141516171819@Testpublic void test02() throws ClassNotFoundException &#123; List&lt;String&gt; colums = new ArrayList&lt;&gt;(); // è·å–ç›®æ ‡ç±»çš„å­—èŠ‚ç  Class&lt;?&gt; clazz = Class.forName(\"com.demo.Annotation.User\"); // è·å–è¯¥ç±»ä¸­æ‰€æœ‰å­—æ®µ Field[] fields = clazz.getDeclaredFields(); for (Field field : fields) &#123; // è·å–ç±»ä¸­æ¯ä¸€ä¸ªå­—æ®µçš„Columæ³¨è§£ Colum col = field.getAnnotation(Colum.class); // æˆ–è€…å¯ä»¥å…ˆåˆ¤æ–­æœ‰æ— è¯¥æ³¨è§£ field.isAnnotationPresent(Colum.class); // æ·»åŠ è¿›é›†åˆ colums.add(col.value()); &#125; // æ‰“å°é›†åˆ colums.forEach((name) -&gt; System.out.println(name));&#125;æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€äº›å¸¸è§çš„åº”ç”¨åœºæ™¯ï¼Œéœ€è¦æŠŠç½‘ç«™ä¸Šçš„åˆ—è¡¨å¯¼å‡ºæˆexcelè¡¨æ ¼ï¼Œæˆ‘ä»¬é€šè¿‡æ³¨è§£çš„æ–¹å¼æŠŠåˆ—åé…ç½®å¥½ï¼Œå†é€šè¿‡åå°„è¯»å–å®ä½“éœ€è¦å¯¼å‡ºï¼ˆæ˜¯å¦éœ€è¦å¯¼å‡ºï¼Œä¹Ÿå¯é€šè¿‡æ³¨è§£é…ç½®ï¼‰çš„æ¯ä¸ªå­—æ®µçš„å€¼ï¼Œä»è€Œå®ç° excelå¯¼å‡ºçš„ç»„ä»¶ã€‚3.2æ³¨è§£åº•å±‚åŸç†æ³¨è§£å®šä¹‰åä¹Ÿæ˜¯ä¸€ç§classï¼Œæ‰€æœ‰çš„æ³¨è§£éƒ½ç»§æ‰¿è‡ªjava.lang.annotation.Annotationï¼Œå› æ­¤ï¼Œè¯»å–æ³¨è§£ï¼Œéœ€è¦ä½¿ç”¨åå°„APIã€‚12345678910111213package com.demo.Annotation;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;@Target(ElementType.FIELD)@Retention(RetentionPolicy.RUNTIME)public @interface Colum &#123; String value() default \"\"; String name() default \"\";&#125;å…¶å®åªè¦åœ¨ç±»ä¸Šã€æ–¹æ³•ä¸Šã€å­—æ®µä¸Šå£°æ˜æ³¨è§£åå°±ä¼šæ ¹æ®æ³¨è§£ä¸Šå†™çš„ç›¸å…³çš„valueå€¼ç”Ÿæˆä¸€ä¸ª.classä¸Šé¢æ³¨è§£ç”Ÿæˆä¸€ä¸ª æ³¨è§£æ¥å£çš„å®ç°ç±»12345678910111213//....public class ColumImpl implements Colum &#123; public String getValue() &#123; return \"å£°æ˜æ³¨è§£æ—¶å¡«å†™çš„å†…å®¹\"; &#125; public String getName() &#123; return \"å£°æ˜æ³¨è§£æ—¶å¡«å†™çš„å†…å®¹\"; &#125;&#125;// ç„¶å è·å–æ³¨è§£æ¥å£å®ç°ç±»å®ä¾‹å¯¹è±¡ colColum col = field.getAnnotation(Colum.class);// ç„¶åå°±å¯ä»¥é€šè¿‡å¯¹è±¡å‚¨å­˜çš„å€¼ å’Œ å¼ºå¤§çš„åå°„ è¿›è¡Œä¸€ç³»åˆ—æ“ä½œäº†4.æ€»ç»“æœ¬æ–‡åªæ˜¯æŠ›ç –å¼•ç‰åœ°è®²è§£äº†æ³¨è§£çš„åŸºæœ¬æ¦‚å¿µï¼Œæ³¨è§£çš„ä½œç”¨ï¼Œå‡ ç§å…ƒæ³¨è§£çš„åŠŸç”¨ä»¥åŠä½¿ç”¨æ–¹æ³•ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­è®²è§£äº†ä¸€ä¸‹æ³¨è§£çš„å¤„ç†ï¼Œå¹¶ä¸å…¨é¢ï¼Œæ–‡ä¸­é€šè¿‡Fieldè®²è§£äº†æ³¨è§£çš„åŸºæœ¬Apiï¼Œä½†æ³¨è§£è¿˜å¯ä»¥ä¿®é¥°ç±»ã€æ„é€ å™¨ã€æ–¹æ³•ç­‰ï¼Œä¹Ÿæœ‰ç›¸å¯¹åº”çš„æ³¨è§£å¤„ç†æ–¹æ³•ï¼Œå¤§å®¶å¯è‡ªè¡ŒæŸ¥ä¸€ä¸‹APIæ‰‹å†Œç›¸å…³å†…å®¹ï¼Œå¤§åŒå°å¼‚ï¼Œæœ‰ä¸å¯¹ä¹‹å¤„ï¼Œè¯·æ‰¹è¯„æŒ‡æ­£ï¼Œæœ›å…±åŒè¿›æ­¥ï¼Œè°¢è°¢ï¼","categories":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"https://blog.ihui.ink/categories/JavaåŸºç¡€/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"Javaåå°„æœºåˆ¶æ·±å…¥å­¦ä¹ ","slug":"Java-reflex","date":"2019-09-30T11:29:07.000Z","updated":"2019-12-15T06:41:54.960Z","comments":true,"path":"2019/09/30/Java-reflex/","link":"","permalink":"https://blog.ihui.ink/2019/09/30/Java-reflex/","excerpt":"åå°„æ˜¯æ¡†æ¶è®¾è®¡çš„çµé­‚ï¼ˆä½¿ç”¨çš„å‰ææ¡ä»¶ï¼šå¿…é¡»å…ˆå¾—åˆ°ä»£è¡¨çš„å­—èŠ‚ç çš„Classï¼ŒClassç±»ç”¨äºè¡¨ç¤º.classæ–‡ä»¶ï¼ˆå­—èŠ‚ç ï¼‰","text":"åå°„æ˜¯æ¡†æ¶è®¾è®¡çš„çµé­‚ï¼ˆä½¿ç”¨çš„å‰ææ¡ä»¶ï¼šå¿…é¡»å…ˆå¾—åˆ°ä»£è¡¨çš„å­—èŠ‚ç çš„Classï¼ŒClassç±»ç”¨äºè¡¨ç¤º.classæ–‡ä»¶ï¼ˆå­—èŠ‚ç ï¼‰ä¸€ã€åå°„çš„æ¦‚è¿°Javaåå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»(classæ–‡ä»¶)ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ï¼›è¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚è¦æƒ³è§£å‰–ä¸€ä¸ªç±»,å¿…é¡»å…ˆè¦è·å–åˆ°è¯¥ç±»çš„å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ã€‚è€Œè§£å‰–ä½¿ç”¨çš„å°±æ˜¯Classç±»ä¸­çš„æ–¹æ³•ã€‚æ‰€ä»¥å…ˆè¦è·å–åˆ°æ¯ä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶å¯¹åº”çš„Classç±»å‹çš„å¯¹è±¡ã€‚åå°„å°±æ˜¯æŠŠjavaç±»ä¸­çš„å„ç§æˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„Javaå¯¹è±¡ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªç±»æœ‰ï¼šæˆå‘˜å˜é‡ã€æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€åŒ…ç­‰ç­‰ä¿¡æ¯ï¼Œåˆ©ç”¨åå°„æŠ€æœ¯å¯ä»¥å¯¹ä¸€ä¸ªç±»è¿›è¡Œè§£å‰–ï¼ŒæŠŠä¸€ä¸ªä¸ªç»„æˆéƒ¨åˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªå¯¹è±¡ã€‚ï¼ˆå…¶å®ï¼šä¸€ä¸ªç±»ä¸­è¿™äº›æˆå‘˜æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€åœ¨åŠ å…¥ç±»ä¸­éƒ½æœ‰ä¸€ä¸ªç±»æ¥æè¿°ï¼‰ã€‚ä»¥ä¸Šçš„æ€»ç»“å°±æ˜¯ä»€ä¹ˆæ˜¯åå°„å¦‚å›¾æ˜¯ç±»çš„æ­£å¸¸åŠ è½½è¿‡ç¨‹ï¼šåå°„çš„åŸç†åœ¨ä¸classå¯¹è±¡ã€‚ç†Ÿæ‚‰ä¸€ä¸‹åŠ è½½çš„æ—¶å€™ï¼šClasså¯¹è±¡çš„ç”±æ¥æ˜¯å°†classæ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œå¹¶ä¸ºä¹‹åˆ›å»ºä¸€ä¸ªClasså¯¹è±¡ã€‚äºŒã€è·å–å­—èŠ‚ç å¯¹è±¡çš„ä¸‰ç§æ–¹å¼ã€‚12345678910Class class1 = Class.forName(\"cn.coder.Person\"); // å¸¸ç”¨çš„//é€šè¿‡Classç±»ä¸­çš„é™æ€æ–¹æ³•forNameï¼Œç›´æ¥è·å–åˆ°ä¸€ä¸ªç±»çš„å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ï¼Œæ­¤æ—¶è¯¥ç±»è¿˜æ˜¯æºæ–‡ä»¶é˜¶æ®µï¼Œå¹¶æ²¡æœ‰å˜ä¸ºå­—èŠ‚ç æ–‡ä»¶ã€‚Class class2 = Person.class;//å½“ç±»è¢«åŠ è½½æˆ.classæ–‡ä»¶æ—¶ï¼Œæ­¤æ—¶Personç±»å˜æˆäº†.classï¼Œåœ¨è·å–è¯¥å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è·å–è‡ªå·±ï¼Œ è¯¥ç±»å¤„äºå­—èŠ‚ç é˜¶æ®µã€‚Person person = new Preson();Class class3 = person.getClass(); //é€šè¿‡ç±»çš„å®ä¾‹è·å–è¯¥ç±»çš„å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ï¼Œè¯¥ç±»å¤„äºåˆ›å»ºå¯¹è±¡é˜¶æ®µæœ‰äº†å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡æ‰èƒ½è·å¾—ç±»ä¸­æ‰€æœ‰çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨åå°„è·å–ä¿¡æ¯æ—¶ï¼Œä¹Ÿè¦è€ƒè™‘ä½¿ç”¨ä¸Šé¢å“ªç§æ–¹å¼è·å–å­—èŠ‚ç å¯¹è±¡åˆç†ï¼Œè§†ä¸åŒæƒ…å†µè€Œå®šã€‚ä¸‰ã€ä¼˜é›…çš„åˆ©ç”¨å­—èŠ‚ç å¯¹è±¡ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®ä¾‹ä»‹ç»Classç±»çš„åŠŸèƒ½3.1é€šè¿‡å­—èŠ‚ç å¯¹è±¡è·å–æ„é€ å™¨å®ä¾‹å¯¹è±¡123456789101112131415161718192021222324252627// ç¬¬ä¸€ç§Class class1 = Class.forName(\"cn.coder.Person\");Person p1 = (Person)class1.newInstance(); // é€šè¿‡æ— å‚æ„é€ å™¨ åˆ›å»ºPersonå®ä¾‹/*å±€é™ï¼šè¯¥ç±»æ— å‚çš„æ„é€ æ–¹æ³•æ¥æ˜¯ä½¿ç”¨è¯¥Classç±»çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡çš„, å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°, å°±ä¸èƒ½è¿™æ ·åˆ›å»ºäº†ã€‚*/// ç¬¬äºŒç§Class class2 = Class.forName(\"cn.coder.Person\");Construnctor con = class2.getConstructor(int.class, String.class);Construnctor con0 = class2.getConstructor(new Class[] &#123;int.class, String.class&#125;); //æ•ˆæœåŒä¸ŠPerson p2 = (Person)con.newInstance(18,\"è‡­å¼Ÿå¼Ÿ\");Person p0 = (Person)con0.newInstance(new Object[]&#123;18, \"è‡­å¼Ÿå¼Ÿ\"&#125;); // æ•ˆæœåŒä¸Š// ç¬¬ä¸‰ç§ å…¶å®è¿˜å¯ä»¥ è·å–æ‰€æœ‰æ„é€ å™¨Constructor[] con = class2.getConstructors();for(int i=0; i&lt;con.length; i++)&#123; //è·å–æ¯ä¸ªæ„é€ å‡½æ•°ä¸­çš„å‚æ•°ç±»å‹å­—èŠ‚ç å¯¹è±¡ Class[] parameterTypes = con[i].getParameterTypes(); for(int j=0; j&lt;paraparameterTypes.length; j++)&#123; //è·å–æ¯ä¸ªæ„é€ å‡½æ•°ä¸­çš„å‚æ•°ç±»å‹ System.out.print(paraparameterTypes[j].getName() + \",\"); &#125;&#125;3.2è·å–æˆå‘˜å˜é‡å¹¶ä½¿ç”¨â€”Filedå¯¹è±¡123456789101112131415161718Class personClass = Person.class;// è·å–ç±»å˜é‡Field[] fields = personClass.getFields(); // åªèƒ½è·å–publicä¿®é¥°çš„å˜é‡Field[] fields1 =personClass.getDeclaredFields(); // è·å–æ‰€æœ‰å˜é‡System.out.println(\"---------------\");Field a = personClass.getField(\"a\"); // è·å–åä¸ºaçš„å˜é‡Person p = new Person();Object value = a.get(p); // è·å–på¯¹è±¡ä¸­açš„å€¼a.set(p, \"111\"); // è®¾ç½®på¯¹è±¡ä¸­açš„å€¼System.out.println(\"---------------\");Field d = personClass.getDeclaredField(\"d\");// å‡è®¾dæ˜¯privateçš„ åˆ™ä¸èƒ½get set// é‚£ä¹ˆè¦å¼€å¯set getæƒé™ å¦‚ä¸‹è¯­å¥å¼€å¯d.setAccessible(true);3.3è·å¾—æ–¹æ³•å¹¶ä½¿ç”¨ Methodå’Œä¸Šé¢ç±»ä¼¼ Fileldç›¸ä¼¼çš„å¯ä»¥é€šè¿‡Class.getMethod(String, Classâ€¦) å’Œ Class.getDeclaredMethod(String, Classâ€¦)æ–¹æ³•å¯ä»¥è·å–ç±»ä¸­çš„æŒ‡å®šæ–¹æ³•æˆ–è€…æ‰€æœ‰æ–¹æ³•ï¼Œè·å–åå¯è¿›è¡Œéå†ã€‚å¦‚æœä¸ºç§æœ‰æ–¹æ³•ï¼Œåˆ™éœ€è¦æ‰“å¼€ä¸€ä¸ªæƒé™ã€‚setAccessible(true); ç”¨invoke(Object, Objectâ€¦)å¯ä»¥è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè·Ÿä¸Šé¢åŒç†ï¼Œä¹Ÿèƒ½ä¸€æ¬¡æ€§è·å¾—æ‰€æœ‰çš„æ–¹æ³•ï¼š123456789101112131415Class p2 = Class.forName(\"com.demo.Reflect.Person\"); // åˆ›å»ºå­—èŠ‚ç å¯¹è±¡Person person = (Person) p2.newInstance(); // é€šè¿‡å­—èŠ‚ç å®ä¾‹ä¸€ä¸ªå¯¹è±¡Method[] method2 = p2.getDeclaredMethods(); // è·å–æ‰€æœ‰methodæ•°ç»„for (Method method : method2) &#123; method.setAccessible(true); // å¼€å¯æƒé™ System.out.println(method.getName()); // è·å–å¯¹è±¡çš„å‚æ•° å¹¶éå†æ‰“å° Class&lt;?&gt;[] parameterTypes = method.getParameterTypes(); for (int i = 0; i &lt; parameterTypes.length; i++) &#123; System.out.print(parameterTypes[i].getName() + \",\"); &#125; // é€šè¿‡invoke(å®ä¾‹å¯¹è±¡, å‚æ•°....) method.invoke(person, 3);&#125;3.4è·å¾—è¯¥ç±»çš„æ‰€æœ‰æ¥å£Class[] getInterfaces()ï¼šç¡®å®šæ­¤å­—èŠ‚ç å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£å®ç°çš„æ¥å£è¿”å›å€¼ï¼šæ¥å£çš„å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡çš„æ•°ç»„3.5è·å–æŒ‡å®šèµ„æºçš„è¾“å…¥æµInputStream getResourceAsStream(String name)returnï¼šä¸€ä¸ª InputStream å¯¹è±¡ï¼›å¦‚æœæ‰¾ä¸åˆ°å¸¦æœ‰è¯¥åç§°çš„èµ„æºï¼Œåˆ™è¿”å› nullå‚æ•°ï¼šæ‰€éœ€èµ„æºçš„åç§°ï¼Œå¦‚æœä»¥â€/â€œå¼€å§‹ï¼Œåˆ™ç»å¯¹èµ„æºåä¸ºâ€/â€œåé¢çš„ä¸€éƒ¨åˆ†ã€‚å››ã€ä¸€ä¸ªæ•´ä½“çš„å®ä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596package me.zhangsanfeng;import java.lang.reflect.Constructor;import java.lang.reflect.Field;import java.lang.reflect.Method;public class Reflection &#123; public Object copy(Object object) throws Exception&#123; //é€šè¿‡ä¼ å…¥çš„Objectå¾—åˆ°è¯¥å®ä¾‹å¯¹åº”çš„ç±»çš„Classå¯¹è±¡ Class&lt;?&gt; classType = object.getClass(); //é€šè¿‡Classå¾—åˆ°è¯¥ç±»çš„Constructorå¯¹è±¡ Constructor&lt;?&gt; cons = classType.getConstructor(new Class[]&#123;&#125;); //é€šè¿‡åå°„æœºåˆ¶ä½¿ç”¨æ„é€ æ–¹æ³•å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥æ¥å—å¤åˆ¶çš„å†…å®¹ Object retObject = cons.newInstance(new Object[]&#123;&#125;); //å–åˆ°å®ä¾‹å¯¹åº”çš„ç±»çš„æ‰€æœ‰æˆå‘˜å˜é‡ Field[] fields = classType.getDeclaredFields(); for(Field field:fields)&#123; String nameOfField = field.getName(); /*ç»„è£…æˆå‘˜å˜é‡çš„getã€setæ–¹æ³•*/ String fristWord = nameOfField.substring(0, 1).toUpperCase(); String getMethodName = \"get\"+fristWord+nameOfField.substring(1); String setMethodName = \"set\"+fristWord+nameOfField.substring(1); //é€šè¿‡åå°„åˆ›å»ºç±»ä¸­æ–¹æ³•çš„å¯¹è±¡ Method getMethod = classType.getMethod(getMethodName, new Class[]&#123;&#125;); Method setMethod = classType.getMethod(setMethodName, new Class[]&#123;field.getType()&#125;); /*ä½¿ç”¨getæ–¹æ³•ä»ä¼ å…¥å¯¹è±¡å–å€¼ï¼Œä½¿ç”¨setæ–¹æ³•å°†å–å‡ºçš„å€¼èµ‹ç»™ç­‰å¾…å¤åˆ¶çš„retObject*/ Object value = getMethod.invoke(object, new Object[]&#123;&#125;); setMethod.invoke(retObject, new Object[]&#123;value&#125;); &#125; return retObject; &#125; public static void main(String[] args) throws Exception &#123; //ä½¿ç”¨åå°„åˆ›å»ºä¸€ä¸ªpersonå®ä¾‹ Class&lt;?&gt; classType = Person.class; Constructor cons = classType.getConstructor(new Class[]&#123;String.class,int.class,double.class&#125;); //ä½¿ç”¨å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ Object perOfLee = cons.newInstance(new Object[]&#123;\"Lee\",25,8000&#125;); //ä½¿ç”¨åå°„è°ƒç”¨copyæ–¹æ³• Class &lt;?&gt; classOfReflect = Class.forName(\"me.zhangsanfeng.Reflection\"); Object reflect = classOfReflect.newInstance(); Method methodOfCopy = classOfReflect.getMethod(\"copy\", new Class[]&#123;Object.class&#125;); Object finalObject = methodOfCopy.invoke(reflect, perOfLee); Person copyPerson = (Person)finalObject; //print System.out.println(copyPerson.getName()+\", \"+copyPerson.getAge()+\", \"+copyPerson.getSalary()); &#125;&#125;//å®šä¹‰ä¸€ä¸ªâ€œäººâ€ç±»class Person&#123; private String name; private int age; private double salary; public Person() &#123; &#125; public Person(String name, int age, double salary)&#123; this.name = name; this.age = age; this.salary = salary; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; public double getSalary() &#123; return salary; &#125; public void setSalary(double salary) &#123; this.salary = salary; &#125;&#125;","categories":[{"name":"Javaåº•å±‚","slug":"Javaåº•å±‚","permalink":"https://blog.ihui.ink/categories/Javaåº•å±‚/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"å…³äºåŒæ­¥å¼‚æ­¥ä¸é˜»å¡éé˜»å¡çš„ç†è§£","slug":"å…³äºåŒæ­¥å¼‚æ­¥ä¸é˜»å¡éé˜»å¡çš„ç†è§£","date":"2019-09-29T10:20:21.000Z","updated":"2019-09-29T11:10:26.129Z","comments":true,"path":"2019/09/29/å…³äºåŒæ­¥å¼‚æ­¥ä¸é˜»å¡éé˜»å¡çš„ç†è§£/","link":"","permalink":"https://blog.ihui.ink/2019/09/29/å…³äºåŒæ­¥å¼‚æ­¥ä¸é˜»å¡éé˜»å¡çš„ç†è§£/","excerpt":"é˜»å¡â€ä¸â€éé˜»å¡â€ä¸â€åŒæ­¥â€ä¸â€œå¼‚æ­¥â€ä¸èƒ½ç®€å•çš„ä»å­—é¢ç†è§£ï¼Œæä¾›ä¸€ä¸ªä»åˆ†å¸ƒå¼ç³»ç»Ÿè§’åº¦çš„å›ç­”ã€‚","text":"é˜»å¡â€ä¸â€éé˜»å¡â€ä¸â€åŒæ­¥â€ä¸â€œå¼‚æ­¥â€ä¸èƒ½ç®€å•çš„ä»å­—é¢ç†è§£ï¼Œæä¾›ä¸€ä¸ªä»åˆ†å¸ƒå¼ç³»ç»Ÿè§’åº¦çš„å›ç­”ã€‚1.åŒæ­¥ä¸å¼‚æ­¥åŒæ­¥å’Œå¼‚æ­¥ å…³æ³¨çš„æ˜¯æ¶ˆæ¯é€šä¿¡æœºåˆ¶(synchronous communication/ asynchronous communication)æ‰€è°“åŒæ­¥ï¼Œå°±æ˜¯åœ¨å‘å‡ºä¸€ä¸ªè°ƒç”¨æ—¶ï¼Œåœ¨æ²¡æœ‰å¾—åˆ°ç»“æœä¹‹å‰ï¼Œè¯¥è°ƒç”¨æŒç»­ç­‰å¾…å°±ä¸è¿”å›ã€‚ä½†æ˜¯ä¸€æ—¦è°ƒç”¨è¿”å›ï¼Œå°±å¾—åˆ°è¿”å›å€¼äº†ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç”±è°ƒç”¨è€…ä¸»åŠ¨ç­‰å¾…è¿™ä¸ªè°ƒç”¨çš„ç»“æœã€‚è€Œå¼‚æ­¥åˆ™æ˜¯ç›¸åï¼Œè°ƒç”¨åœ¨å‘å‡ºä¹‹åï¼Œè¿™ä¸ªè°ƒç”¨å°±ç›´æ¥è¿”å›äº†ï¼Œä½†æ˜¯æ²¡æœ‰è¿”å›ç»“æœã€‚æ¢å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªå¼‚æ­¥è¿‡ç¨‹è°ƒç”¨å‘å‡ºåï¼Œè°ƒç”¨è€…ä¸ä¼šç«‹åˆ»å¾—åˆ°ç»“æœã€‚è€Œæ˜¯åœ¨è°ƒç”¨å‘å‡ºåï¼Œè¢«è°ƒç”¨è€…é€šè¿‡çŠ¶æ€ã€é€šçŸ¥æ¥é€šçŸ¥è°ƒç”¨è€…ï¼Œæˆ–é€šè¿‡å›è°ƒå‡½æ•°å¤„ç†è¿™ä¸ªè°ƒç”¨ã€‚1.1.ä¸¾ä¸ªé€šä¿—çš„ä¾‹å­ï¼šä½ æ‰“ç”µè¯é—®ä¹¦åº—è€æ¿æœ‰æ²¡æœ‰ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ã€‚å¦‚æœæ˜¯åŒæ­¥é€šä¿¡æœºåˆ¶ï¼Œä¹¦åº—è€æ¿ä¼šè¯´ï¼Œä½ ç¨ç­‰ï¼Œâ€æˆ‘æŸ¥ä¸€ä¸‹â€ï¼Œç„¶åå¼€å§‹æŸ¥å•ŠæŸ¥ï¼Œç­‰æŸ¥å¥½äº†ï¼ˆå¯èƒ½æ˜¯5ç§’ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€å¤©ï¼‰å‘Šè¯‰ä½ ç»“æœï¼ˆè¿”å›ç»“æœï¼‰ã€‚è€Œå¼‚æ­¥é€šä¿¡æœºåˆ¶ï¼Œä¹¦åº—è€æ¿ç›´æ¥å‘Šè¯‰ä½ æˆ‘æŸ¥ä¸€ä¸‹å•Šï¼ŒæŸ¥å¥½äº†æ‰“ç”µè¯ç»™ä½ ï¼Œç„¶åç›´æ¥æŒ‚ç”µè¯äº†ï¼ˆä¸è¿”å›ç»“æœï¼‰ã€‚ç„¶åæŸ¥å¥½äº†ï¼Œä»–ä¼šä¸»åŠ¨æ‰“ç”µè¯ç»™ä½ ã€‚åœ¨è¿™é‡Œè€æ¿é€šè¿‡â€œå›ç”µâ€è¿™ç§æ–¹å¼æ¥å›è°ƒã€‚2.é˜»å¡ä¸éé˜»å¡é˜»å¡å’Œéé˜»å¡å…³æ³¨çš„æ˜¯ç¨‹åºåœ¨ç­‰å¾…è°ƒç”¨ç»“æœï¼ˆæ¶ˆæ¯ï¼Œè¿”å›å€¼ï¼‰æ—¶çš„çŠ¶æ€. (çŠ¶æ€åˆ’é‡ç‚¹)é˜»å¡è°ƒç”¨æ˜¯æŒ‡è°ƒç”¨ç»“æœè¿”å›ä¹‹å‰ï¼Œå½“å‰çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ã€‚è°ƒç”¨çº¿ç¨‹åªæœ‰åœ¨å¾—åˆ°ç»“æœä¹‹åæ‰ä¼šè¿”å›ã€‚éé˜»å¡è°ƒç”¨æ˜¯æŒ‡åœ¨ä¸èƒ½ç«‹åˆ»å¾—åˆ°ç»“æœä¹‹å‰ï¼Œè¯¥è°ƒç”¨ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ã€‚2.1.è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ä½ æ‰“ç”µè¯é—®ä¹¦åº—è€æ¿æœ‰æ²¡æœ‰ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œä½ å¦‚æœæ˜¯é˜»å¡å¼è°ƒç”¨ï¼Œä½ ä¼šä¸€ç›´æŠŠè‡ªå·±â€œæŒ‚èµ·â€ï¼Œç›´åˆ°å¾—åˆ°è¿™æœ¬ä¹¦æœ‰æ²¡æœ‰çš„ç»“æœï¼Œå¦‚æœæ˜¯éé˜»å¡å¼è°ƒç”¨ï¼Œä½ ä¸ç®¡è€æ¿æœ‰æ²¡æœ‰å‘Šè¯‰ä½ ï¼Œä½ è‡ªå·±å…ˆä¸€è¾¹å»ç©äº†ï¼Œ å½“ç„¶ä½ ä¹Ÿè¦å¶å°”è¿‡å‡ åˆ†é’Ÿcheckä¸€ä¸‹è€æ¿æœ‰æ²¡æœ‰è¿”å›ç»“æœã€‚åœ¨è¿™é‡Œé˜»å¡ä¸éé˜»å¡ä¸æ˜¯å¦åŒæ­¥å¼‚æ­¥æ— å…³ã€‚è·Ÿè€æ¿é€šè¿‡ä»€ä¹ˆæ–¹å¼å›ç­”ä½ ç»“æœæ— å…³ã€‚3.å†ä¸¾ä¸ªè¯¦ç»†çš„ä¾‹å­è€å¼ çˆ±å–èŒ¶ï¼ŒåºŸè¯ä¸è¯´ï¼Œç…®å¼€æ°´ã€‚å‡ºåœºäººç‰©ï¼šè€å¼ ï¼Œæ°´å£¶ä¸¤æŠŠï¼ˆæ™®é€šæ°´å£¶ï¼Œç®€ç§°æ°´å£¶ï¼›ä¼šå“çš„æ°´å£¶ï¼Œç®€ç§°å“æ°´å£¶ï¼‰ã€‚12345678910111 è€å¼ æŠŠæ°´å£¶æ”¾åˆ°ç«ä¸Šï¼Œç«‹ç­‰æ°´å¼€ã€‚ï¼ˆåŒæ­¥é˜»å¡ï¼‰è€å¼ è§‰å¾—è‡ªå·±æœ‰ç‚¹å‚».2 è€å¼ æŠŠæ°´å£¶æ”¾åˆ°ç«ä¸Šï¼Œå»å®¢å…çœ‹ç”µè§†ï¼Œæ—¶ä¸æ—¶å»å¨æˆ¿çœ‹çœ‹æ°´å¼€æ²¡æœ‰ã€‚ï¼ˆåŒæ­¥éé˜»å¡ï¼‰è€å¼ è¿˜æ˜¯è§‰å¾—è‡ªå·±æœ‰ç‚¹å‚»ï¼Œäºæ˜¯å˜é«˜ç«¯äº†ï¼Œä¹°äº†æŠŠä¼šå“ç¬›çš„é‚£ç§æ°´å£¶ã€‚æ°´å¼€ä¹‹åï¼Œèƒ½å¤§å£°å‘å‡ºå˜€~~~~çš„å™ªéŸ³ã€‚3 è€å¼ æŠŠå“æ°´å£¶æ”¾åˆ°ç«ä¸Šï¼Œç«‹ç­‰å“æ°´å£¶é¸£ç¬›ã€‚ï¼ˆå¼‚æ­¥é˜»å¡ï¼‰è€å¼ è§‰å¾—è¿™æ ·å‚»ç­‰æ„ä¹‰ä¸å¤§4 è€å¼ æŠŠå“æ°´å£¶æ”¾åˆ°ç«ä¸Šï¼Œå»å®¢å…çœ‹ç”µè§†ï¼Œæ°´å£¶å“ä¹‹å‰ä¸å†å»çœ‹å®ƒäº†ï¼Œå“äº†å†å»æ‹¿å£¶ã€‚ï¼ˆå¼‚æ­¥éé˜»å¡ï¼‰è€å¼ è§‰å¾—è‡ªå·±èªæ˜äº†ã€‚æ‰€è°“åŒæ­¥å¼‚æ­¥ï¼Œåªæ˜¯å¯¹äºæ°´å£¶è€Œè¨€ã€‚æ™®é€šæ°´å£¶ï¼ŒåŒæ­¥ï¼› å“æ°´å£¶ï¼Œå¼‚æ­¥ã€‚è™½ç„¶éƒ½èƒ½å¹²æ´»ï¼Œä½†å“æ°´å£¶å¯ä»¥åœ¨è‡ªå·±å®Œå·¥ä¹‹åï¼Œæç¤ºè€å¼ æ°´å¼€äº†ã€‚è¿™æ˜¯æ™®é€šæ°´å£¶æ‰€ä¸èƒ½åŠçš„ã€‚åŒæ­¥åªèƒ½è®©è°ƒç”¨è€…å»è½®è¯¢è‡ªå·±ï¼ˆæƒ…å†µ2ä¸­ï¼‰ï¼Œé€ æˆè€å¼ çœ‹ç”µè§†æ•ˆç‡çš„ä½ä¸‹ã€‚æ‰€è°“é˜»å¡éé˜»å¡ï¼Œä»…ä»…å¯¹äºè€å¼ è€Œè¨€ã€‚ç«‹ç­‰çš„è€å¼ ï¼Œé˜»å¡ï¼›çœ‹ç”µè§†çš„è€å¼ ï¼Œéé˜»å¡ã€‚æƒ…å†µ1å’Œæƒ…å†µ3ä¸­è€å¼ å°±æ˜¯é˜»å¡çš„ï¼Œåª³å¦‡å–Šä»–éƒ½ä¸çŸ¥é“ã€‚è™½ç„¶æƒ…å†µ3ä¸­å“æ°´å£¶æ˜¯å¼‚æ­¥çš„ï¼Œå¯å¯¹äºé˜»å¡ç«‹ç­‰çš„è€å¼ æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰ã€‚æ‰€ä»¥ä¸€èˆ¬å¼‚æ­¥æ˜¯é…åˆéé˜»å¡ä½¿ç”¨çš„ï¼Œè¿™æ ·æ‰èƒ½å‘æŒ¥å¼‚æ­¥çš„æ•ˆç”¨ã€‚â€”â€”ä¾‹å­æ¥æºç½‘ç»œï¼Œä½œè€…ä¸æ˜ã€‚","categories":[{"name":"Javaåº•å±‚","slug":"Javaåº•å±‚","permalink":"https://blog.ihui.ink/categories/Javaåº•å±‚/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"ä»€ä¹ˆæ˜¯IOCå’ŒAOP","slug":"IOC-AOP","date":"2019-09-26T02:33:06.000Z","updated":"2019-12-15T06:35:24.406Z","comments":true,"path":"2019/09/26/IOC-AOP/","link":"","permalink":"https://blog.ihui.ink/2019/09/26/IOC-AOP/","excerpt":"","text":"IOCIOCï¼ˆInversion Of Controllï¼Œæ§åˆ¶åè½¬ï¼‰æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°†åŸæœ¬åœ¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç”±ç»™Springæ¡†æ¶æ¥ç®¡ç†ã€‚IOCå®¹å™¨æ˜¯Springç”¨æ¥å®ç°IOCçš„è½½ä½“ï¼ŒIOCå®¹å™¨å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªMap(key, value)ï¼ŒMapä¸­å­˜æ”¾çš„æ˜¯å„ç§å¯¹è±¡ã€‚è¿™æ ·å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šç®€åŒ–åº”ç”¨çš„å¼€å‘ï¼ŒæŠŠåº”ç”¨ä»å¤æ‚çš„ä¾èµ–å…³ç³»ä¸­è§£æ”¾å‡ºæ¥ã€‚IOCå®¹å™¨å°±åƒæ˜¯ä¸€ä¸ªå·¥å‚ï¼Œå½“éœ€è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåªéœ€è¦é…ç½®å¥½é…ç½®æ–‡ä»¶/æ³¨è§£å³å¯ï¼Œä¸ç”¨è€ƒè™‘å¯¹è±¡æ˜¯å¦‚ä½•è¢«åˆ›å»ºå‡ºæ¥çš„ï¼Œå¤§å¤§å¢åŠ äº†é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ä¸”é™ä½äº†å¼€å‘éš¾åº¦ã€‚AOPAOPï¼ˆAspect-Oriented Programmingï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰èƒ½å¤Ÿå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒè°ƒç”¨çš„é€»è¾‘æˆ–è´£ä»»ï¼ˆä¾‹å¦‚äº‹åŠ¡å¤„ç†ã€æ—¥å¿—ç®¡ç†ã€æƒé™æ§åˆ¶ç­‰ï¼‰å°è£…èµ·æ¥ï¼Œä¾¿äºå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºæœªæ¥çš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ä½¿ç”¨AOPä¹‹åæˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›é€šç”¨åŠŸèƒ½æŠ½è±¡å‡ºæ¥ï¼Œåœ¨éœ€è¦ç”¨åˆ°çš„åœ°æ–¹ç›´æ¥ä½¿ç”¨å³å¯ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç é‡ï¼Œæé«˜äº†ç³»ç»Ÿçš„æ‰©å±•æ€§ã€‚Spring AOPæ˜¯åŸºäºåŠ¨æ€ä»£ç†çš„ï¼Œå¦‚æœè¦ä»£ç†çš„å¯¹è±¡å®ç°äº†æŸä¸ªæ¥å£ï¼Œé‚£ä¹ˆSpring AOPå°±ä¼šä½¿ç”¨JDKåŠ¨æ€ä»£ç†å»åˆ›å»ºä»£ç†å¯¹è±¡ï¼›è€Œå¯¹äºæ²¡æœ‰å®ç°æ¥å£çš„å¯¹è±¡ï¼Œå°±æ— æ³•ä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œè½¬è€Œä½¿ç”¨CGlibåŠ¨æ€ä»£ç†ç”Ÿæˆä¸€ä¸ªè¢«ä»£ç†å¯¹è±¡çš„å­ç±»æ¥ä½œä¸ºä»£ç†ã€‚Spring AOP / AspectJ AOP çš„åŒºåˆ«ï¼ŸSpring AOPå±äºè¿è¡Œæ—¶å¢å¼ºï¼Œè€ŒAspectJæ˜¯ç¼–è¯‘æ—¶å¢å¼ºã€‚Spring AOPåŸºäºä»£ç†ï¼ˆProxyingï¼‰ï¼Œè€ŒAspectJåŸºäºå­—èŠ‚ç æ“ä½œï¼ˆBytecode Manipulationï¼‰ã€‚AspectJç›¸æ¯”äºSpring AOPåŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œä½†æ˜¯Spring AOPç›¸å¯¹æ¥è¯´æ›´ç®€å•ã€‚å¦‚æœåˆ‡é¢æ¯”è¾ƒå°‘ï¼Œé‚£ä¹ˆä¸¤è€…æ€§èƒ½å·®å¼‚ä¸å¤§ã€‚ä½†æ˜¯ï¼Œå½“åˆ‡é¢å¤ªå¤šçš„è¯ï¼Œæœ€å¥½é€‰æ‹©AspectJï¼Œå®ƒæ¯”SpringAOPå¿«å¾ˆå¤šã€‚","categories":[{"name":"Javaåç«¯","slug":"Javaåç«¯","permalink":"https://blog.ihui.ink/categories/Javaåç«¯/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"Servletç”Ÿå‘½å‘¨æœŸ","slug":"servlet-declaration","date":"2019-09-19T14:08:42.000Z","updated":"2019-12-15T06:35:03.651Z","comments":true,"path":"2019/09/19/servlet-declaration/","link":"","permalink":"https://blog.ihui.ink/2019/09/19/servlet-declaration/","excerpt":"","text":"ç”Ÿå‘½å‘¨æœŸï¼š Webå®¹å™¨åŠ è½½Servletå¹¶å°†å…¶å®ä¾‹åŒ–åï¼ŒServletç”Ÿå‘½å‘¨æœŸå¼€å§‹ï¼Œå®¹å™¨è¿è¡Œå…¶init()æ–¹æ³•è¿›è¡ŒServletçš„åˆå§‹åŒ–ï¼›è¯·æ±‚åˆ°è¾¾æ—¶è°ƒç”¨Servletçš„service()æ–¹æ³•ï¼Œservice()æ–¹æ³•ä¼šæ ¹æ®éœ€è¦è°ƒç”¨ä¸è¯·æ±‚å¯¹åº”çš„doGetæˆ–doPostç­‰æ–¹æ³•ï¼›å½“æœåŠ¡å™¨å…³é—­æˆ–é¡¹ç›®è¢«å¸è½½æ—¶æœåŠ¡å™¨ä¼šå°†Servletå®ä¾‹é”€æ¯ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨Servletçš„destroy()æ–¹æ³•ã€‚initæ–¹æ³•å’Œdestroyæ–¹æ³•åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œserviceæ–¹æ³•å®¢æˆ·ç«¯æ¯æ¬¡è¯·æ±‚Servletéƒ½ä¼šæ‰§è¡Œã€‚Servletä¸­æœ‰æ—¶ä¼šç”¨åˆ°ä¸€äº›éœ€è¦åˆå§‹åŒ–ä¸é”€æ¯çš„èµ„æºï¼Œå› æ­¤å¯ä»¥æŠŠåˆå§‹åŒ–èµ„æºçš„ä»£ç æ”¾å…¥initæ–¹æ³•ä¸­ï¼Œé”€æ¯èµ„æºçš„ä»£ç æ”¾å…¥destroyæ–¹æ³•ä¸­ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ¯æ¬¡å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚éƒ½è¦åˆå§‹åŒ–ä¸é”€æ¯èµ„æºã€‚ç»¼ä¸Šï¼šServletç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šåˆå§‹åŒ–é˜¶æ®µ è°ƒç”¨init()æ–¹æ³•, åªæ‰§è¡Œä¸€æ¬¡12345--é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼ŒServletè¢«åˆ›å»ºï¼Œç„¶åæ‰§è¡Œinitæ–¹æ³•ï¼›--å¯ä»¥é…ç½®æ‰§è¡ŒServletçš„åˆ›å»ºæ—¶æœºï¼›--å¯ä»¥é…ç½®æ‰§è¡ŒServletçš„åˆ›å»ºæ—¶æœºï¼›å“åº”å®¢æˆ·è¯·æ±‚é˜¶æ®µ è°ƒç”¨service()æ–¹æ³• å¤„ç†doGetå’ŒdoPostæ–¹æ³•ï¼Œæ‰§è¡Œå¤šæ¬¡ç»ˆæ­¢é˜¶æ®µ å½“ServletæœåŠ¡å™¨æ­£å¸¸å…³é—­æ—¶ï¼Œæ‰§è¡Œdestroyæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ä»£ç ï¼š12345678910111213141516171819202122//servletç”Ÿå‘½å‘¨æœŸï¼Œçš„ä¸‰ä¸ªæ–¹æ³•ï¼Œ//1.è¢«åˆ›å»ºï¼Œæ‰§è¡Œä¸”åªæ‰§è¡Œä¸€æ¬¡initæ–¹æ³•ï¼Œ//2.æä¾›æœåŠ¡ï¼Œæ‰§è¡Œserviceæ–¹æ³•ï¼Œæ‰§è¡Œå¤šæ¬¡ //3.è¢«é”€æ¯ï¼Œå½“ServletæœåŠ¡å™¨æ­£å¸¸å…³é—­æ—¶ï¼Œæ‰§è¡Œdestroyæ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚@Overridepublic void init() throws ServletException &#123; // TODO Auto-generated method stub super.init();&#125;@Overrideprotected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123; // TODO Auto-generated method stub super.service(req, resp);&#125;@Overridepublic void destroy() &#123; // TODO Auto-generated method stub super.destroy();&#125;","categories":[{"name":"Javaåç«¯","slug":"Javaåç«¯","permalink":"https://blog.ihui.ink/categories/Javaåç«¯/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"Javaæ³›å‹å­¦ä¹ ","slug":"Javaæ³›å‹å­¦ä¹ ","date":"2019-09-17T11:28:14.000Z","updated":"2019-10-07T13:30:43.172Z","comments":true,"path":"2019/09/17/Javaæ³›å‹å­¦ä¹ /","link":"","permalink":"https://blog.ihui.ink/2019/09/17/Javaæ³›å‹å­¦ä¹ /","excerpt":"æˆ‘ä»¬åœ¨é›†åˆä¸­ä¼šå¤§é‡ä½¿ç”¨åˆ°æ³›å‹ï¼Œè¿™é‡Œæ¥å®Œæ•´åœ°å­¦ä¹ æ³›å‹çŸ¥è¯†ã€‚æ³›å‹ï¼Œç”¨æ¥çµæ´»åœ°å°†æ•°æ®ç±»å‹åº”ç”¨åˆ°ä¸åŒçš„ç±»ã€æ–¹æ³•ã€æ¥å£å½“ä¸­ã€‚å°†æ•°æ®ç±»å‹ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ã€‚","text":"æˆ‘ä»¬åœ¨é›†åˆä¸­ä¼šå¤§é‡ä½¿ç”¨åˆ°æ³›å‹ï¼Œè¿™é‡Œæ¥å®Œæ•´åœ°å­¦ä¹ æ³›å‹çŸ¥è¯†ã€‚æ³›å‹ï¼Œç”¨æ¥çµæ´»åœ°å°†æ•°æ®ç±»å‹åº”ç”¨åˆ°ä¸åŒçš„ç±»ã€æ–¹æ³•ã€æ¥å£å½“ä¸­ã€‚å°†æ•°æ®ç±»å‹ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ã€‚å®šä¹‰å’Œä½¿ç”¨å«æœ‰æ³›å‹çš„ç±»å®šä¹‰æ ¼å¼ï¼š1ä¿®é¥°ç¬¦ class ç±»å&lt;ä»£è¡¨æ³›å‹çš„å˜é‡&gt; &#123; &#125;ä¾‹å¦‚ï¼ŒAPIä¸­çš„ArrayListé›†åˆï¼š123456class ArrayList&lt;E&gt;&#123; public boolean add(E e)&#123; &#125; public E get(int index)&#123; &#125; ....&#125;ä½¿ç”¨æ³›å‹ï¼š å³ä»€ä¹ˆæ—¶å€™ç¡®å®šæ³›å‹ã€‚åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ç¡®å®šæ³›å‹ä¾‹å¦‚ï¼ŒArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();æ­¤æ—¶ï¼Œå˜é‡Eçš„å€¼å°±æ˜¯Stringç±»å‹äº†, é‚£ä¹ˆæˆ‘ä»¬çš„ç±»å‹å°±å¯ä»¥ç†è§£ä¸ºï¼š123456class ArrayList&lt;String&gt;&#123; public boolean add(String e)&#123; &#125; public String get(int index)&#123; &#125; ...&#125;å†ä¾‹å¦‚ï¼ŒArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();æ­¤æ—¶ï¼Œå˜é‡Eçš„å€¼å°±æ˜¯Integerç±»å‹,é‚£ä¹ˆæˆ‘ä»¬çš„ç±»å‹å°±å¯ä»¥ç†è§£ä¸ºï¼š123456class ArrayList&lt;Integer&gt; &#123; public boolean add(Integer e) &#123; &#125; public Integer get(int index) &#123; &#125; ...&#125;2.ä¸¾ä¾‹è‡ªå®šä¹‰æ³›å‹ç±»123456789101112public class MyGenericClass&lt;MVP&gt; &#123; //æ²¡æœ‰MVPç±»å‹ï¼Œåœ¨è¿™é‡Œä»£è¡¨ æœªçŸ¥çš„ä¸€ç§æ•°æ®ç±»å‹ æœªæ¥ä¼ é€’ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆç±»å‹ private MVP mvp; public void setMVP(MVP mvp) &#123; this.mvp = mvp; &#125; public MVP getMVP() &#123; return mvp; &#125;&#125;ä½¿ç”¨:123456789101112131415public class GenericClassDemo &#123; public static void main(String[] args) &#123; // åˆ›å»ºä¸€ä¸ªæ³›å‹ä¸ºStringçš„ç±» MyGenericClass&lt;String&gt; my = new MyGenericClass&lt;String&gt;(); // è°ƒç”¨setMVP my.setMVP(\"å¤§èƒ¡å­ç™»ç™»\"); // è°ƒç”¨getMVP String mvp = my.getMVP(); System.out.println(mvp); //åˆ›å»ºä¸€ä¸ªæ³›å‹ä¸ºIntegerçš„ç±» MyGenericClass&lt;Integer&gt; my2 = new MyGenericClass&lt;Integer&gt;(); my2.setMVP(123); Integer mvp2 = my2.getMVP(); &#125;&#125;å«æœ‰æ³›å‹çš„æ–¹æ³•å®šä¹‰æ ¼å¼ï¼š1ä¿®é¥°ç¬¦ &lt;ä»£è¡¨æ³›å‹çš„å˜é‡&gt; è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°) &#123; &#125;ä¾‹å¦‚ï¼Œ123456789public class MyGenericMethod &#123; public &lt;MVP&gt; void show(MVP mvp) &#123; System.out.println(mvp.getClass()); &#125; public &lt;MVP&gt; MVP show2(MVP mvp) &#123; return mvp; &#125;&#125;ä½¿ç”¨æ ¼å¼ï¼šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œç¡®å®šæ³›å‹çš„ç±»å‹12345678910public class GenericMethodDemo &#123; public static void main(String[] args) &#123; // åˆ›å»ºå¯¹è±¡ MyGenericMethod mm = new MyGenericMethod(); // æ¼”ç¤ºçœ‹æ–¹æ³•æç¤º mm.show(\"aaa\"); mm.show(123); mm.show(12.45); &#125;&#125;å«æœ‰æ³›å‹çš„æ¥å£å®šä¹‰æ ¼å¼ï¼š1ä¿®é¥°ç¬¦ interface æ¥å£å&lt;ä»£è¡¨æ³›å‹çš„å˜é‡&gt; &#123; &#125;ä¾‹å¦‚ï¼Œ12345public interface MyGenericInterface&lt;E&gt;&#123; public void add(E e); public E getE(); &#125;ä½¿ç”¨æ ¼å¼ï¼š1ã€å®šä¹‰ç±»æ—¶ç¡®å®šæ³›å‹çš„ç±»å‹ä¾‹å¦‚:1234567891011public class MyImp1 implements MyGenericInterface&lt;String&gt; &#123; @Override public void add(String e) &#123; // çœç•¥... &#125; @Override public String getE() &#123; return null; &#125;&#125;æ­¤æ—¶ï¼Œæ³›å‹Eçš„å€¼å°±æ˜¯Stringç±»å‹ã€‚2ã€å§‹ç»ˆä¸ç¡®å®šæ³›å‹çš„ç±»å‹ï¼Œç›´åˆ°åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç¡®å®šæ³›å‹çš„ç±»å‹ä¾‹å¦‚1234567891011public class MyImp2&lt;E&gt; implements MyGenericInterface&lt;E&gt; &#123; @Override public void add(E e) &#123; // çœç•¥... &#125; @Override public E getE() &#123; return null; &#125;&#125;ç¡®å®šæ³›å‹ï¼š123456789/* * ä½¿ç”¨ */public class GenericInterface &#123; public static void main(String[] args) &#123; MyImp2&lt;String&gt; my = new MyImp2&lt;String&gt;(); my.add(\"aa\"); &#125;&#125;æ³›å‹é€šé…ç¬¦å½“ä½¿ç”¨æ³›å‹ç±»æˆ–è€…æ¥å£æ—¶ï¼Œä¼ é€’çš„æ•°æ®ä¸­ï¼Œæ³›å‹ç±»å‹ä¸ç¡®å®šï¼Œå¯ä»¥é€šè¿‡é€šé…ç¬¦&lt;?&gt;è¡¨ç¤ºã€‚ä½†æ˜¯ä¸€æ—¦ä½¿ç”¨æ³›å‹çš„é€šé…ç¬¦åï¼Œåªèƒ½ä½¿ç”¨Objectç±»ä¸­çš„å…±æ€§æ–¹æ³•ï¼Œé›†åˆä¸­å…ƒç´ è‡ªèº«æ–¹æ³•æ— æ³•ä½¿ç”¨ã€‚é€šé…ç¬¦åŸºæœ¬ä½¿ç”¨æ³›å‹çš„é€šé…ç¬¦:ä¸çŸ¥é“ä½¿ç”¨ä»€ä¹ˆç±»å‹æ¥æ¥æ”¶çš„æ—¶å€™,æ­¤æ—¶å¯ä»¥ä½¿ç”¨?,?è¡¨ç¤ºæœªçŸ¥é€šé…ç¬¦ã€‚æ­¤æ—¶åªèƒ½æ¥å—æ•°æ®,ä¸èƒ½å¾€è¯¥é›†åˆä¸­å­˜å‚¨æ•°æ®ã€‚ä¸¾ä¸ªä¾‹å­å¤§å®¶ç†è§£ä½¿ç”¨å³å¯ï¼š12345678public static void main(String[] args) &#123; Collection&lt;Intger&gt; list1 = new ArrayList&lt;Integer&gt;(); getElement(list1); Collection&lt;String&gt; list2 = new ArrayList&lt;String&gt;(); getElement(list2);&#125;public static void getElement(Collection&lt;?&gt; coll)&#123;&#125;//ï¼Ÿä»£è¡¨å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹tips:æ³›å‹ä¸å­˜åœ¨ç»§æ‰¿å…³ç³» Collectionlist = new ArrayList();è¿™ç§æ˜¯é”™è¯¯çš„ã€‚é€šé…ç¬¦é«˜çº§ä½¿ç”¨â€”-å—é™æ³›å‹ä¹‹å‰è®¾ç½®æ³›å‹çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯å¯ä»¥ä»»æ„è®¾ç½®çš„ï¼Œåªè¦æ˜¯ç±»å°±å¯ä»¥è®¾ç½®ã€‚ä½†æ˜¯åœ¨JAVAçš„æ³›å‹ä¸­å¯ä»¥æŒ‡å®šä¸€ä¸ªæ³›å‹çš„ä¸Šé™å’Œä¸‹é™ã€‚æ³›å‹çš„ä¸Šé™ï¼šæ ¼å¼ï¼š ç±»å‹åç§° &lt;? extends ç±» &gt; å¯¹è±¡åç§°æ„ä¹‰ï¼š åªèƒ½æ¥æ”¶è¯¥ç±»å‹åŠå…¶å­ç±»æ³›å‹çš„ä¸‹é™ï¼šæ ¼å¼ï¼š ç±»å‹åç§° &lt;? super ç±» &gt; å¯¹è±¡åç§°æ„ä¹‰ï¼š åªèƒ½æ¥æ”¶è¯¥ç±»å‹åŠå…¶çˆ¶ç±»å‹æ¯”å¦‚ï¼šç°å·²çŸ¥Objectç±»ï¼ŒString ç±»ï¼ŒNumberç±»ï¼ŒIntegerç±»ï¼Œå…¶ä¸­Numberæ˜¯Integerçš„çˆ¶ç±»123456789101112131415161718192021public static void main(String[] args) &#123; Collection&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;(); Collection&lt;String&gt; list2 = new ArrayList&lt;String&gt;(); Collection&lt;Number&gt; list3 = new ArrayList&lt;Number&gt;(); Collection&lt;Object&gt; list4 = new ArrayList&lt;Object&gt;(); getElement(list1); getElement(list2);//æŠ¥é”™ getElement(list3); getElement(list4);//æŠ¥é”™ getElement2(list1);//æŠ¥é”™ getElement2(list2);//æŠ¥é”™ getElement2(list3); getElement2(list4); &#125;// æ³›å‹çš„ä¸Šé™ï¼šæ­¤æ—¶çš„æ³›å‹?ï¼Œå¿…é¡»æ˜¯Numberç±»å‹æˆ–è€…Numberç±»å‹çš„å­ç±»public static void getElement1(Collection&lt;? extends Number&gt; coll)&#123;&#125;// æ³›å‹çš„ä¸‹é™ï¼šæ­¤æ—¶çš„æ³›å‹?ï¼Œå¿…é¡»æ˜¯Numberç±»å‹æˆ–è€…Numberç±»å‹çš„çˆ¶ç±»public static void getElement2(Collection&lt;? super Number&gt; coll)&#123;&#125;#","categories":[{"name":"Javaåº•å±‚","slug":"Javaåº•å±‚","permalink":"https://blog.ihui.ink/categories/Javaåº•å±‚/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"Javaä¸­çš„å †åŒºã€æ ˆåŒºã€æ–¹æ³•åŒº","slug":"java-memory-model","date":"2019-09-15T12:33:09.000Z","updated":"2019-12-15T06:36:56.099Z","comments":true,"path":"2019/09/15/java-memory-model/","link":"","permalink":"https://blog.ihui.ink/2019/09/15/java-memory-model/","excerpt":"","text":"JAVAçš„JVMçš„å†…å­˜å¯åˆ†ä¸º3ä¸ªåŒºï¼šå †(heap)ã€æ ˆ(stack)å’Œæ–¹æ³•åŒº(method)æ ˆåŒº:æ¯ä¸ªçº¿ç¨‹åŒ…å«ä¸€ä¸ªæ ˆåŒºï¼Œæ ˆä¸­åªä¿å­˜æ–¹æ³•ä¸­ï¼ˆä¸åŒ…æ‹¬å¯¹è±¡çš„æˆå‘˜å˜é‡ï¼‰çš„åŸºç¡€æ•°æ®ç±»å‹å’Œè‡ªå®šä¹‰å¯¹è±¡çš„å¼•ç”¨(ä¸æ˜¯å¯¹è±¡)ï¼Œå¯¹è±¡éƒ½å­˜æ”¾åœ¨å †åŒºä¸­æ¯ä¸ªæ ˆä¸­çš„æ•°æ®(åŸå§‹ç±»å‹å’Œå¯¹è±¡å¼•ç”¨)éƒ½æ˜¯ç§æœ‰çš„ï¼Œå…¶ä»–æ ˆä¸èƒ½è®¿é—®ã€‚æ ˆåˆ†ä¸º3ä¸ªéƒ¨åˆ†ï¼šåŸºæœ¬ç±»å‹å˜é‡åŒºã€æ‰§è¡Œç¯å¢ƒä¸Šä¸‹æ–‡ã€æ“ä½œæŒ‡ä»¤åŒº(å­˜æ”¾æ“ä½œæŒ‡ä»¤)å †åŒº:å­˜å‚¨çš„å…¨éƒ¨æ˜¯å¯¹è±¡å®ä¾‹ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„classçš„ä¿¡æ¯(classä¿¡æ¯å­˜æ”¾åœ¨æ–¹æ³•åŒº)ã€‚jvmåªæœ‰ä¸€ä¸ªå †åŒº(heap)è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œå †ä¸­ä¸å­˜æ”¾åŸºæœ¬ç±»å‹å’Œå¯¹è±¡å¼•ç”¨ï¼Œåªå­˜æ”¾å¯¹è±¡æœ¬èº«ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹å’Œæ•°ç»„éƒ½åœ¨å †ä¸­åˆ†é…ã€‚æ–¹æ³•åŒº:åˆå«é™æ€åŒºï¼Œè·Ÿå †ä¸€æ ·ï¼Œè¢«æ‰€æœ‰çš„çº¿ç¨‹å…±äº«ã€‚å®ƒç”¨äºå­˜å‚¨å·²ç»è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚","categories":[{"name":"Javaåº•å±‚","slug":"Javaåº•å±‚","permalink":"https://blog.ihui.ink/categories/Javaåº•å±‚/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"centosä¿®æ”¹mysql rootè´¦æˆ·å¯†ç ","slug":"centosä¿®æ”¹mysql-rootè´¦æˆ·å¯†ç ","date":"2019-09-05T12:04:29.000Z","updated":"2019-09-05T12:18:20.325Z","comments":true,"path":"2019/09/05/centosä¿®æ”¹mysql-rootè´¦æˆ·å¯†ç /","link":"","permalink":"https://blog.ihui.ink/2019/09/05/centosä¿®æ”¹mysql-rootè´¦æˆ·å¯†ç /","excerpt":"","text":"ç¬¬ä¸€æ­¥ä¿®æ”¹my.cnfæ–‡ä»¶vim /etc/my.cnfåœ¨[mysqld]ä¸­æ·»åŠ  skip-grant-tablesä¾‹å¦‚ï¼š12345[mysqld]skip-grant-tables # æ·»åŠ è¿™è¡Œ# skip-grant-tables=1datadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.socké‡å¯mysql1service mysql restartç¬¬äºŒæ­¥ç”¨æˆ·æ— å¯†ç ç™»å½•1mysql -uroot -p (ç›´æ¥ç‚¹å‡»å›è½¦ï¼Œå¯†ç ä¸ºç©º)ç¬¬ä¸‰æ­¥é€‰æ‹©æ•°æ®åº“ä¿®æ”¹rootå¯†ç 12use mysql;update mysql.user set authentication_string=password(&apos;æ–°å¯†ç &apos;) where User=&apos;ç”¨æˆ·&apos;;ç¬¬å››æ­¥åˆ·æ–°å¹¶é€€å‡º12flush privileges;quit;ç¬¬äº”æ­¥ç¼–è¾‘my.cnfå¹¶é‡å¯mysql123vim /etc/my.cnf# åˆ é™¤ skip-grant-tables ä¿å­˜é€€å‡ºservice mysql restart # é‡å¯mysqlå‚è€ƒæ–‡ç« æ–‡ç« 1æ–‡ç« 2","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://blog.ihui.ink/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://blog.ihui.ink/tags/Mysql/"}]},{"title":"Mysqlå¿˜è®°å¯†ç è§£å†³æ–¹æ¡ˆ","slug":"forget-mysql-password","date":"2019-09-04T13:02:38.000Z","updated":"2019-12-15T06:32:40.726Z","comments":true,"path":"2019/09/04/forget-mysql-password/","link":"","permalink":"https://blog.ihui.ink/2019/09/04/forget-mysql-password/","excerpt":"","text":"Mysql å¿˜è®°äº†å¯†ç  è§£å†³æ–¹æ¡ˆï¼šCmd â€“ &gt; åœæ­¢mysqlæœåŠ¡ ï¼ˆä»¥ç®¡ç†å‘˜çš„èº«ä»½ï¼‰ net stop mysql;ä½¿ç”¨æ— éªŒè¯æ–¹å¼å¯åŠ¨mysql mysqld â€“skip-grant-tablesæ‰“å¼€æ–°çš„cmdçª—å£ï¼Œç›´æ¥è¾“å…¥mysql å›è½¦ ç™»å½•æˆåŠŸä¾æ¬¡æ‰§è¡Œ use mysql; set password for â€œrootâ€@â€localhostâ€ = password(â€œæ–°å¯†ç â€);æ‰‹åŠ¨æ‰§è¡Œmysqldçš„è¿›ç¨‹å¯åŠ¨mysqlæœåŠ¡ net start mysql;ä½¿ç”¨æ–°å¯†ç ç™»å½•","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://blog.ihui.ink/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://blog.ihui.ink/tags/Mysql/"}]},{"title":"springMVCé…ç½®å®šæ—¶ä»»åŠ¡","slug":"springMVCé…ç½®å®šæ—¶ä»»åŠ¡","date":"2019-08-24T13:31:22.000Z","updated":"2019-12-14T14:22:12.938Z","comments":true,"path":"2019/08/24/springMVCé…ç½®å®šæ—¶ä»»åŠ¡/","link":"","permalink":"https://blog.ihui.ink/2019/08/24/springMVCé…ç½®å®šæ—¶ä»»åŠ¡/","excerpt":"","text":"springMVCé…ç½®å®šæ—¶æ‰§è¡Œä»»åŠ¡é…ç½®xmlåœ¨SpringMVCé…ç½®æ–‡ä»¶ä¸­æ·»åŠ 1234xmlns:task=\"http://www.springframework.org/schema/task\" http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.3.xsdé…ç½®ä»»åŠ¡æ‰«æ1&lt;task:annotation-driven /&gt;é…ç½®æ‰«æä»»åŠ¡ä½ç½®12&lt;!-- æ‰«æä»»åŠ¡ --&gt;&lt;context:component-scan base-package=\"com.xxx.task\" /&gt;å¦‚ä¸‹å›¾ï¼šDemoï¼š12345678910111213package com.kaoqin.task;import org.springframework.scheduling.annotation.Scheduled;import org.springframework.stereotype.Component;@Componentpublic class demo &#123; @Scheduled(cron = \"0/5 * * * * ? \") // é—´éš”5ç§’æ‰§è¡Œ public void taskCycle() &#123; System.out.println(\"ä½¿ç”¨SpringMVCæ¡†æ¶é…ç½®å®šæ—¶ä»»åŠ¡\"); &#125;&#125;æ³¨æ„äº‹é¡¹ï¼š1ã€springçš„ @Scheduled æ³¨è§£ éœ€è¦å†™åœ¨å®ç°æ–¹æ³•ä¸Š2ã€ å®šæ—¶å™¨çš„ä»»åŠ¡æ–¹æ³•ä¸èƒ½æœ‰è¿”å›å€¼ï¼ˆå¦‚æœæœ‰è¿”å›å€¼ï¼Œspringåˆå§‹åŒ–çš„æ—¶å€™ä¼šå‘Šè¯‰ä½ æœ‰ä¸ªé”™è¯¯ã€éœ€è¦è®¾å®šä¸€ä¸ªproxytargetclassçš„æŸä¸ªå€¼ä¸ºtrueï¼‰3ã€å®ç°ç±»ä¸Šè¦æœ‰ç»„ä»¶çš„æ³¨è§£@Componentæ‰©å±•ï¼šå®šæ—¶æ—¶é—´çš„è®¾ç½®å¦‚ï¼šâ€œ0/5 ?â€CronTriggeré…ç½®å®Œæ•´æ ¼å¼ä¸ºï¼š [ç§’] [åˆ†] [å°æ—¶] [æ—¥] [æœˆ] [å‘¨] [å¹´]åºå·è¯´æ˜æ˜¯å¦å¿…å¡«å…è®¸å¡«å†™çš„å€¼å…è®¸çš„é€šé…ç¬¦1ç§’æ˜¯0-59, - * /2åˆ†æ˜¯0-59, - * /3å°æ—¶æ˜¯0-23, - * /4æ—¥æ˜¯1-31, - * ? / L W5æœˆæ˜¯1-12æˆ–JAN-DEC, - * /6å‘¨æ˜¯1-7æˆ–SUN-SAT, - * ? / L W7å¹´å¦empty æˆ–1970-2099, - * /é€šé…ç¬¦è¯´æ˜:* è¡¨ç¤ºæ‰€æœ‰å€¼. ä¾‹å¦‚:åœ¨åˆ†çš„å­—æ®µä¸Šè®¾ç½® â€œ*â€,è¡¨ç¤ºæ¯ä¸€åˆ†é’Ÿéƒ½ä¼šè§¦å‘ã€‚? è¡¨ç¤ºä¸æŒ‡å®šå€¼ã€‚ä½¿ç”¨çš„åœºæ™¯ä¸ºä¸éœ€è¦å…³å¿ƒå½“å‰è®¾ç½®è¿™ä¸ªå­—æ®µçš„å€¼ã€‚ä¾‹å¦‚:è¦åœ¨æ¯æœˆçš„10å·è§¦å‘ä¸€ä¸ªæ“ä½œï¼Œä½†ä¸å…³å¿ƒæ˜¯å‘¨å‡ ï¼Œæ‰€ä»¥éœ€è¦å‘¨ä½ç½®çš„é‚£ä¸ªå­—æ®µè®¾ç½®ä¸ºâ€?â€ å…·ä½“è®¾ç½®ä¸º 0 0 0 10 * ?- è¡¨ç¤ºåŒºé—´ã€‚ä¾‹å¦‚ åœ¨å°æ—¶ä¸Šè®¾ç½® â€œ10-12â€,è¡¨ç¤º 10,11,12ç‚¹éƒ½ä¼šè§¦å‘ã€‚, è¡¨ç¤ºæŒ‡å®šå¤šä¸ªå€¼ï¼Œä¾‹å¦‚åœ¨å‘¨å­—æ®µä¸Šè®¾ç½® â€œMON,WED,FRIâ€ è¡¨ç¤ºå‘¨ä¸€ï¼Œå‘¨ä¸‰å’Œå‘¨äº”è§¦å‘/ ç”¨äºé€’å¢è§¦å‘ã€‚å¦‚åœ¨ç§’ä¸Šé¢è®¾ç½®â€5/15â€ è¡¨ç¤ºä»5ç§’å¼€å§‹ï¼Œæ¯å¢15ç§’è§¦å‘(5,20,35,50)ã€‚ åœ¨æœˆå­—æ®µä¸Šè®¾ç½®â€™1/3â€™æ‰€ç¤ºæ¯æœˆ1å·å¼€å§‹ï¼Œæ¯éš”ä¸‰å¤©è§¦å‘ä¸€æ¬¡ã€‚L è¡¨ç¤ºæœ€åçš„æ„æ€ã€‚åœ¨æ—¥å­—æ®µè®¾ç½®ä¸Šï¼Œè¡¨ç¤ºå½“æœˆçš„æœ€åä¸€å¤©(ä¾æ®å½“å‰æœˆä»½ï¼Œå¦‚æœæ˜¯äºŒæœˆè¿˜ä¼šä¾æ®æ˜¯å¦æ˜¯æ¶¦å¹´[leap]), åœ¨å‘¨å­—æ®µä¸Šè¡¨ç¤ºæ˜ŸæœŸå…­ï¼Œç›¸å½“äºâ€7â€æˆ–â€SATâ€ã€‚å¦‚æœåœ¨â€Lâ€å‰åŠ ä¸Šæ•°å­—ï¼Œåˆ™è¡¨ç¤ºè¯¥æ•°æ®çš„æœ€åä¸€ä¸ªã€‚ä¾‹å¦‚åœ¨å‘¨å­—æ®µä¸Šè®¾ç½®â€6Lâ€è¿™æ ·çš„æ ¼å¼,åˆ™è¡¨ç¤ºâ€œæœ¬æœˆæœ€åä¸€ä¸ªæ˜ŸæœŸäº”â€W è¡¨ç¤ºç¦»æŒ‡å®šæ—¥æœŸçš„æœ€è¿‘é‚£ä¸ªå·¥ä½œæ—¥(å‘¨ä¸€è‡³å‘¨äº”). ä¾‹å¦‚åœ¨æ—¥å­—æ®µä¸Šè®¾ç½®â€15Wâ€ï¼Œè¡¨ç¤ºç¦»æ¯æœˆ15å·æœ€è¿‘çš„é‚£ä¸ªå·¥ä½œæ—¥è§¦å‘ã€‚å¦‚æœ15å·æ­£å¥½æ˜¯å‘¨å…­ï¼Œåˆ™æ‰¾æœ€è¿‘çš„å‘¨äº”(14å·)è§¦å‘, å¦‚æœ15å·æ˜¯å‘¨æœªï¼Œåˆ™æ‰¾æœ€è¿‘çš„ä¸‹å‘¨ä¸€(16å·)è§¦å‘.å¦‚æœ15å·æ­£å¥½åœ¨å·¥ä½œæ—¥(å‘¨ä¸€è‡³å‘¨äº”)ï¼Œåˆ™å°±åœ¨è¯¥å¤©è§¦å‘ã€‚å¦‚æœæŒ‡å®šæ ¼å¼ä¸º â€œ1Wâ€,å®ƒåˆ™è¡¨ç¤ºæ¯æœˆ1å·å¾€åæœ€è¿‘çš„å·¥ä½œæ—¥è§¦å‘ã€‚å¦‚æœ1å·æ­£æ˜¯å‘¨å…­ï¼Œåˆ™å°†åœ¨3å·ä¸‹å‘¨ä¸€è§¦å‘ã€‚(æ³¨ï¼Œâ€Wâ€å‰åªèƒ½è®¾ç½®å…·ä½“çš„æ•°å­—,ä¸å…è®¸åŒºé—´â€-â€œ).# åºå·(è¡¨ç¤ºæ¯æœˆçš„ç¬¬å‡ ä¸ªå‘¨å‡ )ï¼Œä¾‹å¦‚åœ¨å‘¨å­—æ®µä¸Šè®¾ç½®â€6#3â€è¡¨ç¤ºåœ¨æ¯æœˆçš„ç¬¬ä¸‰ä¸ªå‘¨å…­.æ³¨æ„å¦‚æœæŒ‡å®šâ€#5â€,æ­£å¥½ç¬¬äº”å‘¨æ²¡æœ‰å‘¨å…­ï¼Œåˆ™ä¸ä¼šè§¦å‘è¯¥é…ç½®(ç”¨åœ¨æ¯äº²èŠ‚å’Œçˆ¶äº²èŠ‚å†åˆé€‚ä¸è¿‡äº†) ï¼›å°æç¤ºï¼šâ€˜Lâ€™å’Œ â€˜Wâ€™å¯ä»¥ç»„åˆä½¿ç”¨ã€‚å¦‚æœåœ¨æ—¥å­—æ®µä¸Šè®¾ç½®â€LWâ€,åˆ™è¡¨ç¤ºåœ¨æœ¬æœˆçš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥è§¦å‘ï¼›å‘¨å­—æ®µçš„è®¾ç½®ï¼Œè‹¥ä½¿ç”¨è‹±æ–‡å­—æ¯æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œå³MON ä¸monç›¸åŒï¼›å‚è€ƒï¼šhttps://wuzhuti.cn/850.html/comment-page-1/https://wuzhuti.cn/447.html","categories":[{"name":"Javaåç«¯","slug":"Javaåç«¯","permalink":"https://blog.ihui.ink/categories/Javaåç«¯/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"è¡¨å•onsubmitäº‹ä»¶æ— æ•ˆ&è¡¨å•onsubmitåä½¿ç”¨ajaxæ— æ•ˆè§£å†³","slug":"onsubmit-ajax-error","date":"2019-08-17T12:02:47.000Z","updated":"2019-12-15T06:31:32.948Z","comments":true,"path":"2019/08/17/onsubmit-ajax-error/","link":"","permalink":"https://blog.ihui.ink/2019/08/17/onsubmit-ajax-error/","excerpt":"","text":"è¿™æ®µæ—¶é—´åœ¨å†™ä¸€ä¸ªh5+appï¼Œç”¨äºä¸€ä¸ªç»„é˜Ÿæ¯”èµ›é¡¹ç›®çš„appã€‚ç”±äºè‡ªèº«ä¹Ÿæ²¡æœ‰å¤šå°‘å‰ç«¯å¼€å‘çš„ç»éªŒï¼Œä¹Ÿå°±æ˜¯é—·ç€å¤´ä¸€ç›´ä¹±å†™ï¼Œåœ¨å¼€å‘ä¸­ä¹Ÿé‡åˆ°äº†å„ç§éš¾é¢˜ã€‚ä»Šå¤©åˆè§£å†³ä¸€å‘é—®é¢˜ï¼Œ(æ­¤å¤„éœ€è¦æŒå£°)ï¼Œ æˆå°±æ„Ÿï¼å…³äºç™»å½•è¡¨å•submitçš„é—®é¢˜è¿™ä¸ªè¿‡ç¨‹éœ€è¦ç”¨åˆ°çš„æŠ€æœ¯ä¸»è¦å°±æ˜¯ajaxæŠ€æœ¯å’Œjsçš„onsubmitæŠ€æœ¯ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š1.ç”¨æˆ·è¾“å…¥ ç”¨æˆ·åå’Œå¯†ç 2.å½“ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®æ—¶ï¼Œåˆ©ç”¨ajaxè¯·æ±‚åç«¯æ¥å£ è¿›è¡Œç”¨æˆ·åå¯†ç éªŒè¯ã€‚ä½†æ˜¯è¿™æ—¶å€™å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“ ç”¨æˆ·ç‚¹å‡»è¾“å…¥æ³•çš„ å‘é€ æäº¤ æŒ‰é’®çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€ä¹ˆéªŒè¯è¿™æ—¶å€™å°±éœ€è¦åŸç”Ÿjsçš„ onsubmit æ–¹æ³•äº†3.1 éªŒè¯ä¸é€šè¿‡ï¼Œonsubmitè¿”å›falseï¼Œè¡¨å•æ— æ³•æäº¤ï¼Œé¡µé¢æç¤ºç”¨æˆ·å¯†ç æœ‰é”™ã€‚3.2 éªŒè¯é€šè¿‡ï¼Œonsubmitè¿”å›trueï¼Œè¡¨å•æäº¤ï¼ŒæœåŠ¡å™¨è¿”å›ç”¨æˆ·å†…éƒ¨è§†å›¾ï¼Œç™»é™†æˆåŠŸã€‚åºŸè¯ä¸è¯´ä¸Šä»£ç 123456789101112131415161718192021222324252627282930313233343536373839// ç‚¹å‡»æ‰‹æœºé”®ç›˜ æäº¤æŒ‰é’®document.getElementById(\"login\").onsubmit = function() &#123; subData();&#125;;// ç‚¹å‡»ç™»å½•æŒ‰é’®document.getElementById(\"login-btn\").addEventListener('tap', function() &#123; subData();&#125;)function subData() &#123; // è·å–è¡¨å•æ•°æ® var data = getFormData(\"login\"); mui.ajax('http://192.168.1.142:8080/user/login.do', &#123; data: JSON.stringify(&#123; 'username': data.username, 'password': data.password &#125;), dataType: 'json', //æœåŠ¡å™¨è¿”å›jsonæ ¼å¼æ•°æ® type: 'post', //HTTPè¯·æ±‚ç±»å‹ timeout: 10000, //è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º10ç§’ï¼› // async: false, // åŒæ­¥æ–¹å¼æ˜¯ä¸ºäº†è§£å†³ æ‰‹æœºé”®ç›˜æäº¤æŒ‰é’® æäº¤è¡¨å•éªŒè¯bugçš„ contentType: 'application/json;charset=utf-8', // å°‘äº†ä¼šæŠ¥é”™ success: function(data) &#123; console.log(JSON.stringify(data)); if (data.status == 200) &#123; mui.toast(\"ç™»å½•æˆåŠŸ\") &#125; else if (data.status == -200) &#123; mui.toast(\"ç™»å½•å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•\") &#125; &#125;, error: function(xhr, type, errorThrown) &#123; console.log(\"error\"); &#125; &#125;);&#125;;å¦‚æœç”¨ä¸Šé¢çš„ä»£ç ï¼Œç‚¹å‡»æ‰‹æœºé”®ç›˜ æäº¤æŒ‰é’® æ˜¯æ— æ³•å®ŒæˆéªŒè¯æ“ä½œçš„ã€åŸå› ä¸Šé¢ä»£ç ç”¨çš„æ˜¯ å¼‚æ­¥çš„æ–¹å¼123456789&lt;script type=\"text/javascript\"&gt; function checkpwd()&#123; //1............ $.ajax(&#123; //2........ &#125;); //3......... &#125;&lt;/script&gt;å¦‚æœæ˜¯åŒæ­¥æ–¹å¼ï¼šå½“1æ‰§è¡Œå®Œæ¯•åï¼Œæ¥ç€æ‰§è¡Œajaxï¼Œçº¿ç¨‹ä¼šå¤„äºç­‰å¾…çŠ¶æ€ï¼Œç­‰2æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæ¥ç€æ‰§è¡Œ3.å¦‚æœæ˜¯å¼‚æ­¥æ–¹å¼ï¼šå½“1æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæ¥ç€æ‰§è¡Œajaxï¼Œä½†æ˜¯ajaxä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œajaxæ‰§è¡Œçš„åŒæ—¶ä¼šæ‰§è¡Œ3.ä¸‹é¢å±•ç¤ºé”™è¯¯çš„ajaxéªŒè¯æ–¹å¼ï¼š1234567891011121314151617181920212223// ç‚¹å‡»æ‰‹æœºé”®ç›˜ æäº¤æŒ‰é’®document.getElementById(\"login\").onsubmit = function() &#123; // 1........ mui.ajax('http://192.168.1.142:8080/user/login.do', &#123; // 2....... data: JSON.stringify(&#123; 'username': data.username, 'password': data.password &#125;), dataType: 'json', //æœåŠ¡å™¨è¿”å›jsonæ ¼å¼æ•°æ® type: 'post', //HTTPè¯·æ±‚ç±»å‹ contentType: 'application/json;charset=utf-8', // å°‘äº†ä¼šæŠ¥é”™ success: function(data) &#123; console.log(\"success\"); &#125;, error: function(xhr, type, errorThrown) &#123; console.log(\"error\"); &#125; &#125;); // 3........&#125;;ä¸Šé¢çš„ä»£ç ï¼Œ å…ˆæ‰§è¡Œ 1 å æ‰§è¡Œ 2 ã€‚ä½†æ˜¯2 (ajax) ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œ2 (ajax) æ‰§è¡Œçš„åŒæ—¶ä¼šæ‰§è¡Œ3. è¿™æ—¶å€™3 æ²¡ç­‰éªŒè¯æˆåŠŸï¼Œç«‹é©¬è¿”å›falseå› æ­¤ï¼Œå½“ä½¿ç”¨å¼‚æ­¥æ–¹å¼è¿›è¡ŒéªŒè¯çš„æ—¶å€™ï¼Œä¼šå‡ºç°æ— è®ºå¦‚ä½•ï¼Œonsubmitï¼ˆonclickï¼‰éƒ½ä¸ä¼šèµ·ä½œç”¨ï¼Œè¿™ä¼šè®©ç¨‹åºå‘˜æ„Ÿè§‰è‡ªå·±çš„ä»£ç æœ‰é—®é¢˜ï¼Œå…¶å®ä»£ç æ²¡é—®é¢˜ï¼Œæ˜¯é€»è¾‘çš„é—®é¢˜ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç”¨ajaxçš„åŒæ­¥æ–¹å¼ã€‚è§£å†³æ–¹æ¡ˆæ”¹ä¸ºåŒæ­¥æ–¹å¼ ajax ä¸­æ·»åŠ 1async : false,å‚è€ƒæ–‡ç« æ–‡ç« 1","categories":[{"name":"HTML5+APP","slug":"HTML5-APP","permalink":"https://blog.ihui.ink/categories/HTML5-APP/"}],"tags":[{"name":"Webç§»åŠ¨ç«¯","slug":"Webç§»åŠ¨ç«¯","permalink":"https://blog.ihui.ink/tags/Webç§»åŠ¨ç«¯/"}]},{"title":"MybatisæŸ¥è¯¢parameterTypeå¤šå‚æ•°é—®é¢˜","slug":"MybatisæŸ¥è¯¢parameterTypeå¤šå‚æ•°é—®é¢˜","date":"2019-08-15T13:32:45.000Z","updated":"2019-12-13T12:44:05.353Z","comments":true,"path":"2019/08/15/MybatisæŸ¥è¯¢parameterTypeå¤šå‚æ•°é—®é¢˜/","link":"","permalink":"https://blog.ihui.ink/2019/08/15/MybatisæŸ¥è¯¢parameterTypeå¤šå‚æ•°é—®é¢˜/","excerpt":"","text":"MybatisæŸ¥è¯¢parameterTypeå¤šå‚æ•°é—®é¢˜ä¸€ã€å•ä¸ªå‚æ•°ï¼š123456List&lt;EntInfo&gt; findByUsername(String username);&lt;select id=\"findByUsername\" resultMap=\"EntInfoResultMap\" parameterType=\"java.lang.String\" &gt;.......&lt;/select&gt;å…¶ä¸­æ–¹æ³•åå’ŒIDä¸€è‡´ï¼Œ#{} ä¸­çš„å‚æ•°åä¸æ–¹æ³•ä¸­çš„å‚æ•°åä¸€è‡´ï¼Œ è¿™é‡Œé‡‡ç”¨çš„æ˜¯@Paramè¿™ä¸ªå‚æ•°ï¼Œå®é™…ä¸Š@Paramè¿™ä¸ªæœ€åä¼šè¢«Mabatiså°è£…ä¸ºmapç±»å‹çš„ã€‚select åçš„å­—æ®µåˆ—è¡¨è¦å’Œbeanä¸­çš„å±æ€§åä¸€è‡´ï¼Œ å¦‚æœä¸ä¸€è‡´çš„å¯ä»¥ç”¨ as æ¥è¡¥å……ã€‚äºŒã€å¤šå‚æ•°ï¼šæ–¹æ¡ˆ1123456789public List&lt;XXX&gt; getXXX(String xxId, String xxCode); &lt;select id=\"getXXX\" resultType=\"XXX\"&gt; // ä¸éœ€è¦å†™parameterTypeå‚æ•° select t.* from tableName where id = #&#123;0&#125; and name = #&#123;1&#125; &lt;/select&gt; // ç”±äºæ˜¯å¤šå‚æ•°é‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨parameterTypeï¼Œ æ”¹ç”¨#ï½›indexï½æ˜¯ç¬¬å‡ ä¸ªå°±ç”¨ç¬¬å‡ ä¸ªçš„ç´¢å¼•ï¼Œç´¢å¼•ä»0å¼€å§‹æ–¹æ¡ˆ2ï¼ˆæ¨èï¼‰åŸºäºæ³¨è§£1234567public List&lt;XXXBean&gt; getXXXBeanList(@Param(\"id\")String id, @Param(\"code\")String code); &lt;select id=\"getXXXBeanList\" resultType=\"XXBean\"&gt; select t.* from tableName where id = #&#123;id&#125; and name = #&#123;code&#125; &lt;/select&gt;ç”±äºæ˜¯å¤šå‚æ•°é‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨parameterTypeï¼Œ è¿™é‡Œç”¨@Paramæ¥æŒ‡å®šå“ªä¸€ä¸ªã€‚ä¸‰ã€mapå°è£…å¤šå‚æ•°ï¼šé€šè¿‡ä¼ å…¥mapå¯¹è±¡æŸ¥è¯¢ å¹¶è¿”å›userå¯¹è±¡çš„listé›†åˆç›´æ¥é€šè¿‡mapé‡Œé¢çš„keyç›´æ¥è®¿é—® #{key}123456public List&lt;User&gt; findUsersByMap(Map&lt;String, Object&gt; map);&lt;!-- 3. é€šè¿‡ä¼ å…¥mapå¯¹è±¡æŸ¥è¯¢ å¹¶è¿”å›userå¯¹è±¡çš„listé›†åˆ mapé‡Œé¢çš„å±æ€§ç›´æ¥è®¿é—® --&gt;&lt;select id=\"findUsersByMap\" parameterType=\"hashmap\" resultType=\"user\"&gt; select * from users where sex=#&#123;sex&#125; and username =#&#123;name&#125;&lt;/select&gt;å››ã€Listå°è£…å¤šä¸ªå‚æ•°ï¼š12345678910public List&lt;XXX&gt; getXXX(List&lt;String&gt; list); &lt;select id=\"getXXXBeanList\" resultType=\"XXBean\"&gt; select å­—æ®µ... from XXX where id in &lt;foreach item=\"item\" index=\"index\" collection=\"list\" open=\"(\" separator=\",\" close=\")\"&gt; #&#123;item&#125; &lt;/foreach&gt; &lt;/select&gt; // foreach æœ€åçš„æ•ˆæœæ˜¯select å­—æ®µ... from XXX where id in ('1','2','3','4')","categories":[{"name":"Javaåç«¯","slug":"Javaåç«¯","permalink":"https://blog.ihui.ink/categories/Javaåç«¯/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"HTML5+appå®ç°æ–‡ä»¶ä¸Šä¼ (javaåç«¯)","slug":"HTML5-appå®ç°æ–‡ä»¶ä¸Šä¼ -javaåç«¯","date":"2019-08-13T12:18:59.000Z","updated":"2019-12-15T07:09:28.166Z","comments":true,"path":"2019/08/13/HTML5-appå®ç°æ–‡ä»¶ä¸Šä¼ -javaåç«¯/","link":"","permalink":"https://blog.ihui.ink/2019/08/13/HTML5-appå®ç°æ–‡ä»¶ä¸Šä¼ -javaåç«¯/","excerpt":"","text":"ä»¥æ‹ç…§ä¸Šä¼ ï¼Œç›¸å†Œé€‰æ‹©å›¾ç‰‡ä¸Šä¼ ä¸ºä¾‹HTML5 Plus æ‹ç…§æˆ–è€…ç›¸å†Œé€‰æ‹©å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨èµ·å› ï¼šæ­£åœ¨å†™ä¸€ä¸ªäººè„¸è¯†åˆ«æ‰“å¡ç­¾åˆ°çš„webAppï¼Œå…¶ä¸­éœ€è¦ä¸€ä¸ªæ‹æ‘„ç…§ç‰‡å¹¶ä¸Šä¼ æœåŠ¡å™¨çš„åŠŸèƒ½é€šè¿‡é˜…è¯»h5+å®˜æ–¹æ–‡æ¡£ äº†è§£åˆ°æœ‰ç›¸å†Œ ã€ç›¸æœºã€ æ–‡ä»¶ä¸Šä¼ ç­‰æ¥å£ä¸‹é¢å­¦ä¹ è¿™å‡ ä¸ªapiï¼š1ã€ä»å›¾åº“é€‰æ‹©å›¾ç‰‡1234567891011121314151617181920212223242526272829303132plus.gallery.pick( function(path) &#123; // pathä¸ºé€‰æ‹©å›¾ç‰‡çš„è·¯å¾„ // ä¸‹é¢å°†å›¾ç‰‡æ˜¾ç¤ºåœ¨ç•Œé¢ hui('#img3 div').hide(); hui('#img3 img').attr('src', path); hui('#img3 img').show(); // ä¸Šä¼ æ–‡ä»¶ imgUpload(path); &#125;, function(e) &#123; hui.toast(\"ä¸Šä¼ å¤±è´¥\"); &#125;, &#123; filter: 'image', system: false &#125;)// é€‰æ‹©å¤šå¼ å›¾ç‰‡plus.gallery.pick( function(paths)&#123; for(i in paths.files)&#123; hui.toast(paths.files[i]); //imgUpload(path); &#125; &#125;, function(e)&#123; hui.toast('å–æ¶ˆäº†é€‰æ‹©'); &#125;,&#123; filter: 'image', multiple: true, maximum: 5 &#125;);2ã€ç›¸æœºè·å–å›¾ç‰‡123456789101112131415plus.camera.getCamera().captureImage( function(path) &#123; // è¿™ä¸ªpath ä¸èƒ½ç›´æ¥ä½¿ç”¨ æ˜¯ç›¸å¯¹çš„ éœ€è¦è¿›è¡Œè·¯å¾„è½¬æ¢ var url = \"file://\" + plus.io.convertLocalFileSystemURL(path); // è·¯å¾„è½¬æ¢ hui('#img2 div').hide(); hui('#img2 img').attr('src', path); hui('#img2 img').show(); imgUpload(path); &#125;, function(e) &#123; hui.toast(\"ä¸Šä¼ å¤±è´¥\"); &#125;, &#123; index: 2 // æ‹ç…§æ—¶é»˜è®¤çš„æ‘„åƒå¤´ 1åç½® 2 å‰ç½® &#125;)3ã€uploaderæ–‡ä»¶ä¸Šä¼ åŸç†åº”è¯¥å°±æ˜¯é€šè¿‡http çš„postè¯·æ±‚ä¸Šä¼ æ–‡ä»¶12345678910111213141516171819202122232425/** * å›¾ç‰‡ä¸Šä¼ ï¼ˆjavaåç«¯æµ‹è¯•æˆåŠŸï¼‰ * @param &#123;Object&#125; path */function imgUpload(path) &#123; plus.nativeUI.showWaiting(); var task = plus.uploader.createUpload( 'http://192.168.1.142:8080/img/upload.do', &#123; method: \"POST\" &#125;, function(resp, status) &#123; if (status == 200) &#123; plus.nativeUI.closeWaiting(); console.log(resp.responseText); mui.toast('ä¸Šä¼ æˆåŠŸ'); &#125; else &#123; mui.toast('ä¸Šä¼ å¤±è´¥'); plus.nativeUI.closeWaiting(); &#125; &#125; ); task.addFile(path, &#123;key: 'file'&#125;); // è¿™é‡Œå¿…é¡»å’Œ javaåç«¯çš„ @RequestParam(value = \"file\") å¯¹åº” task.addData(\"name\", \"test\"); task.start();&#125;ä»£ç å°±æ˜¯ä¸Šè¿°æ‰€å†™ï¼Œserverä¸ºä¸Šä¼ çš„æœåŠ¡ç«¯æ¥å£åœ°å€ï¼Œå¦‚æœä¸Šä¼ æˆåŠŸï¼Œåˆ™å›è°ƒçš„statusä¼šè¿”å›200ï¼Œä¸æˆåŠŸæˆ–è€…æ¥å£å‚æ•°æœ‰é—®é¢˜ä¼šè¿”å›400æˆ–è€…500ã€‚resp.responseText æœåŠ¡ç«¯è¿”å›çš„ç»“æœï¼Œä¸€èˆ¬æœåŠ¡ç«¯ä¼šè¿”å›jsonï¼Œè§£æä¸€ä¸‹jsonå°±å¯ä»¥ä½¿ç”¨äº†ã€‚ä¼ è¾“å…¶ä»–æ–‡ä»¶æ—¶å¦‚æœè¿˜æƒ³æ·»åŠ å…¶ä»–å‚æ•°ï¼Œç”¨.addData(key,value),æ·»åŠ å›¾ç‰‡ç”¨.addFile(å›¾ç‰‡è·¯å¾„ï¼Œ{key:åç«¯æ¥æ”¶æ–‡ä»¶çš„åå­—})ï¼Œ è¿™ä¸ªkeyå¿…é¡»å’Œåç«¯æ¥æ”¶åå­—å¯¹åº”é…åˆåç«¯ä»£ç çœ‹ä¼šå¥½ç†è§£ï¼Œåç«¯æˆ‘ç”¨javaæ¥æ”¶çš„ï¼š4ã€Javaåç«¯æ¥æ”¶å¹¶ä¿å­˜ç”¨æ ‡å‡†çš„MultipartFileæ¥æ”¶å³å¯ã€‚æ³¨æ„xmlé™åˆ¶çš„å¤§å°è®¾å®šspringMVC.xml123456&lt;!--é…ç½®æ–‡ä»¶ä¸Šä¼ --&gt;&lt;bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt; &lt;property name=\"defaultEncoding\" value=\"UTF-8\" /&gt; &lt;!--å•ä½å­—èŠ‚--&gt; &lt;property name=\"maxUploadSize\" value=\"20480000\"/&gt;&lt;/bean&gt;1234567891011121314151617181920212223242526272829303132333435@RequestMapping(value = \"/upload\", produces = \"text/html;charset=utf-8\")@ResponseBodypublic String uploadImg(@RequestParam(value = \"file\") MultipartFile file, HttpServletRequest request) &#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); try &#123; String oriFilename = file.getOriginalFilename(); // è·å–æ–‡ä»¶åç¼€ String fileType = oriFilename.substring(oriFilename.lastIndexOf(\".\") + 1, oriFilename.length()).toLowerCase(); // å­˜å‚¨è·¯å¾„ String basePath = \"/Users/qxqzx/Desktop/img/\"; // ä¿å­˜çš„æ–‡ä»¶åå­— String saveName = String.valueOf(new Date().getTime()) + \".\" + fileType; File dst = new File(basePath, saveName); if (!dst.getParentFile().exists()) &#123; dst.mkdirs(); &#125; file.transferTo(dst); // å†™å…¥æœ¬åœ° map.put(\"success\", true); map.put(\"code\", \"200\"); map.put(\"msg\", \"å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼\"); &#125; catch (IOException e) &#123; e.printStackTrace(); map.put(\"success\", false); map.put(\"code\", \"-200\"); map.put(\"msg\", \"å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼\"); &#125; return JSON.toJSONString(map);&#125;æš‚æ—¶æ€»ç»“åˆ°è¿™, ç­‰åç»­è¡¥å……","categories":[{"name":"HTML5+APP","slug":"HTML5-APP","permalink":"https://blog.ihui.ink/categories/HTML5-APP/"}],"tags":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"https://blog.ihui.ink/tags/Webå‰ç«¯/"},{"name":"Java","slug":"Java","permalink":"https://blog.ihui.ink/tags/Java/"}]},{"title":"hexo æŠ¥é”™ Cannot read property 'replace' of null","slug":"hexo-æŠ¥é”™-Cannot-read-property-replace-of-null","date":"2019-08-12T11:41:24.000Z","updated":"2019-08-12T11:45:05.625Z","comments":true,"path":"2019/08/12/hexo-æŠ¥é”™-Cannot-read-property-replace-of-null/","link":"","permalink":"https://blog.ihui.ink/2019/08/12/hexo-æŠ¥é”™-Cannot-read-property-replace-of-null/","excerpt":"","text":"hexoé…ç½®æ–‡ä»¶è¿›è¡Œç›¸åº”çš„ä¿®æ”¹1234deploy: type: git repo: https://github.com/qxqzx/qxqzx.github.io.git branch: masteræ‰§è¡Œå‘½ä»¤1hexo g -då°±æŠ¥é”™äº†ï¼š1FATAL Cannot read property &apos;replace&apos; of nullè§£å†³ï¼šçœ‹å¸–å­éƒ½æ˜¯è¯´ _config.yml é…ç½®æ–‡ä»¶ä¸­çš„url è®¾ç½®é”™è¯¯æˆ‘çš„è®¾ç½®ï¼š12345# URL## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; url: root: /permalink: :year/:month/:day/:title/permalink_defaults:çœ‹äº†ä¸‹urlæœç„¶æœ‰é”™ï¼ŒåŠ ä¸Šurlåå¥½äº†æ‰§è¡Œ hexo g -d æˆåŠŸã€‚å‚è€ƒé“¾æ¥hexo issues #2006hexo issues #2141cd2want","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://blog.ihui.ink/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://blog.ihui.ink/tags/Hexo/"}]},{"title":"æ–°å¯ç¨‹ï¼Œä¸€ä¸ªæ–°çš„å¼€å§‹","slug":"æ–°å¯ç¨‹ï¼Œä¸€ä¸ªæ–°çš„å¼€å§‹","date":"2019-08-12T11:36:24.000Z","updated":"2019-08-12T11:40:46.281Z","comments":true,"path":"2019/08/12/æ–°å¯ç¨‹ï¼Œä¸€ä¸ªæ–°çš„å¼€å§‹/","link":"","permalink":"https://blog.ihui.ink/2019/08/12/æ–°å¯ç¨‹ï¼Œä¸€ä¸ªæ–°çš„å¼€å§‹/","excerpt":"","text":"è¿™æ˜¯ä¸€ä¸ªå…¨æ–°å¼€å§‹å»ºç«‹è¿™ä¸ªæ–°çš„ç«™ç‚¹ï¼Œæ¥è®°å½•ä¸€äº›ä¸œè¥¿ã€‚ä»¥å‰çš„ç«™ç‚¹ ç”¨çš„æ˜¯typechoå·²ç»é¸½äº†ä¸€ä¸ªæœˆï¼Œæ²¡æ›´æ–°å†…å®¹ã€‚ä¸åœ¨æ‰“ç®—æ›´æ–°ã€‚ä»Šå¤©å¼€å§‹ è½¬ä¸º Hexoç«™ç‚¹ï¼ŒåŸå› æ˜¯ è¿™ä¸ªä¸»é¢˜å¤ªå¥½çœ‹äº†","categories":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.ihui.ink/categories/æ‚è°ˆ/"}],"tags":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.ihui.ink/tags/æ‚è°ˆ/"}]}]}